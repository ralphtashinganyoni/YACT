{"version":3,"file":"angular-modal-gallery.js","sources":["ts/angular-modal-gallery.ts","ts/index.ts","ts/src/modal-gallery.module.ts","ts/src/components/components.ts","ts/src/components/plain-gallery/plain-gallery.component.ts","ts/src/components/current-image/loading-spinner/loading-spinner.component.ts","ts/src/components/previews/previews.component.ts","ts/src/components/dots/dots.component.ts","ts/src/components/upper-buttons/upper-buttons.component.ts","ts/src/components/upper-buttons/upper-buttons-default.ts","ts/src/model/buttons-config.interface.ts","ts/src/components/modal-gallery/modal-gallery.component.ts","ts/src/components/accessibility-default.ts","ts/src/model/plain-gallery-config.interface.ts","ts/src/components/current-image/current-image.component.ts","ts/src/utils/image.util.ts","ts/src/model/loading-config.interface.ts","ts/src/model/keyboard.enum.ts","ts/src/model/description.interface.ts","ts/src/components/accessible.component.ts","ts/src/utils/user-input.util.ts","ts/src/services/gallery.service.ts","ts/src/services/keyboard.service.ts","ts/src/model/action.enum.ts","ts/src/model/image.class.ts","ts/src/components/background/background.component.ts","ts/src/directives/directives.ts","ts/src/directives/description.directive.ts","ts/src/directives/a-tag-bg-image.directive.ts","ts/src/directives/direction.directive.ts","ts/src/directives/wrap.directive.ts","ts/src/directives/keyboard-navigation.directive.ts","ts/src/directives/size.directive.ts","ts/src/directives/click-outside.directive.ts"],"sourcesContent":["/**\n * Generated bundle index. Do not edit.\n */\n\nexport {ModalGalleryModule,Action,Image,PlainImage,ModalImage,ImageModalEvent,Description,DescriptionStrategy,KeyboardConfig,DotsConfig,PreviewConfig,AccessibilityConfig,Size,ButtonsConfig,ButtonsStrategy,ButtonType,ButtonEvent,GalleryService,CurrentImageConfig,KS_DEFAULT_ACCESSIBILITY_CONFIG,KS_DEFAULT_BTN_CLOSE,KS_DEFAULT_BTN_DELETE,KS_DEFAULT_BTN_DOWNLOAD,KS_DEFAULT_BTN_EXTURL,KS_DEFAULT_SIZE,PlainGalleryConfig,PlainGalleryLayout,LineLayout,GridLayout,AdvancedLayout,PlainGalleryStrategy,BreakConfig} from './index';\n\nexport {AccessibleComponent as ɵh} from './src/components/accessible.component';\nexport {BackgroundComponent as ɵe} from './src/components/background/background.component';\nexport {COMPONENTS as ɵc} from './src/components/components';\nexport {CurrentImageComponent as ɵg} from './src/components/current-image/current-image.component';\nexport {LoadingSpinnerComponent as ɵo} from './src/components/current-image/loading-spinner/loading-spinner.component';\nexport {DotsComponent as ɵm} from './src/components/dots/dots.component';\nexport {ModalGalleryComponent as ɵd} from './src/components/modal-gallery/modal-gallery.component';\nexport {PlainGalleryComponent as ɵf} from './src/components/plain-gallery/plain-gallery.component';\nexport {PreviewsComponent as ɵn} from './src/components/previews/previews.component';\nexport {UpperButtonsComponent as ɵl} from './src/components/upper-buttons/upper-buttons.component';\nexport {ATagBgImageDirective as ɵv} from './src/directives/a-tag-bg-image.directive';\nexport {ClickOutsideDirective as ɵq} from './src/directives/click-outside.directive';\nexport {DescriptionDirective as ɵw} from './src/directives/description.directive';\nexport {DirectionDirective as ɵu} from './src/directives/direction.directive';\nexport {DIRECTIVES as ɵp} from './src/directives/directives';\nexport {KeyboardNavigationDirective as ɵs} from './src/directives/keyboard-navigation.directive';\nexport {SizeDirective as ɵr} from './src/directives/size.directive';\nexport {WrapDirective as ɵt} from './src/directives/wrap.directive';\nexport {setupGalleryService as ɵb,setupKeyboardService as ɵa} from './src/modal-gallery.module';\nexport {KeyboardServiceConfig as ɵk} from './src/model/keyboard-service-config.interface';\nexport {KEYBOARD_CONFIGURATION as ɵi,KeyboardService as ɵj} from './src/services/keyboard.service';","/*\n The MIT License (MIT)\n\n Copyright (c) 2017-2018 Stefano Cappa (Ks89)\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in all\n copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NON INFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n SOFTWARE.\n */\n\n/**\n * Index file to export all interfaces, enums, classes and so on.\n * This file represents the public apis.\n */\n\nexport { ModalGalleryModule } from './src/modal-gallery.module';\n\nexport { Action } from './src/model/action.enum';\nexport { Image, PlainImage, ModalImage, ImageModalEvent } from './src/model/image.class';\nexport { Description, DescriptionStrategy } from './src/model/description.interface';\nexport { KeyboardConfig } from './src/model/keyboard-config.interface';\nexport { DotsConfig } from './src/model/dots-config.interface';\nexport { PreviewConfig } from './src/model/preview-config.interface';\nexport { AccessibilityConfig } from './src/model/accessibility.interface';\n\nexport { Size } from './src/model/size.interface';\n\nexport { ButtonsConfig, ButtonsStrategy, ButtonType, ButtonEvent } from './src/model/buttons-config.interface';\n\nexport { GalleryService } from './src/services/gallery.service';\n\nexport { CurrentImageConfig } from './src/model/current-image-config.interface';\n\nexport { KS_DEFAULT_ACCESSIBILITY_CONFIG } from './src/components/accessibility-default';\nexport {\n  KS_DEFAULT_BTN_CLOSE,\n  KS_DEFAULT_BTN_DELETE,\n  KS_DEFAULT_BTN_DOWNLOAD,\n  KS_DEFAULT_BTN_EXTURL,\n  // KS_DEFAULT_BTN_REFRESH,\n  KS_DEFAULT_SIZE\n} from './src/components/upper-buttons/upper-buttons-default';\n\nexport {\n  PlainGalleryConfig,\n  PlainGalleryLayout,\n  LineLayout,\n  GridLayout,\n  AdvancedLayout,\n  PlainGalleryStrategy,\n  BreakConfig\n} from './src/model/plain-gallery-config.interface';\n","/*\n The MIT License (MIT)\n\n Copyright (c) 2017-2018 Stefano Cappa (Ks89)\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in all\n copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NON INFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n SOFTWARE.\n */\n\n\nimport { ModuleWithProviders, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { DIRECTIVES } from './directives/directives';\nimport { COMPONENTS, ModalGalleryComponent } from './components/components';\nimport { KEYBOARD_CONFIGURATION, KeyboardService } from './services/keyboard.service';\nimport { KeyboardServiceConfig } from './model/keyboard-service-config.interface';\nimport { GalleryService } from './services/gallery.service';\n/**\n * Module with `forRoot` method to import it in the root module of your application.\n */\nexport class ModalGalleryModule {\n/**\n * @param {?=} config\n * @return {?}\n */\nstatic forRoot(config?: KeyboardServiceConfig): ModuleWithProviders {\n    return {\n      ngModule: ModalGalleryModule,\n      providers: [\n        {\n          provide: KEYBOARD_CONFIGURATION,\n          useValue: config ? config : {}\n        },\n        {\n          provide: KeyboardService,\n          useFactory: setupKeyboardService,\n          deps: [KEYBOARD_CONFIGURATION]\n        },\n        {\n          provide: GalleryService,\n          useFactory: setupGalleryService\n        }\n      ]\n    };\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: NgModule, args: [{\n  imports: [CommonModule],\n  declarations: [COMPONENTS, DIRECTIVES],\n  exports: [ModalGalleryComponent]\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction ModalGalleryModule_tsickle_Closure_declarations() {\n/** @type {?} */\nModalGalleryModule.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nModalGalleryModule.ctorParameters;\n}\n\n/**\n * Function to setup the keyboard service inside the `forRoot` method.\n * @param {?} injector\n * @return {?}\n */\nexport function setupKeyboardService(injector: KeyboardServiceConfig): KeyboardService {\n  return new KeyboardService(injector);\n}\n/**\n * @return {?}\n */\nexport function setupGalleryService(): GalleryService {\n  return new GalleryService();\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","/*\n The MIT License (MIT)\n\n Copyright (c) 2017 Stefano Cappa (Ks89)\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in all\n copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NON INFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n SOFTWARE.\n */\n\n\nimport { BackgroundComponent } from './background/background.component';\nimport { ModalGalleryComponent } from './modal-gallery/modal-gallery.component';\nimport { UpperButtonsComponent } from './upper-buttons/upper-buttons.component';\nimport { DotsComponent } from './dots/dots.component';\nimport { PreviewsComponent } from './previews/previews.component';\nimport { CurrentImageComponent } from './current-image/current-image.component';\nimport { LoadingSpinnerComponent } from './current-image/loading-spinner/loading-spinner.component';\nimport { AccessibleComponent } from './accessible.component';\nimport { PlainGalleryComponent } from './plain-gallery/plain-gallery.component';\n\nexport { ModalGalleryComponent } from './modal-gallery/modal-gallery.component';\n/**\n * Array of all components.\n */\nexport const COMPONENTS = [\n  BackgroundComponent,\n  PlainGalleryComponent,\n  ModalGalleryComponent,\n  UpperButtonsComponent,\n  DotsComponent,\n  PreviewsComponent,\n  CurrentImageComponent,\n  LoadingSpinnerComponent,\n  AccessibleComponent\n];\n","/*\n The MIT License (MIT)\n\n Copyright (c) 2017-2018 Stefano Cappa (Ks89)\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in all\n copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NON INFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n SOFTWARE.\n */\n\n\nimport { ChangeDetectionStrategy, Component, EventEmitter, Input, OnChanges, OnInit, Output, SimpleChange, SimpleChanges } from '@angular/core';\n\nimport { AccessibilityConfig } from '../../model/accessibility.interface';\nimport { Image } from '../../model/image.class';\nimport { Size } from '../../model/size.interface';\nimport { AdvancedLayout, GridLayout, LineLayout, PlainGalleryConfig, PlainGalleryStrategy } from '../../model/plain-gallery-config.interface';\n\nimport { getIndex } from '../../utils/image.util';\n/**\n * Component with the gallery of thumbs.\n * In receives an array of Images, a boolean to show/hide\n * the gallery (feature used by imagePointer) and a config\n * object to customize the behaviour of this component.\n * Also, it emits click events as outputs.\n */\nexport class PlainGalleryComponent implements OnInit, OnChanges {\n/**\n * Array of `Image` that represent the model of this library with all images, thumbs and so on.\n */\nimages: Image[];\n/**\n * Boolean to show/hide plain gallery. If true the plain gallery will be visible, false otherwise.\n */\nshowGallery: boolean;\n/**\n * Object of type `PlainGalleryConfig` to configure the plain gallery.\n */\nplainGalleryConfig: PlainGalleryConfig;\n/**\n * Object of type `AccessibilityConfig` to init custom accessibility features.\n * For instance, it contains titles, alt texts, aria-labels and so on.\n */\naccessibilityConfig: AccessibilityConfig;\n/**\n * Output to emit an event when an image is changed.\n */\nshow: EventEmitter<number> = new EventEmitter<number>();\n/**\n * Object of type `PlainGalleryConfig` to configure this component.\n */\nconfigPlainGallery: PlainGalleryConfig;\n/**\n * Bi-dimensional array of `Image` object to store images to display as plain gallery.\n * [] by default.\n */\nimageGrid: Image[][] = [];\n/**\n * Size object used in the template to resize images.\n */\nsize: Size;\n/**\n * Boolean passed as input to `ks-wrap` directive to configure flex-wrap css property.\n * However it's not enough, because you need to limit the width using `widthStyle` public variable.\n * For more info check https://developer.mozilla.org/it/docs/Web/CSS/flex-wrap\n */\nwrapStyle = false;\n/**\n * String passed as input to `ks-wrap` directive to set width to be able to force overflow.\n * In this way, `wrapStyle` (flex-wrap css property) will be used as requested.\n */\nwidthStyle = '';\n/**\n * String passed as input to `ks-direction` directive to set the flex-direction css property.\n * For more info check https://developer.mozilla.org/it/docs/Web/CSS/flex-direction\n */\ndirectionStyle: string;\n/**\n * String passed as input to `ks-direction` directive to set the justify-content css property.\n * For more info check https://developer.mozilla.org/it/docs/Web/CSS/justify-content\n */\njustifyStyle: string;\n/**\n * Default image size object\n */\nprivate defaultSize: Size = { width: '50px', height: 'auto' };\n/**\n * Default layout config object\n * Note that length=-1 means infinity\n */\nprivate defaultLayout: LineLayout = new LineLayout(this.defaultSize, { length: -1, wrap: false }, 'flex-start');\n/**\n * Default plain gallery config object\n */\nprivate defaultPlainConfig: PlainGalleryConfig = {\n    strategy: PlainGalleryStrategy.ROW,\n    layout: this.defaultLayout,\n    advanced: { aTags: false, additionalBackground: '50% 50%/cover' }\n  };\n/**\n * Method ´ngOnInit´ to init both `configPlainGallery` calling `initPlainGalleryConfig()`\n * and `imageGrid invoking `initImageGrid()`.\n * This is an Angular's lifecycle hook, so its called automatically by Angular itself.\n * In particular, it's called only one time!!!\n * @return {?}\n */\nngOnInit() {\n    this.configPlainGallery = this.initPlainGalleryConfig();\n    this.initImageGrid();\n  }\n/**\n * Method ´ngOnChanges´ to update both `imageGrid` and`configPlainGallery`.\n * This is an Angular's lifecycle hook, so its called automatically by Angular itself.\n * In particular, it's called when any data-bound property of a directive changes!!!\n * @param {?} changes\n * @return {?}\n */\nngOnChanges(changes: SimpleChanges) {\n    const /** @type {?} */ imagesChange: SimpleChange = changes.images;\n    const /** @type {?} */ configChange: SimpleChange = changes.plainGalleryConfig;\n\n    // I'm using !change.firstChange because the first time will be called both onInit and onChange and I don't\n    // want to execute initialization two times.\n    if (\n      configChange &&\n      !configChange.firstChange &&\n      (configChange.previousValue !== configChange.currentValue || (!configChange.previousValue && !configChange.currentValue))\n    ) {\n      this.configPlainGallery = this.initPlainGalleryConfig();\n    }\n    if (imagesChange && !imagesChange.firstChange && imagesChange.previousValue !== imagesChange.currentValue) {\n      this.initImageGrid();\n    }\n  }\n/**\n * Method called when you click on an image of the plain (or inline) gallery.\n * This will emit the show event with the index number as payload.\n * @param {?} index\n * @return {?}\n */\nshowModalGallery(index: number) {\n    this.show.emit(index);\n  }\n/**\n * Method called when you click on an image of the plain (or inline) gallery.\n * This will emit the show event with the image as payload.\n * @param {?} img\n * @return {?}\n */\nshowModalGalleryByImage(img: Image) {\n    const /** @type {?} */ index: number = this.images.findIndex((val: Image) => val && img && val.id === img.id);\n    this.showModalGallery(index);\n  }\n/**\n * Method to get `alt attribute`.\n * `alt` specifies an alternate text for an image, if the image cannot be displayed.\n * @param {?} image\n * @return {?}\n */\ngetAltPlainDescriptionByImage(image: Image): string {\n    if (!image) {\n      return '';\n    }\n    return image.plain && image.plain.description ? image.plain.description : `Image ${getIndex(image, this.images) + 1}`;\n  }\n/**\n * Method to get the title for an image.\n * @param {?} image\n * @return {?}\n */\ngetTitleDisplay(image: Image): string {\n    let /** @type {?} */ description = '';\n\n    if (image.plain && image.plain.description) {\n      description = image.plain.description;\n    } else if (image.modal && image.modal.description) {\n      description = image.modal.description;\n    }\n\n    const /** @type {?} */ currentIndex: number = getIndex(image, this.images);\n    const /** @type {?} */ prevDescription: string = 'Image ' + (currentIndex + 1) + '/' + this.images.length;\n    let /** @type {?} */ currImgDescription: string = description ? description : '';\n\n    if (currImgDescription !== '') {\n      currImgDescription = ' - ' + currImgDescription;\n    }\n    return prevDescription + currImgDescription;\n  }\n/**\n * Method used in the template to track ids in ngFor.\n * @param {?} index\n * @param {?} item\n * @return {?}\n */\ntrackById(index: number, item: Image): number {\n    return item.id;\n  }\n/**\n * Private method to build and return a `PlainGalleryConfig` object, proving also default values.\n * @throws an Error if layout and strategy aren't compatible\n * @return {?}\n */\nprivate initPlainGalleryConfig(): PlainGalleryConfig {\n    const /** @type {?} */ config: PlainGalleryConfig = Object.assign({}, this.defaultPlainConfig, this.plainGalleryConfig);\n\n    if (config.layout instanceof LineLayout) {\n      if (config.strategy !== PlainGalleryStrategy.ROW && config.strategy !== PlainGalleryStrategy.COLUMN) {\n        throw new Error('LineLayout requires either ROW or COLUMN strategy');\n      }\n      if (!config.layout || !config.layout.breakConfig) {\n        throw new Error('Both layout and breakConfig must be valid');\n      }\n    }\n\n    if (config.layout instanceof GridLayout) {\n      if (config.strategy !== PlainGalleryStrategy.GRID) {\n        throw new Error('GridLayout requires GRID strategy');\n      }\n      if (!config.layout || !config.layout.breakConfig) {\n        throw new Error('Both layout and breakConfig must be valid');\n      }\n      // force wrap for grid layout\n      config.layout.breakConfig.wrap = true;\n    }\n\n    if (config.layout instanceof AdvancedLayout) {\n      if (config.strategy !== PlainGalleryStrategy.CUSTOM) {\n        throw new Error('AdvancedLayout requires CUSTOM strategy');\n      }\n    }\n    return config;\n  }\n/**\n * Private method to init both `imageGrid` and other style variables,\n * based on the layout type.\n * @return {?}\n */\nprivate initImageGrid() {\n    const /** @type {?} */ config: PlainGalleryConfig = this.configPlainGallery;\n\n    // reset the array to prevent issues in case of GridLayout\n    this.imageGrid = [];\n\n    if (config.layout instanceof LineLayout) {\n      const /** @type {?} */ layout: LineLayout = config.layout;\n      const /** @type {?} */ row: Image[] = this.images.filter((val: Image, i: number) => i < layout.breakConfig.length || layout.breakConfig.length === -1);\n      this.imageGrid = [row];\n\n      this.size = config.layout.size;\n\n      switch (config.strategy) {\n        case PlainGalleryStrategy.ROW:\n          this.directionStyle = 'row';\n          break;\n        case PlainGalleryStrategy.COLUMN:\n          this.directionStyle = 'column';\n          this.wrapStyle = layout.breakConfig.wrap;\n          break;\n      }\n      this.justifyStyle = layout.justify;\n    }\n\n    if (config.layout instanceof GridLayout) {\n      const /** @type {?} */ layout: GridLayout = config.layout;\n      const /** @type {?} */ count: number = Math.ceil(this.images.length / layout.breakConfig.length);\n      let /** @type {?} */ start = 0;\n      let /** @type {?} */ end: number = layout.breakConfig.length - 1;\n\n      for (let /** @type {?} */ j = 0; j < count; j++) {\n        const /** @type {?} */ row: Image[] = this.images.filter((val: Image, i: number) => i >= start && i <= end);\n        this.imageGrid.push(row);\n        start = end + 1;\n        end = start + layout.breakConfig.length - 1;\n      }\n\n      this.size = config.layout.size;\n\n      const /** @type {?} */ pixels: number = +layout.size.width.replace('px', '');\n\n      this.widthStyle = pixels * layout.breakConfig.length + pixels / 2 + 'px';\n      this.wrapStyle = layout.breakConfig.wrap;\n\n      this.directionStyle = 'row';\n    }\n\n    if (config.layout instanceof AdvancedLayout) {\n      this.imageGrid = [this.images];\n    }\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'ks-plain-gallery',\n  styles: [`\n    .plain-container {\n      -webkit-box-align: center;\n              align-items: center;\n      display: -webkit-box;\n      display: flex; }\n      .plain-container .image {\n        cursor: pointer;\n        height: auto;\n        margin-left: 2px;\n        margin-right: 2px;\n        width: 50px; }\n      .plain-container .a-tag-image {\n        cursor: pointer;\n        margin-left: 2px;\n        margin-right: 2px; }\n  `],\n  template: `\n    <div *ngIf=\"showGallery\"\n         class=\"plain-container\"\n         ksWrap [wrap]=\"wrapStyle\" [width]=\"widthStyle\"\n         ksDirection [direction]=\"directionStyle\" [justify]=\"justifyStyle\"\n         [attr.aria-label]=\"accessibilityConfig?.plainGalleryContentAriaLabel\"\n         [title]=\"accessibilityConfig?.plainGalleryContentTitle\">\n\n      <ng-container *ngFor=\"let imgRow of imageGrid; let i = index\">\n        <ng-container *ngFor=\"let imgCol of imgRow; let j = index\">\n\n          <ng-container *ngIf=\"!configPlainGallery.advanced?.aTags; else aTags\">\n            <img *ngIf=\"imgCol?.modal?.img\"\n                 [src]=\"imgCol.plain?.img ? imgCol.plain.img : imgCol.modal.img\"\n                 class=\"image\"\n                 ksSize [sizeConfig]=\"{width: size?.width, height: size?.height}\"\n                 [attr.aria-label]=\"imgCol.plain?.ariaLabel\"\n                 [title]=\"imgCol.plain?.title ? imgCol.plain.title : getTitleDisplay(imgCol)\"\n                 alt=\"{{imgCol.plain?.alt ? imgCol.plain.alt : getAltPlainDescriptionByImage(imgCol)}}\"\n                 [tabindex]=\"0\" role=\"img\"\n                 (click)=\"showModalGalleryByImage(imgCol)\" (keyup)=\"showModalGalleryByImage(imgCol)\"/>\n          </ng-container>\n\n          <!-- Add directive to set background with the image url as param to pass thumb or img-->\n          <!-- to do something like this <a style=\"background: url('path to image') 50% 50%/cover\">.-->\n          <ng-template #aTags>\n            <a *ngIf=\"imgCol?.modal?.img\"\n               class=\"a-tag-image\"\n               ksATagBgImage [image]=\"imgCol\" [style]=\"configPlainGallery.advanced?.additionalBackground\"\n               ksSize [sizeConfig]=\"{width: size?.width, height: size?.height}\"\n               [attr.aria-label]=\"imgCol.plain?.ariaLabel\"\n               [title]=\"imgCol.plain?.title ? imgCol.plain.title : getTitleDisplay(imgCol)\"\n               [tabindex]=\"0\"\n               (click)=\"showModalGallery(j)\" (keyup)=\"showModalGallery(j)\"></a>\n          </ng-template>\n\n        </ng-container>\n      </ng-container>\n\n    </div>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'images': [{ type: Input },],\n'showGallery': [{ type: Input },],\n'plainGalleryConfig': [{ type: Input },],\n'accessibilityConfig': [{ type: Input },],\n'show': [{ type: Output },],\n};\n}\n\nfunction PlainGalleryComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nPlainGalleryComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nPlainGalleryComponent.ctorParameters;\n/** @type {?} */\nPlainGalleryComponent.propDecorators;\n/**\n * Array of `Image` that represent the model of this library with all images, thumbs and so on.\n * @type {?}\n */\nPlainGalleryComponent.prototype.images;\n/**\n * Boolean to show/hide plain gallery. If true the plain gallery will be visible, false otherwise.\n * @type {?}\n */\nPlainGalleryComponent.prototype.showGallery;\n/**\n * Object of type `PlainGalleryConfig` to configure the plain gallery.\n * @type {?}\n */\nPlainGalleryComponent.prototype.plainGalleryConfig;\n/**\n * Object of type `AccessibilityConfig` to init custom accessibility features.\n * For instance, it contains titles, alt texts, aria-labels and so on.\n * @type {?}\n */\nPlainGalleryComponent.prototype.accessibilityConfig;\n/**\n * Output to emit an event when an image is changed.\n * @type {?}\n */\nPlainGalleryComponent.prototype.show;\n/**\n * Object of type `PlainGalleryConfig` to configure this component.\n * @type {?}\n */\nPlainGalleryComponent.prototype.configPlainGallery;\n/**\n * Bi-dimensional array of `Image` object to store images to display as plain gallery.\n * [] by default.\n * @type {?}\n */\nPlainGalleryComponent.prototype.imageGrid;\n/**\n * Size object used in the template to resize images.\n * @type {?}\n */\nPlainGalleryComponent.prototype.size;\n/**\n * Boolean passed as input to `ks-wrap` directive to configure flex-wrap css property.\n * However it's not enough, because you need to limit the width using `widthStyle` public variable.\n * For more info check https://developer.mozilla.org/it/docs/Web/CSS/flex-wrap\n * @type {?}\n */\nPlainGalleryComponent.prototype.wrapStyle;\n/**\n * String passed as input to `ks-wrap` directive to set width to be able to force overflow.\n * In this way, `wrapStyle` (flex-wrap css property) will be used as requested.\n * @type {?}\n */\nPlainGalleryComponent.prototype.widthStyle;\n/**\n * String passed as input to `ks-direction` directive to set the flex-direction css property.\n * For more info check https://developer.mozilla.org/it/docs/Web/CSS/flex-direction\n * @type {?}\n */\nPlainGalleryComponent.prototype.directionStyle;\n/**\n * String passed as input to `ks-direction` directive to set the justify-content css property.\n * For more info check https://developer.mozilla.org/it/docs/Web/CSS/justify-content\n * @type {?}\n */\nPlainGalleryComponent.prototype.justifyStyle;\n/**\n * Default image size object\n * @type {?}\n */\nPlainGalleryComponent.prototype.defaultSize;\n/**\n * Default layout config object\n * Note that length=-1 means infinity\n * @type {?}\n */\nPlainGalleryComponent.prototype.defaultLayout;\n/**\n * Default plain gallery config object\n * @type {?}\n */\nPlainGalleryComponent.prototype.defaultPlainConfig;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","/*\n The MIT License (MIT)\n\n Copyright (c) 2017-2018 Stefano Cappa (Ks89)\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in all\n copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NON INFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n SOFTWARE.\n */\n\n\nimport { ChangeDetectionStrategy, Component, Input } from '@angular/core';\n\nimport { AccessibilityConfig } from '../../../model/accessibility.interface';\nimport { LoadingConfig, LoadingType } from '../../../model/loading-config.interface';\n/**\n * Component with the loading spinner\n */\nexport class LoadingSpinnerComponent {\n/**\n * Object of type `LoadingConfig` exposed to the template.\n * It contains a field to choose a loading spinner.\n */\nloadingConfig: LoadingConfig;\n/**\n * Object of type `AccessibilityConfig` to init custom accessibility features.\n * For instance, it contains titles, alt texts, aria-labels and so on.\n */\naccessibilityConfig: AccessibilityConfig;\n/**\n * Enum of type `LoadingType` to choose the standard loading spinner.\n * Declared here to be used inside the template.\n */\nloadingStandard: LoadingType = LoadingType.STANDARD;\n/**\n * Enum of type `LoadingType` to choose the bars loading spinner.\n * Declared here to be used inside the template.\n */\nloadingBars: LoadingType = LoadingType.BARS;\n/**\n * Enum of type `LoadingType` to choose the circular loading spinner.\n * Declared here to be used inside the template.\n */\nloadingCircular: LoadingType = LoadingType.CIRCULAR;\n/**\n * Enum of type `LoadingType` to choose the dots loading spinner.\n * Declared here to be used inside the template.\n */\nloadingDots: LoadingType = LoadingType.DOTS;\n/**\n * Enum of type `LoadingType` to choose the cube flipping loading spinner.\n * Declared here to be used inside the template.\n */\nloadingCubeFlipping: LoadingType = LoadingType.CUBE_FLIPPING;\n/**\n * Enum of type `LoadingType` to choose the circles loading spinner.\n * Declared here to be used inside the template.\n */\nloadingCircles: LoadingType = LoadingType.CIRCLES;\n/**\n * Enum of type `LoadingType` to choose the explosing squares loading spinner.\n * Declared here to be used inside the template.\n */\nloadingExplosingSquares: LoadingType = LoadingType.EXPLOSING_SQUARES;\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'ks-loading-spinner',\n  styles: [`\n    /* taken from https://codepen.io/martinvd/pen/xbQJom */\n\n    .cssload-loader {\n      position: absolute;\n      top: 0;\n      bottom: 0;\n      right: 0;\n      left: 0;\n      margin: auto;\n      width: 64px;\n      height: 64px;\n      border-radius: 50%;\n      -o-border-radius: 50%;\n      -ms-border-radius: 50%;\n      -webkit-border-radius: 50%;\n      -moz-border-radius: 50%;\n      -webkit-perspective: 800px;\n              perspective: 800px;\n    }\n\n    .cssload-inner {\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      box-sizing: border-box;\n      -o-box-sizing: border-box;\n      -ms-box-sizing: border-box;\n      -webkit-box-sizing: border-box;\n      -moz-box-sizing: border-box;\n      border-radius: 50%;\n      -o-border-radius: 50%;\n      -ms-border-radius: 50%;\n      -webkit-border-radius: 50%;\n      -moz-border-radius: 50%;\n    }\n\n    .cssload-inner.cssload-one {\n      left: 0%;\n      top: 0%;\n      animation: cssload-rotate-one 0.6s linear infinite;\n      -o-animation: cssload-rotate-one 0.6s linear infinite;\n      -ms-animation: cssload-rotate-one 0.6s linear infinite;\n      -webkit-animation: cssload-rotate-one 0.6s linear infinite;\n      -moz-animation: cssload-rotate-one 0.6s linear infinite;\n      border-bottom: 3px solid rgba(255, 255, 255, 0.99);\n    }\n\n    .cssload-inner.cssload-two {\n      right: 0%;\n      top: 0%;\n      animation: cssload-rotate-two 0.6s linear infinite;\n      -o-animation: cssload-rotate-two 0.6s linear infinite;\n      -ms-animation: cssload-rotate-two 0.6s linear infinite;\n      -webkit-animation: cssload-rotate-two 0.6s linear infinite;\n      -moz-animation: cssload-rotate-two 0.6s linear infinite;\n      border-right: 3px solid rgb(255, 255, 255);\n    }\n\n    .cssload-inner.cssload-three {\n      right: 0%;\n      bottom: 0%;\n      animation: cssload-rotate-three 0.6s linear infinite;\n      -o-animation: cssload-rotate-three 0.6s linear infinite;\n      -ms-animation: cssload-rotate-three 0.6s linear infinite;\n      -webkit-animation: cssload-rotate-three 0.6s linear infinite;\n      -moz-animation: cssload-rotate-three 0.6s linear infinite;\n      border-top: 3px solid rgb(255, 255, 255);\n    }\n\n    @keyframes cssload-rotate-one {\n      0% {\n        -webkit-transform: rotateX(35deg) rotateY(-45deg) rotateZ(0deg);\n                transform: rotateX(35deg) rotateY(-45deg) rotateZ(0deg);\n      }\n      100% {\n        -webkit-transform: rotateX(35deg) rotateY(-45deg) rotateZ(360deg);\n                transform: rotateX(35deg) rotateY(-45deg) rotateZ(360deg);\n      }\n    }\n\n    @-webkit-keyframes cssload-rotate-one {\n      0% {\n        -webkit-transform: rotateX(35deg) rotateY(-45deg) rotateZ(0deg);\n      }\n      100% {\n        -webkit-transform: rotateX(35deg) rotateY(-45deg) rotateZ(360deg);\n      }\n    }\n\n    @keyframes cssload-rotate-two {\n      0% {\n        -webkit-transform: rotateX(50deg) rotateY(10deg) rotateZ(0deg);\n                transform: rotateX(50deg) rotateY(10deg) rotateZ(0deg);\n      }\n      100% {\n        -webkit-transform: rotateX(50deg) rotateY(10deg) rotateZ(360deg);\n                transform: rotateX(50deg) rotateY(10deg) rotateZ(360deg);\n      }\n    }\n\n    @-webkit-keyframes cssload-rotate-two {\n      0% {\n        -webkit-transform: rotateX(50deg) rotateY(10deg) rotateZ(0deg);\n      }\n      100% {\n        -webkit-transform: rotateX(50deg) rotateY(10deg) rotateZ(360deg);\n      }\n    }\n\n    @keyframes cssload-rotate-three {\n      0% {\n        -webkit-transform: rotateX(35deg) rotateY(55deg) rotateZ(0deg);\n                transform: rotateX(35deg) rotateY(55deg) rotateZ(0deg);\n      }\n      100% {\n        -webkit-transform: rotateX(35deg) rotateY(55deg) rotateZ(360deg);\n                transform: rotateX(35deg) rotateY(55deg) rotateZ(360deg);\n      }\n    }\n\n    @-webkit-keyframes cssload-rotate-three {\n      0% {\n        -webkit-transform: rotateX(35deg) rotateY(55deg) rotateZ(0deg);\n      }\n      100% {\n        -webkit-transform: rotateX(35deg) rotateY(55deg) rotateZ(360deg);\n      }\n    }/* Taken from https://projects.lukehaas.me/css-loaders/ */\n\n    .loader-dots {\n      position: absolute;\n      top: 0;\n      bottom: 0;\n      right: 0;\n      left: 0;\n      color: #fefcff;\n      font-size: 10px;\n      margin: auto;\n      width: 1em;\n      height: 1em;\n      border-radius: 50%;\n      text-indent: -9999em;\n      -webkit-animation: load4 1.3s infinite linear;\n      animation: load4 1.3s infinite linear;\n      -webkit-transform: translateZ(0);\n      transform: translateZ(0);\n    }\n\n    @-webkit-keyframes load4 {\n      0%,\n      100% {\n        -webkit-box-shadow: 0 -3em 0 0.2em, 2em -2em 0 0em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 -1em, -3em 0 0 -1em, -2em -2em 0 0;\n                box-shadow: 0 -3em 0 0.2em, 2em -2em 0 0em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 -1em, -3em 0 0 -1em, -2em -2em 0 0;\n      }\n      12.5% {\n        -webkit-box-shadow: 0 -3em 0 0, 2em -2em 0 0.2em, 3em 0 0 0, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 -1em, -3em 0 0 -1em, -2em -2em 0 -1em;\n                box-shadow: 0 -3em 0 0, 2em -2em 0 0.2em, 3em 0 0 0, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 -1em, -3em 0 0 -1em, -2em -2em 0 -1em;\n      }\n      25% {\n        -webkit-box-shadow: 0 -3em 0 -0.5em, 2em -2em 0 0, 3em 0 0 0.2em, 2em 2em 0 0, 0 3em 0 -1em, -2em 2em 0 -1em, -3em 0 0 -1em, -2em -2em 0 -1em;\n                box-shadow: 0 -3em 0 -0.5em, 2em -2em 0 0, 3em 0 0 0.2em, 2em 2em 0 0, 0 3em 0 -1em, -2em 2em 0 -1em, -3em 0 0 -1em, -2em -2em 0 -1em;\n      }\n      37.5% {\n        -webkit-box-shadow: 0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0em 0 0, 2em 2em 0 0.2em, 0 3em 0 0em, -2em 2em 0 -1em, -3em 0em 0 -1em, -2em -2em 0 -1em;\n                box-shadow: 0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0em 0 0, 2em 2em 0 0.2em, 0 3em 0 0em, -2em 2em 0 -1em, -3em 0em 0 -1em, -2em -2em 0 -1em;\n      }\n      50% {\n        -webkit-box-shadow: 0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 0em, 0 3em 0 0.2em, -2em 2em 0 0, -3em 0em 0 -1em, -2em -2em 0 -1em;\n                box-shadow: 0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 0em, 0 3em 0 0.2em, -2em 2em 0 0, -3em 0em 0 -1em, -2em -2em 0 -1em;\n      }\n      62.5% {\n        -webkit-box-shadow: 0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 0, -2em 2em 0 0.2em, -3em 0 0 0, -2em -2em 0 -1em;\n                box-shadow: 0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 0, -2em 2em 0 0.2em, -3em 0 0 0, -2em -2em 0 -1em;\n      }\n      75% {\n        -webkit-box-shadow: 0em -3em 0 -1em, 2em -2em 0 -1em, 3em 0em 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 0, -3em 0em 0 0.2em, -2em -2em 0 0;\n                box-shadow: 0em -3em 0 -1em, 2em -2em 0 -1em, 3em 0em 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 0, -3em 0em 0 0.2em, -2em -2em 0 0;\n      }\n      87.5% {\n        -webkit-box-shadow: 0em -3em 0 0, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 0, -3em 0em 0 0, -2em -2em 0 0.2em;\n                box-shadow: 0em -3em 0 0, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 0, -3em 0em 0 0, -2em -2em 0 0.2em;\n      }\n    }\n\n    @keyframes load4 {\n      0%,\n      100% {\n        -webkit-box-shadow: 0 -3em 0 0.2em, 2em -2em 0 0em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 -1em, -3em 0 0 -1em, -2em -2em 0 0;\n                box-shadow: 0 -3em 0 0.2em, 2em -2em 0 0em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 -1em, -3em 0 0 -1em, -2em -2em 0 0;\n      }\n      12.5% {\n        -webkit-box-shadow: 0 -3em 0 0, 2em -2em 0 0.2em, 3em 0 0 0, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 -1em, -3em 0 0 -1em, -2em -2em 0 -1em;\n                box-shadow: 0 -3em 0 0, 2em -2em 0 0.2em, 3em 0 0 0, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 -1em, -3em 0 0 -1em, -2em -2em 0 -1em;\n      }\n      25% {\n        -webkit-box-shadow: 0 -3em 0 -0.5em, 2em -2em 0 0, 3em 0 0 0.2em, 2em 2em 0 0, 0 3em 0 -1em, -2em 2em 0 -1em, -3em 0 0 -1em, -2em -2em 0 -1em;\n                box-shadow: 0 -3em 0 -0.5em, 2em -2em 0 0, 3em 0 0 0.2em, 2em 2em 0 0, 0 3em 0 -1em, -2em 2em 0 -1em, -3em 0 0 -1em, -2em -2em 0 -1em;\n      }\n      37.5% {\n        -webkit-box-shadow: 0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0em 0 0, 2em 2em 0 0.2em, 0 3em 0 0em, -2em 2em 0 -1em, -3em 0em 0 -1em, -2em -2em 0 -1em;\n                box-shadow: 0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0em 0 0, 2em 2em 0 0.2em, 0 3em 0 0em, -2em 2em 0 -1em, -3em 0em 0 -1em, -2em -2em 0 -1em;\n      }\n      50% {\n        -webkit-box-shadow: 0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 0em, 0 3em 0 0.2em, -2em 2em 0 0, -3em 0em 0 -1em, -2em -2em 0 -1em;\n                box-shadow: 0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 0em, 0 3em 0 0.2em, -2em 2em 0 0, -3em 0em 0 -1em, -2em -2em 0 -1em;\n      }\n      62.5% {\n        -webkit-box-shadow: 0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 0, -2em 2em 0 0.2em, -3em 0 0 0, -2em -2em 0 -1em;\n                box-shadow: 0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 0, -2em 2em 0 0.2em, -3em 0 0 0, -2em -2em 0 -1em;\n      }\n      75% {\n        -webkit-box-shadow: 0em -3em 0 -1em, 2em -2em 0 -1em, 3em 0em 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 0, -3em 0em 0 0.2em, -2em -2em 0 0;\n                box-shadow: 0em -3em 0 -1em, 2em -2em 0 -1em, 3em 0em 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 0, -3em 0em 0 0.2em, -2em -2em 0 0;\n      }\n      87.5% {\n        -webkit-box-shadow: 0em -3em 0 0, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 0, -3em 0em 0 0, -2em -2em 0 0.2em;\n                box-shadow: 0em -3em 0 0, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 0, -3em 0em 0 0, -2em -2em 0 0.2em;\n      }\n    }\n    /* Taken from https://projects.lukehaas.me/css-loader-barss/ */\n\n    .loader-bars,\n    .loader-bars:before,\n    .loader-bars:after {\n      background: #fefcff;\n      -webkit-animation: load1 1s infinite ease-in-out;\n      animation: load1 1s infinite ease-in-out;\n      width: 1em;\n      height: 4em;\n    }\n    .loader-bars {\n      position: absolute;\n      top: 0;\n      bottom: 0;\n      right: 0;\n      left: 0;\n      color: #fefcff;\n      text-indent: -9999em;\n      margin: auto;\n      font-size: 11px;\n      -webkit-transform: translateZ(0);\n      transform: translateZ(0);\n      -webkit-animation-delay: -0.16s;\n      animation-delay: -0.16s;\n    }\n    .loader-bars:before,\n    .loader-bars:after {\n      position: absolute;\n      top: 0;\n      content: '';\n    }\n    .loader-bars:before {\n      left: -1.5em;\n      -webkit-animation-delay: -0.32s;\n      animation-delay: -0.32s;\n    }\n    .loader-bars:after {\n      left: 1.5em;\n    }\n    @-webkit-keyframes load1 {\n      0%,\n      80%,\n      100% {\n        -webkit-box-shadow: 0 0;\n                box-shadow: 0 0;\n        height: 4em;\n      }\n      40% {\n        -webkit-box-shadow: 0 -2em;\n                box-shadow: 0 -2em;\n        height: 5em;\n      }\n    }\n    @keyframes load1 {\n      0%,\n      80%,\n      100% {\n        -webkit-box-shadow: 0 0;\n                box-shadow: 0 0;\n        height: 4em;\n      }\n      40% {\n        -webkit-box-shadow: 0 -2em;\n                box-shadow: 0 -2em;\n        height: 5em;\n      }\n    }\n    /* Taken from https://projects.lukehaas.me/css-loaders/ */\n\n    .loader-circular,\n    .loader-circular:after {\n      border-radius: 50%;\n      width: 10em;\n      height: 10em;\n    }\n    .loader-circular {\n      position: absolute;\n      top: 0;\n      bottom: 0;\n      right: 0;\n      left: 0;\n      margin: auto;\n      font-size: 10px;\n      text-indent: -9999em;\n      border-top: 1.1em solid rgba(255, 255, 255, 0.2);\n      border-right: 1.1em solid rgba(255, 255, 255, 0.2);\n      border-bottom: 1.1em solid rgba(255, 255, 255, 0.2);\n      border-left: 1.1em solid #ffffff;\n      -webkit-transform: translateZ(0);\n      transform: translateZ(0);\n      -webkit-animation: load8 1.1s infinite linear;\n      animation: load8 1.1s infinite linear;\n    }\n    @-webkit-keyframes load8 {\n      0% {\n        -webkit-transform: rotate(0deg);\n        transform: rotate(0deg);\n      }\n      100% {\n        -webkit-transform: rotate(360deg);\n        transform: rotate(360deg);\n      }\n    }\n    @keyframes load8 {\n      0% {\n        -webkit-transform: rotate(0deg);\n        transform: rotate(0deg);\n      }\n      100% {\n        -webkit-transform: rotate(360deg);\n        transform: rotate(360deg);\n      }\n    }\n    /* Based on https://codepen.io/nikhil8krishnan/pen/dMEzGx */\n\n    .cube-folding {\n      width: 50px;\n      height: 50px;\n      display: inline-block;\n      -webkit-transform: rotate(45deg);\n      transform: rotate(45deg);\n      font-size: 0;\n    }\n    .cube-folding span {\n      position: relative;\n      width: 25px;\n      height: 25px;\n      -webkit-transform: scale(1.1);\n      transform: scale(1.1);\n      display: inline-block;\n    }\n    .cube-folding span::before {\n      content: '';\n      background-color: white;\n      position: absolute;\n      left: 0;\n      top: 0;\n      display: block;\n      width: 25px;\n      height: 25px;\n      -webkit-transform-origin: 100% 100%;\n      transform-origin: 100% 100%;\n      -webkit-animation: folding 2.5s infinite linear both;\n      animation: folding 2.5s infinite linear both;\n    }\n    .cube-folding .leaf2 {\n      -webkit-transform: rotateZ(90deg) scale(1.1);\n      transform: rotateZ(90deg) scale(1.1);\n    }\n    .cube-folding .leaf2::before {\n      -webkit-animation-delay: 0.3s;\n      animation-delay: 0.3s;\n      background-color: #f2f2f2;\n    }\n    .cube-folding .leaf3 {\n      -webkit-transform: rotateZ(270deg) scale(1.1);\n      transform: rotateZ(270deg) scale(1.1);\n    }\n    .cube-folding .leaf3::before {\n      -webkit-animation-delay: 0.9s;\n      animation-delay: 0.9s;\n      background-color: #f2f2f2;\n    }\n    .cube-folding .leaf4 {\n      -webkit-transform: rotateZ(180deg) scale(1.1);\n      transform: rotateZ(180deg) scale(1.1);\n    }\n    .cube-folding .leaf4::before {\n      -webkit-animation-delay: 0.6s;\n      animation-delay: 0.6s;\n      background-color: #e6e6e6;\n    }\n    @-webkit-keyframes folding {\n      0%, 10% {\n        -webkit-transform: perspective(140px) rotateX(-180deg);\n        transform: perspective(140px) rotateX(-180deg);\n        opacity: 0;\n      }\n      25%, 75% {\n        -webkit-transform: perspective(140px) rotateX(0deg);\n        transform: perspective(140px) rotateX(0deg);\n        opacity: 1;\n      }\n      90%, 100% {\n        -webkit-transform: perspective(140px) rotateY(180deg);\n        transform: perspective(140px) rotateY(180deg);\n        opacity: 0;\n      }\n    }\n    @keyframes folding {\n      0%, 10% {\n        -webkit-transform: perspective(140px) rotateX(-180deg);\n        transform: perspective(140px) rotateX(-180deg);\n        opacity: 0;\n      }\n      25%, 75% {\n        -webkit-transform: perspective(140px) rotateX(0deg);\n        transform: perspective(140px) rotateX(0deg);\n        opacity: 1;\n      }\n      90%, 100% {\n        -webkit-transform: perspective(140px) rotateY(180deg);\n        transform: perspective(140px) rotateY(180deg);\n        opacity: 0;\n      }\n    }\n    .cube-wrapper {\n      position: fixed;\n      left: 50%;\n      top: 50%;\n      margin-top: -50px;\n      margin-left: -50px;\n      width: 100px;\n      height: 100px;\n      text-align: center;\n    }\n    @-webkit-keyframes text {\n      100% {\n        top: 35px;\n      }\n    }\n    @keyframes text {\n      100% {\n        top: 35px;\n      }\n    }\n    @-webkit-keyframes shadow {\n      100% {\n        bottom: -18px;\n        width: 100px;\n      }\n    }\n    @keyframes shadow {\n      100% {\n        bottom: -18px;\n        width: 100px;\n      }\n    }\n    /* Taken from https://codepen.io/WebSonata/pen/bRaONB */\n\n    #preloader {\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n    }\n    #loader {\n      display: block;\n      position: relative;\n      left: 50%;\n      top: 50%;\n      width: 100px;\n      height: 100px;\n      margin: -75px 0 0 -75px;\n      border-radius: 50%;\n      border: 3px solid transparent;\n      border-top-color: #B4B4B4;\n      -webkit-animation: spin 2s linear infinite;\n      animation: spin 2s linear infinite;\n    }\n    #loader:before {\n      content: \"\";\n      position: absolute;\n      top: 5px;\n      left: 5px;\n      right: 5px;\n      bottom: 5px;\n      border-radius: 50%;\n      border: 3px solid transparent;\n      border-top-color: #D9D9D9;\n      -webkit-animation: spin 3s linear infinite;\n      animation: spin 3s linear infinite;\n    }\n    #loader:after {\n      content: \"\";\n      position: absolute;\n      top: 15px;\n      left: 15px;\n      right: 15px;\n      bottom: 15px;\n      border-radius: 50%;\n      border: 3px solid transparent;\n      border-top-color: #FFF;\n      -webkit-animation: spin 1.5s linear infinite;\n      animation: spin 1.5s linear infinite;\n    }\n    @-webkit-keyframes spin {\n      0%   {\n        -webkit-transform: rotate(0deg);\n        transform: rotate(0deg);\n      }\n      100% {\n        -webkit-transform: rotate(360deg);\n        transform: rotate(360deg);\n      }\n    }\n    @keyframes spin {\n      0%   {\n        -webkit-transform: rotate(0deg);\n        transform: rotate(0deg);\n      }\n      100% {\n        -webkit-transform: rotate(360deg);\n        transform: rotate(360deg);\n      }\n    }\n    /* Taken from https://codepen.io/WebSonata/pen/bRaONB */\n    @-webkit-keyframes loader {\n      0%, 10%, 100% {\n        width: 60px;\n        height: 60px; }\n      65% {\n        width: 150px;\n        height: 150px; } }\n    @keyframes loader {\n      0%, 10%, 100% {\n        width: 60px;\n        height: 60px; }\n      65% {\n        width: 150px;\n        height: 150px; } }\n\n    @-webkit-keyframes loaderBlock {\n      0%, 30% {\n        -webkit-transform: rotate(0);\n                transform: rotate(0); }\n      55% {\n        background-color: #B4B4B4; }\n      100% {\n        -webkit-transform: rotate(90deg);\n                transform: rotate(90deg); } }\n\n    @keyframes loaderBlock {\n      0%, 30% {\n        -webkit-transform: rotate(0);\n                transform: rotate(0); }\n      55% {\n        background-color: #B4B4B4; }\n      100% {\n        -webkit-transform: rotate(90deg);\n                transform: rotate(90deg); } }\n\n    @-webkit-keyframes loaderBlockInverse {\n      0%, 20% {\n        -webkit-transform: rotate(0);\n                transform: rotate(0); }\n      55% {\n        background-color: #D9D9D9; }\n      100% {\n        -webkit-transform: rotate(-90deg);\n                transform: rotate(-90deg); } }\n\n    @keyframes loaderBlockInverse {\n      0%, 20% {\n        -webkit-transform: rotate(0);\n                transform: rotate(0); }\n      55% {\n        background-color: #D9D9D9; }\n      100% {\n        -webkit-transform: rotate(-90deg);\n                transform: rotate(-90deg); } }\n\n    .loader {\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      width: 60px;\n      height: 60px;\n      -webkit-transform: translate(-50%, -50%) rotate(45deg) translate3d(0, 0, 0);\n              transform: translate(-50%, -50%) rotate(45deg) translate3d(0, 0, 0);\n      -webkit-animation: loader 1.2s infinite ease-in-out;\n              animation: loader 1.2s infinite ease-in-out; }\n      .loader span {\n        position: absolute;\n        display: block;\n        width: 40px;\n        height: 40px;\n        background-color: #FFF;\n        -webkit-animation: loaderBlock 1.2s infinite ease-in-out both;\n                animation: loaderBlock 1.2s infinite ease-in-out both; }\n        .loader span:nth-child(1) {\n          top: 0;\n          left: 0; }\n        .loader span:nth-child(2) {\n          top: 0;\n          right: 0;\n          -webkit-animation: loaderBlockInverse 1.2s infinite ease-in-out both;\n                  animation: loaderBlockInverse 1.2s infinite ease-in-out both; }\n        .loader span:nth-child(3) {\n          bottom: 0;\n          left: 0;\n          -webkit-animation: loaderBlockInverse 1.2s infinite ease-in-out both;\n                  animation: loaderBlockInverse 1.2s infinite ease-in-out both; }\n        .loader span:nth-child(4) {\n          bottom: 0;\n          right: 0; }\n  `],\n  template: `\n    <div [attr.aria-label]=\"accessibilityConfig?.loadingSpinnerAriaLabel\"\n         [title]=\"accessibilityConfig?.loadingSpinnerTitle\">\n\n      <ng-container [ngSwitch]=\"loadingConfig.type\">\n        <ng-container *ngSwitchCase=\"loadingStandard\">\n          <div class=\"cssload-loader\">\n            <div class=\"cssload-inner cssload-one\"></div>\n            <div class=\"cssload-inner cssload-two\"></div>\n            <div class=\"cssload-inner cssload-three\"></div>\n          </div>\n        </ng-container>\n        <ng-container *ngSwitchCase=\"loadingBars\">\n          <div class=\"loader-bars\">\n          </div>\n        </ng-container>\n        <ng-container *ngSwitchCase=\"loadingCircular\">\n          <div class=\"loader-circular\">\n          </div>\n        </ng-container>\n        <ng-container *ngSwitchCase=\"loadingDots\">\n          <div class=\"loader-dots\">\n          </div>\n        </ng-container>\n        <ng-container *ngSwitchCase=\"loadingCubeFlipping\">\n          <div class=\"cube-wrapper\">\n            <div class=\"cube-folding\">\n              <span class=\"leaf1\"></span>\n              <span class=\"leaf2\"></span>\n              <span class=\"leaf3\"></span>\n              <span class=\"leaf4\"></span>\n            </div>\n          </div>\n        </ng-container>\n        <ng-container *ngSwitchCase=\"loadingCircles\">\n          <div id=\"preloader\">\n            <div id=\"loader\"></div>\n          </div>\n        </ng-container>\n        <ng-container *ngSwitchCase=\"loadingExplosingSquares\">\n          <div class=\"loader\">\n            <span></span>\n            <span></span>\n            <span></span>\n            <span></span>\n          </div>\n        </ng-container>\n        <!--<ng-container *ngSwitchDefault>-->\n        <!---->\n        <!--</ng-container>-->\n      </ng-container>\n    </div>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'loadingConfig': [{ type: Input },],\n'accessibilityConfig': [{ type: Input },],\n};\n}\n\nfunction LoadingSpinnerComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nLoadingSpinnerComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nLoadingSpinnerComponent.ctorParameters;\n/** @type {?} */\nLoadingSpinnerComponent.propDecorators;\n/**\n * Object of type `LoadingConfig` exposed to the template.\n * It contains a field to choose a loading spinner.\n * @type {?}\n */\nLoadingSpinnerComponent.prototype.loadingConfig;\n/**\n * Object of type `AccessibilityConfig` to init custom accessibility features.\n * For instance, it contains titles, alt texts, aria-labels and so on.\n * @type {?}\n */\nLoadingSpinnerComponent.prototype.accessibilityConfig;\n/**\n * Enum of type `LoadingType` to choose the standard loading spinner.\n * Declared here to be used inside the template.\n * @type {?}\n */\nLoadingSpinnerComponent.prototype.loadingStandard;\n/**\n * Enum of type `LoadingType` to choose the bars loading spinner.\n * Declared here to be used inside the template.\n * @type {?}\n */\nLoadingSpinnerComponent.prototype.loadingBars;\n/**\n * Enum of type `LoadingType` to choose the circular loading spinner.\n * Declared here to be used inside the template.\n * @type {?}\n */\nLoadingSpinnerComponent.prototype.loadingCircular;\n/**\n * Enum of type `LoadingType` to choose the dots loading spinner.\n * Declared here to be used inside the template.\n * @type {?}\n */\nLoadingSpinnerComponent.prototype.loadingDots;\n/**\n * Enum of type `LoadingType` to choose the cube flipping loading spinner.\n * Declared here to be used inside the template.\n * @type {?}\n */\nLoadingSpinnerComponent.prototype.loadingCubeFlipping;\n/**\n * Enum of type `LoadingType` to choose the circles loading spinner.\n * Declared here to be used inside the template.\n * @type {?}\n */\nLoadingSpinnerComponent.prototype.loadingCircles;\n/**\n * Enum of type `LoadingType` to choose the explosing squares loading spinner.\n * Declared here to be used inside the template.\n * @type {?}\n */\nLoadingSpinnerComponent.prototype.loadingExplosingSquares;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","/*\n The MIT License (MIT)\n\n Copyright (c) 2017-2018 Stefano Cappa (Ks89)\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in all\n copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NON INFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n SOFTWARE.\n */\n\n\nimport { ChangeDetectionStrategy, Component, EventEmitter, Input, OnChanges, OnInit, Output, SimpleChange, SimpleChanges } from '@angular/core';\n\nimport { AccessibleComponent } from '../accessible.component';\n\nimport { AccessibilityConfig } from '../../model/accessibility.interface';\nimport { Image } from '../../model/image.class';\nimport { InternalLibImage } from '../../model/image-internal.class';\nimport { Size } from '../../model/size.interface';\nimport { PreviewConfig } from '../../model/preview-config.interface';\nimport { SlideConfig } from '../../model/slide-config.interface';\n\nimport { NEXT, PREV } from '../../utils/user-input.util';\nimport { getIndex } from '../../utils/image.util';\n/**\n * Component with image previews\n */\nexport class PreviewsComponent extends AccessibleComponent implements OnInit, OnChanges {\n/**\n * Object of type `InternalLibImage` that represent the visible image.\n */\ncurrentImage: InternalLibImage;\n/**\n * Array of `InternalLibImage` that represent the model of this library with all images,\n * thumbs and so on.\n */\nimages: InternalLibImage[];\n/**\n * Object of type `SlideConfig` to get `infinite sliding`.\n */\nslideConfig: SlideConfig;\n/**\n * Object of type `PreviewConfig` to init PreviewsComponent's features.\n * For instance, it contains a param to show/hide this component, sizes.\n */\npreviewConfig: PreviewConfig;\n/**\n * Object of type `AccessibilityConfig` to init custom accessibility features.\n * For instance, it contains titles, alt texts, aria-labels and so on.\n */\naccessibilityConfig: AccessibilityConfig;\n/**\n * Output to emit the clicked preview. The payload contains the `InternalLibImage` associated to the clicked preview.\n */\nclickPreview: EventEmitter<InternalLibImage> = new EventEmitter<InternalLibImage>();\n/**\n * Array of `InternalLibImage` exposed to the template. This field is initialized\n * applying transformations, default values and so on to the input of the same type.\n */\npreviews: InternalLibImage[] = [];\n/**\n * Object of type `PreviewConfig` exposed to the template. This field is initialized\n * applying transformations, default values and so on to the input of the same type.\n */\nconfigPreview: PreviewConfig;\n/**\n * Start index of the input images used to display previews.\n */\nstart: number;\n/**\n * End index of the input images used to display previews.\n */\nend: number;\n/**\n * Default preview's size object, also used in the template to apply default sizes to ksSize's directive.\n */\ndefaultPreviewSize: Size = { height: '50px', width: 'auto' };\n/**\n * Default preview's config object\n */\nprivate defaultPreviewConfig: PreviewConfig = {\n    visible: true,\n    number: 3,\n    arrows: true,\n    clickable: true,\n    // alwaysCenter: false, // TODO still not implemented\n    size: this.defaultPreviewSize\n  };\n/**\n * Method ´ngOnInit´ to build `configPreview` applying a default value and also to\n * init the `previews` array.\n * This is an Angular's lifecycle hook, so its called automatically by Angular itself.\n * In particular, it's called only one time!!!\n * @return {?}\n */\nngOnInit() {\n    this.configPreview = Object.assign({}, this.defaultPreviewConfig, this.previewConfig);\n\n    // if number is <= 0 reset to default\n    if (this.configPreview.number <= 0) {\n      this.configPreview.number = this.defaultPreviewConfig.number;\n    }\n\n    // init previews based on currentImage and the full array of images\n    this.initPreviews(this.currentImage, this.images);\n  }\n/**\n * Method to check if an image is active (i.e. a preview image).\n * @param {?} preview\n * @return {?}\n */\nisActive(preview: InternalLibImage): boolean {\n    if (!preview || !this.currentImage) {\n      return false;\n    }\n    return preview.id === this.currentImage.id;\n  }\n/**\n * Method ´ngOnChanges´ to update `previews` array.\n * Also, both `start` and `end` local variables will be updated accordingly.\n * This is an Angular's lifecycle hook, so its called automatically by Angular itself.\n * In particular, it's called when any data-bound property of a directive changes!!!\n * @param {?} changes\n * @return {?}\n */\nngOnChanges(changes: SimpleChanges) {\n    const /** @type {?} */ simpleChange: SimpleChange = changes.currentImage;\n    if (!simpleChange) {\n      return;\n    }\n\n    const /** @type {?} */ prev: InternalLibImage = simpleChange.previousValue;\n    const /** @type {?} */ current: InternalLibImage = simpleChange.currentValue;\n\n    if (current && changes.images && changes.images.previousValue && changes.images.currentValue) {\n      // I'm in this if statement, if input images are changed (for instance, because I removed one of them with the 'delete button',\n      // or because users changed the images array while modal gallery is still open).\n      // In this case, I have to re-init previews, because the input array of images is changed.\n      this.initPreviews(current, changes.images.currentValue);\n    }\n\n    if (prev && current && prev.id !== current.id) {\n      // to manage infinite sliding I have to reset both `start` and `end` at the beginning\n      // to show again previews from the first image.\n      // This happens when you navigate over the last image to return to the first one\n      let /** @type {?} */ prevIndex: number;\n      let /** @type {?} */ currentIndex: number;\n      try {\n        prevIndex = getIndex(prev, this.images);\n        currentIndex = getIndex(current, this.images);\n      } catch ( /** @type {?} */err) {\n        console.error('Cannot get previous and current image indexes in previews');\n        throw err;\n      }\n      if (prevIndex === this.images.length - 1 && currentIndex === 0) {\n        // first image\n        this.setBeginningIndexesPreviews();\n        this.previews = this.images.filter((img: InternalLibImage, i: number) => i >= this.start && i < this.end);\n        return;\n      }\n      // the same for the opposite case, when you navigate back from the fist image to go to the last one.\n      if (prevIndex === 0 && currentIndex === this.images.length - 1) {\n        // last image\n        this.setEndIndexesPreviews();\n        this.previews = this.images.filter((img: InternalLibImage, i: number) => i >= this.start && i < this.end);\n        return;\n      }\n\n      // otherwise manage standard scenarios\n      if (prevIndex > currentIndex) {\n        this.previous();\n      } else if (prevIndex < currentIndex) {\n        this.next();\n      }\n    }\n  }\n/**\n * Method called by events from both keyboard and mouse on a preview.\n * This will trigger the `clickpreview` output with the input preview as its payload.\n * @param {?} preview\n * @param {?} event\n * @return {?}\n */\nonImageEvent(preview: InternalLibImage, event: KeyboardEvent | MouseEvent) {\n    if (!this.configPreview || !this.configPreview.clickable) {\n      return;\n    }\n    const /** @type {?} */ result: number = super.handleImageEvent(event);\n    if (result === NEXT) {\n      this.clickPreview.emit(preview);\n    } else if (result === PREV) {\n      this.clickPreview.emit(preview);\n    }\n  }\n/**\n * Method called by events from both keyboard and mouse on a navigation arrow.\n * @param {?} direction\n * @param {?} event\n * @return {?}\n */\nonNavigationEvent(direction: string, event: KeyboardEvent | MouseEvent) {\n    const /** @type {?} */ result: number = super.handleNavigationEvent(direction, event);\n    if (result === NEXT) {\n      this.next();\n    } else if (result === PREV) {\n      this.previous();\n    }\n  }\n/**\n * Method used in the template to track ids in ngFor.\n * @param {?} index\n * @param {?} item\n * @return {?}\n */\ntrackById(index: number, item: Image): number {\n    return item.id;\n  }\n/**\n * Private method to init previews based on the currentImage and the full array of images.\n * The current image in mandatory to show always the current preview (as highlighted).\n * @param {?} currentImage\n * @param {?} images\n * @return {?}\n */\nprivate initPreviews(currentImage: InternalLibImage, images: InternalLibImage[]) {\n    let /** @type {?} */ index: number;\n    try {\n      index = getIndex(currentImage, images);\n    } catch ( /** @type {?} */err) {\n      throw err;\n    }\n    switch (index) {\n      case 0:\n        // first image\n        this.setBeginningIndexesPreviews();\n        break;\n      case images.length - 1:\n        // last image\n        this.setEndIndexesPreviews();\n        break;\n      default:\n        // other images\n        this.setIndexesPreviews();\n        break;\n    }\n    this.previews = images.filter((img: InternalLibImage, i: number) => i >= this.start && i < this.end);\n  }\n/**\n * Private method to init both `start` and `end` to the beginning.\n * @return {?}\n */\nprivate setBeginningIndexesPreviews() {\n    this.start = 0;\n    this.end = Math.min( /** @type {?} */((<number>this.configPreview.number)), this.images.length);\n  }\n/**\n * Private method to init both `start` and `end` to the end.\n * @return {?}\n */\nprivate setEndIndexesPreviews() {\n    this.start = this.images.length - 1 - ( /** @type {?} */((<number>this.configPreview.number)) - 1);\n    this.end = this.images.length;\n  }\n/**\n * Private method to update both `start` and `end` based on the currentImage.\n * @return {?}\n */\nprivate setIndexesPreviews() {\n    this.start = getIndex(this.currentImage, this.images) - Math.floor( /** @type {?} */((<number>this.configPreview.number)) / 2);\n    this.end = getIndex(this.currentImage, this.images) + Math.floor( /** @type {?} */((<number>this.configPreview.number)) / 2) + 1;\n  }\n/**\n * Private method to update the visible previews navigating to the right (next).\n * @return {?}\n */\nprivate next() {\n    // check if nextImage should be blocked\n    if (this.isPreventSliding(this.images.length - 1)) {\n      return;\n    }\n\n    if (this.end === this.images.length) {\n      return;\n    }\n\n    this.start++;\n    this.end = Math.min(this.end + 1, this.images.length);\n\n    this.previews = this.images.filter((img: InternalLibImage, i: number) => i >= this.start && i < this.end);\n  }\n/**\n * Private method to update the visible previews navigating to the left (previous).\n * @return {?}\n */\nprivate previous() {\n    // check if prevImage should be blocked\n    if (this.isPreventSliding(0)) {\n      return;\n    }\n\n    if (this.start === 0) {\n      return;\n    }\n\n    this.start = Math.max(this.start - 1, 0);\n    this.end = Math.min(this.end - 1, this.images.length);\n\n    this.previews = this.images.filter((img: InternalLibImage, i: number) => i >= this.start && i < this.end);\n  }\n/**\n * Private method to block/permit sliding between previews.\n * @param {?} boundaryIndex\n * @return {?}\n */\nprivate isPreventSliding(boundaryIndex: number): boolean {\n    return !!this.slideConfig && this.slideConfig.infinite === false && getIndex(this.currentImage, this.previews) === boundaryIndex;\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'ks-previews',\n  styles: [`\n    @media only screen and (max-width: 767px), only screen and (max-device-width: 767px) {\n      .previews-container {\n        display: none; }\n        .previews-container > .preview-image {\n          display: none; }\n        .previews-container > .nav-left {\n          display: none; }\n        .previews-container > .nav-right {\n          display: none; } }\n\n    @media only screen and (min-device-width: 768px) {\n      .previews-container {\n        -webkit-box-align: center;\n                align-items: center;\n        -webkit-animation: fadein-semi-visible08 0.8s;\n                animation: fadein-semi-visible08 0.8s;\n        display: -webkit-box;\n        display: flex;\n        -webkit-box-orient: horizontal;\n        -webkit-box-direction: normal;\n                flex-direction: row;\n        -webkit-box-pack: center;\n                justify-content: center;\n        margin-bottom: 15px; }\n        .previews-container > .preview-image {\n          cursor: pointer;\n          margin-left: 2px;\n          margin-right: 2px;\n          opacity: 0.7;\n          height: 50px; }\n          .previews-container > .preview-image.active {\n            opacity: 1; }\n          .previews-container > .preview-image.unclickable {\n            cursor: not-allowed; }\n          .previews-container > .preview-image:hover {\n            opacity: 1;\n            -webkit-transition: all .5s ease;\n            transition: all .5s ease;\n            -webkit-transition-property: opacity;\n            transition-property: opacity; }\n        .previews-container .nav, .previews-container > .nav-left, .previews-container > .nav-right {\n          color: #919191;\n          cursor: pointer;\n          -webkit-transition: all 0.5s;\n          transition: all 0.5s; }\n          .previews-container .nav:hover, .previews-container > .nav-left:hover, .previews-container > .nav-right:hover {\n            -webkit-transform: scale(1.1);\n                    transform: scale(1.1); }\n        .previews-container > .nav-left {\n          margin-right: 10px; }\n        .previews-container > .nav-right {\n          margin-left: 10px; } }\n\n    @-webkit-keyframes fadein-visible {\n      from {\n        opacity: 0; }\n      to {\n        opacity: 1; } }\n\n    @keyframes fadein-visible {\n      from {\n        opacity: 0; }\n      to {\n        opacity: 1; } }\n\n    @-webkit-keyframes fadein-semi-visible05 {\n      from {\n        opacity: 0; }\n      to {\n        opacity: 0.5; } }\n\n    @keyframes fadein-semi-visible05 {\n      from {\n        opacity: 0; }\n      to {\n        opacity: 0.5; } }\n\n    @-webkit-keyframes fadein-semi-visible08 {\n      from {\n        opacity: 0; }\n      to {\n        opacity: 0.8; } }\n\n    @keyframes fadein-semi-visible08 {\n      from {\n        opacity: 0; }\n      to {\n        opacity: 0.8; } }\n\n    @-webkit-keyframes fadein-semi-visible09 {\n      from {\n        opacity: 0; }\n      to {\n        opacity: 0.9; } }\n\n    @keyframes fadein-semi-visible09 {\n      from {\n        opacity: 0; }\n      to {\n        opacity: 0.9; } }\n    .arrow-preview-image, .empty-arrow-preview-image, .left-arrow-preview-image, .right-arrow-preview-image {\n      width: 15px;\n      height: 15px;\n      opacity: 0.5; }\n\n    .empty-arrow-preview-image {\n      background: black;\n      opacity: 0; }\n\n    .left-arrow-preview-image {\n      background-image: url(\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ3Ny4xNzUgNDc3LjE3NSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDc3LjE3NSA0NzcuMTc1OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjUxMnB4IiBoZWlnaHQ9IjUxMnB4Ij48Zz48cGF0aCBkPSJNMTQ1LjE4OCwyMzguNTc1bDIxNS41LTIxNS41YzUuMy01LjMsNS4zLTEzLjgsMC0xOS4xcy0xMy44LTUuMy0xOS4xLDBsLTIyNS4xLDIyNS4xYy01LjMsNS4zLTUuMywxMy44LDAsMTkuMWwyMjUuMSwyMjUgICBjMi42LDIuNiw2LjEsNCw5LjUsNHM2LjktMS4zLDkuNS00YzUuMy01LjMsNS4zLTEzLjgsMC0xOS4xTDE0NS4xODgsMjM4LjU3NXoiIGZpbGw9IiNGRkZGRkYiLz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PC9zdmc+\");\n      background-size: 15px;\n      -webkit-transition: all 0.5s;\n      transition: all 0.5s; }\n      .left-arrow-preview-image:hover {\n        -webkit-transform: scale(1.2);\n                transform: scale(1.2); }\n\n    .right-arrow-preview-image {\n      background-image: url(\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ3Ny4xNzUgNDc3LjE3NSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDc3LjE3NSA0NzcuMTc1OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjUxMnB4IiBoZWlnaHQ9IjUxMnB4Ij48Zz48cGF0aCBkPSJNMzYwLjczMSwyMjkuMDc1bC0yMjUuMS0yMjUuMWMtNS4zLTUuMy0xMy44LTUuMy0xOS4xLDBzLTUuMywxMy44LDAsMTkuMWwyMTUuNSwyMTUuNWwtMjE1LjUsMjE1LjUgICBjLTUuMyw1LjMtNS4zLDEzLjgsMCwxOS4xYzIuNiwyLjYsNi4xLDQsOS41LDRjMy40LDAsNi45LTEuMyw5LjUtNGwyMjUuMS0yMjUuMUMzNjUuOTMxLDI0Mi44NzUsMzY1LjkzMSwyMzQuMjc1LDM2MC43MzEsMjI5LjA3NXogICAiIGZpbGw9IiNGRkZGRkYiLz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PC9zdmc+\");\n      background-size: 15px;\n      -webkit-transition: all 0.5s;\n      transition: all 0.5s; }\n      .right-arrow-preview-image:hover {\n        -webkit-transform: scale(1.2);\n                transform: scale(1.2); }\n  `],\n  template: `\n    <nav class=\"previews-container\"\n         [attr.aria-label]=\"accessibilityConfig?.previewsContainerAriaLabel\"\n         [title]=\"accessibilityConfig?.previewsContainerTitle\">\n\n      <ng-container *ngIf=\"configPreview?.visible\">\n        <a class=\"nav-left\"\n           [attr.aria-label]=\"accessibilityConfig?.previewScrollPrevAriaLabel\"\n           [tabindex]=\"configPreview.arrows && start > 0 ? 0 : -1\" role=\"button\"\n           (click)=\"onNavigationEvent('left', $event)\" (keyup)=\"onNavigationEvent('left', $event)\">\n          <div class=\"inside {{configPreview.arrows && start > 0 ? 'left-arrow-preview-image' : 'empty-arrow-preview-image'}}\"\n               aria-hidden=\"true\"\n               [title]=\"accessibilityConfig?.previewScrollPrevTitle\"></div>\n        </a>\n\n        <ng-container *ngFor=\"let preview of previews; trackBy: trackById; let index = index\">\n          <img *ngIf=\"preview?.modal?.img\"\n               class=\"inside preview-image {{isActive(preview) ? 'active' : ''}}{{!configPreview.clickable ? ' unclickable' : ''}}\"\n               [src]=\"preview.plain?.img ? preview.plain.img : preview.modal.img\"\n               ksSize [sizeConfig]=\"{width: configPreview.size ? configPreview.size.width : defaultPreviewSize.width,\n                                     height: configPreview.size ? configPreview.size.height : defaultPreviewSize.height}\"\n               [attr.aria-label]=\"preview.modal.ariaLabel ? preview.modal.ariaLabel : ''\"\n               [title]=\"preview.modal.title ? preview.modal.title : ''\"\n               alt=\"{{preview.modal.alt ? preview.modal.alt : ''}}\"\n               [tabindex]=\"0\" role=\"img\"\n               (click)=\"onImageEvent(preview, $event)\" (keyup)=\"onImageEvent(preview, $event)\"/>\n        </ng-container>\n\n\n        <a class=\"nav-right\"\n           [attr.aria-label]=\"accessibilityConfig?.previewScrollNextAriaLabel\"\n           [tabindex]=\"configPreview.arrows && end < images.length ? 0 : -1\" role=\"button\"\n           (click)=\"onNavigationEvent('right', $event)\" (keyup)=\"onNavigationEvent('right', $event)\">\n          <div class=\"inside {{configPreview.arrows && end < images.length ? 'right-arrow-preview-image' : 'empty-arrow-preview-image'}}\"\n               aria-hidden=\"true\"\n               [title]=\"accessibilityConfig?.previewScrollNextTitle\"></div>\n        </a>\n      </ng-container>\n\n    </nav>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'currentImage': [{ type: Input },],\n'images': [{ type: Input },],\n'slideConfig': [{ type: Input },],\n'previewConfig': [{ type: Input },],\n'accessibilityConfig': [{ type: Input },],\n'clickPreview': [{ type: Output },],\n};\n}\n\nfunction PreviewsComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nPreviewsComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nPreviewsComponent.ctorParameters;\n/** @type {?} */\nPreviewsComponent.propDecorators;\n/**\n * Object of type `InternalLibImage` that represent the visible image.\n * @type {?}\n */\nPreviewsComponent.prototype.currentImage;\n/**\n * Array of `InternalLibImage` that represent the model of this library with all images,\n * thumbs and so on.\n * @type {?}\n */\nPreviewsComponent.prototype.images;\n/**\n * Object of type `SlideConfig` to get `infinite sliding`.\n * @type {?}\n */\nPreviewsComponent.prototype.slideConfig;\n/**\n * Object of type `PreviewConfig` to init PreviewsComponent's features.\n * For instance, it contains a param to show/hide this component, sizes.\n * @type {?}\n */\nPreviewsComponent.prototype.previewConfig;\n/**\n * Object of type `AccessibilityConfig` to init custom accessibility features.\n * For instance, it contains titles, alt texts, aria-labels and so on.\n * @type {?}\n */\nPreviewsComponent.prototype.accessibilityConfig;\n/**\n * Output to emit the clicked preview. The payload contains the `InternalLibImage` associated to the clicked preview.\n * @type {?}\n */\nPreviewsComponent.prototype.clickPreview;\n/**\n * Array of `InternalLibImage` exposed to the template. This field is initialized\n * applying transformations, default values and so on to the input of the same type.\n * @type {?}\n */\nPreviewsComponent.prototype.previews;\n/**\n * Object of type `PreviewConfig` exposed to the template. This field is initialized\n * applying transformations, default values and so on to the input of the same type.\n * @type {?}\n */\nPreviewsComponent.prototype.configPreview;\n/**\n * Start index of the input images used to display previews.\n * @type {?}\n */\nPreviewsComponent.prototype.start;\n/**\n * End index of the input images used to display previews.\n * @type {?}\n */\nPreviewsComponent.prototype.end;\n/**\n * Default preview's size object, also used in the template to apply default sizes to ksSize's directive.\n * @type {?}\n */\nPreviewsComponent.prototype.defaultPreviewSize;\n/**\n * Default preview's config object\n * @type {?}\n */\nPreviewsComponent.prototype.defaultPreviewConfig;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","/*\n The MIT License (MIT)\n\n Copyright (c) 2017-2018 Stefano Cappa (Ks89)\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in all\n copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NON INFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n SOFTWARE.\n */\n\n\nimport { ChangeDetectionStrategy, Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\n\nimport { AccessibleComponent } from '../accessible.component';\n\nimport { AccessibilityConfig } from '../../model/accessibility.interface';\nimport { Image } from '../../model/image.class';\nimport { InternalLibImage } from '../../model/image-internal.class';\nimport { DotsConfig } from '../../model/dots-config.interface';\n\nimport { NEXT } from '../../utils/user-input.util';\nimport { getIndex } from '../../utils/image.util';\n/**\n * Component with clickable dots (small circles) to navigate between images inside the modal gallery.\n */\nexport class DotsComponent extends AccessibleComponent implements OnInit {\n/**\n * Object of type `InternalLibImage` that represent the visible image.\n */\ncurrentImage: InternalLibImage;\n/**\n * Array of `InternalLibImage` that represent the model of this library with all images,\n * thumbs and so on.\n */\nimages: InternalLibImage[];\n/**\n * Object of type `DotsConfig` to init DotsComponent's features.\n * For instance, it contains a param to show/hide this component.\n */\ndotsConfig: DotsConfig = { visible: true };\n/**\n * Object of type `AccessibilityConfig` to init custom accessibility features.\n * For instance, it contains titles, alt texts, aria-labels and so on.\n */\naccessibilityConfig: AccessibilityConfig;\n/**\n * Output to emit clicks on dots. The payload contains a number that represent\n * the index of the clicked dot.\n */\nclickDot: EventEmitter<number> = new EventEmitter<number>();\n/**\n * Object of type `DotsConfig` exposed to the template. This field is initialized\n * applying transformations, default values and so on to the input of the same type.\n */\nconfigDots: DotsConfig;\n/**\n * Method ´ngOnInit´ to build `configDots` applying a default value.\n * This is an Angular's lifecycle hook, so its called automatically by Angular itself.\n * In particular, it's called only one time!!!\n * @return {?}\n */\nngOnInit() {\n    const /** @type {?} */ defaultConfig: DotsConfig = { visible: true };\n    this.configDots = Object.assign(defaultConfig, this.dotsConfig);\n  }\n/**\n * Method to check if an image is active (i.e. the current image).\n * It checks currentImage and images to prevent errors.\n * @param {?} index\n * @return {?}\n */\nisActive(index: number): boolean {\n    if (!this.currentImage || !this.images || this.images.length === 0) {\n      return false;\n    }\n    let /** @type {?} */ imageIndex: number;\n    try {\n      imageIndex = getIndex(this.currentImage, this.images);\n    } catch ( /** @type {?} */err) {\n      console.error(`Internal error while trying to show the active 'dot'`, err);\n      return false;\n    }\n    return index === imageIndex;\n  }\n/**\n * Method called by events from keyboard and mouse.\n * @param {?} index\n * @param {?} event\n * @return {?}\n */\nonDotEvent(index: number, event: KeyboardEvent | MouseEvent) {\n    const /** @type {?} */ result: number = super.handleImageEvent(event);\n    if (result === NEXT) {\n      this.clickDot.emit(index);\n    }\n  }\n/**\n * Method used in the template to track ids in ngFor.\n * @param {?} index\n * @param {?} item\n * @return {?}\n */\ntrackById(index: number, item: Image): number {\n    return item.id;\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'ks-dots',\n  styles: [`\n    .dots-container {\n      display: -webkit-box;\n      display: flex;\n      -webkit-box-orient: horizontal;\n      -webkit-box-direction: normal;\n              flex-direction: row;\n      -webkit-box-pack: center;\n              justify-content: center;\n      margin-bottom: 30px; }\n      .dots-container > .dot {\n        background: #fff;\n        border-radius: 5px;\n        height: 10px;\n        margin-left: 4px;\n        margin-right: 4px;\n        width: 10px;\n        cursor: pointer;\n        opacity: 0.5; }\n        .dots-container > .dot:hover {\n          opacity: 0.9;\n          -webkit-transition: all .5s ease;\n          transition: all .5s ease;\n          -webkit-transition-property: opacity;\n          transition-property: opacity; }\n        .dots-container > .dot.active {\n          cursor: pointer;\n          opacity: 0.9; }\n\n    @-webkit-keyframes fadein-semi-visible05 {\n      from {\n        opacity: 0; }\n      to {\n        opacity: 0.5; } }\n\n    @keyframes fadein-semi-visible05 {\n      from {\n        opacity: 0; }\n      to {\n        opacity: 0.5; } }\n\n    @-webkit-keyframes fadein-semi-visible09 {\n      from {\n        opacity: 0; }\n      to {\n        opacity: 0.9; } }\n\n    @keyframes fadein-semi-visible09 {\n      from {\n        opacity: 0; }\n      to {\n        opacity: 0.9; } }\n  `],\n  template: `\n    <nav class=\"dots-container\" [attr.aria-label]=\"accessibilityConfig?.dotsContainerAriaLabel\"\n         [title]=\"accessibilityConfig?.dotsContainerTitle\">\n      <ng-container *ngIf=\"!configDots || configDots?.visible\">\n        <div class=\"inside dot\"\n             *ngFor=\"let img of images; trackBy: trackById; let index = index\"\n             [ngClass]=\"{'active': isActive(index)}\"\n             [attr.aria-label]=\"accessibilityConfig?.dotAriaLabel + ' ' + (index + 1)\"\n             [tabindex]=\"0\" role=\"navigation\"\n             (click)=\"onDotEvent(index, $event)\" (keyup)=\"onDotEvent(index, $event)\"></div>\n      </ng-container>\n    </nav>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'currentImage': [{ type: Input },],\n'images': [{ type: Input },],\n'dotsConfig': [{ type: Input },],\n'accessibilityConfig': [{ type: Input },],\n'clickDot': [{ type: Output },],\n};\n}\n\nfunction DotsComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nDotsComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nDotsComponent.ctorParameters;\n/** @type {?} */\nDotsComponent.propDecorators;\n/**\n * Object of type `InternalLibImage` that represent the visible image.\n * @type {?}\n */\nDotsComponent.prototype.currentImage;\n/**\n * Array of `InternalLibImage` that represent the model of this library with all images,\n * thumbs and so on.\n * @type {?}\n */\nDotsComponent.prototype.images;\n/**\n * Object of type `DotsConfig` to init DotsComponent's features.\n * For instance, it contains a param to show/hide this component.\n * @type {?}\n */\nDotsComponent.prototype.dotsConfig;\n/**\n * Object of type `AccessibilityConfig` to init custom accessibility features.\n * For instance, it contains titles, alt texts, aria-labels and so on.\n * @type {?}\n */\nDotsComponent.prototype.accessibilityConfig;\n/**\n * Output to emit clicks on dots. The payload contains a number that represent\n * the index of the clicked dot.\n * @type {?}\n */\nDotsComponent.prototype.clickDot;\n/**\n * Object of type `DotsConfig` exposed to the template. This field is initialized\n * applying transformations, default values and so on to the input of the same type.\n * @type {?}\n */\nDotsComponent.prototype.configDots;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","/*\n The MIT License (MIT)\n\n Copyright (c) 2017 Stefano Cappa (Ks89)\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in all\n copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NON INFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n SOFTWARE.\n */\n\n\nimport { ChangeDetectionStrategy, Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\n\nimport { AccessibleComponent } from '../accessible.component';\n\nimport { Action } from '../../model/action.enum';\nimport { Image } from '../../model/image.class';\nimport { ButtonConfig, ButtonEvent, ButtonsConfig, ButtonsStrategy, ButtonType, WHITELIST_BUTTON_TYPES } from '../../model/buttons-config.interface';\n\nimport {\n  KS_DEFAULT_BTN_CLOSE,\n  KS_DEFAULT_BTN_DELETE,\n  KS_DEFAULT_BTN_DOWNLOAD,\n  KS_DEFAULT_BTN_EXTURL\n  // KS_DEFAULT_BTN_REFRESH\n} from './upper-buttons-default';\n\nimport { NEXT } from '../../utils/user-input.util';\n\n/**\n * Internal representation of `ButtonConfig` with an optional `id` field, used by trackId to improve performances.\n */\nexport interface InternalButtonConfig extends ButtonConfig {\n  id?: number; // useful only for trackById, not needed by users\n}\n/**\n * Component with all upper buttons.\n * Also it emits click events as outputs.\n */\nexport class UpperButtonsComponent extends AccessibleComponent implements OnInit {\n/**\n * Object of type `Image` that represent the visible image.\n */\ncurrentImage: Image;\n/**\n * Object of type `ButtonsConfig` to init UpperButtonsComponent's features.\n * For instance, it contains an array of buttons.\n */\nbuttonsConfig: ButtonsConfig;\n/**\n * Output to emit clicks on refresh button. The payload contains a `ButtonEvent`.\n */\nrefresh: EventEmitter<ButtonEvent> = new EventEmitter<ButtonEvent>();\n/**\n * Output to emit clicks on delete button. The payload contains a `ButtonEvent`.\n */\ndelete: EventEmitter<ButtonEvent> = new EventEmitter<ButtonEvent>();\n/**\n * Output to emit clicks on navigate button. The payload contains a `ButtonEvent`.\n */\nnavigate: EventEmitter<ButtonEvent> = new EventEmitter<ButtonEvent>();\n/**\n * Output to emit clicks on download button. The payload contains a `ButtonEvent`.\n */\ndownload: EventEmitter<ButtonEvent> = new EventEmitter<ButtonEvent>();\n/**\n * Output to emit clicks on close button. The payload contains a `ButtonEvent`.\n */\nclose: EventEmitter<ButtonEvent> = new EventEmitter<ButtonEvent>();\n/**\n * Output to emit clicks on all custom buttons. The payload contains a `ButtonEvent`.\n */\ncustomEmit: EventEmitter<ButtonEvent> = new EventEmitter<ButtonEvent>();\n/**\n * Array of `InternalButtonConfig` exposed to the template. This field is initialized\n * applying transformations, default values and so on to the input of the same type.\n */\nbuttons: InternalButtonConfig[];\n/**\n * Object of type `ButtonsConfig` exposed to the template. This field is initialized\n * applying transformations, default values and so on to the input of the same type.\n */\nconfigButtons: ButtonsConfig;\n/**\n * Default buttons array for standard configuration\n */\nprivate defaultButtonsDefault: ButtonConfig[] = [KS_DEFAULT_BTN_CLOSE];\n/**\n * Default buttons array for simple configuration\n */\nprivate simpleButtonsDefault: ButtonConfig[] = [KS_DEFAULT_BTN_DOWNLOAD, ...this.defaultButtonsDefault];\n/**\n * Default buttons array for advanced configuration\n */\nprivate advancedButtonsDefault: ButtonConfig[] = [KS_DEFAULT_BTN_EXTURL, ...this.simpleButtonsDefault];\n/**\n * Default buttons array for full configuration\n */\nprivate fullButtonsDefault: ButtonConfig[] = [/*KS_DEFAULT_BTN_REFRESH, */ KS_DEFAULT_BTN_DELETE, ...this.advancedButtonsDefault];\n/**\n * Method ´ngOnInit´ to build `configButtons` applying a default value and also to\n * init the `buttons` array.\n * This is an Angular's lifecycle hook, so its called automatically by Angular itself.\n * In particular, it's called only one time!!!\n * @return {?}\n */\nngOnInit() {\n    const /** @type {?} */ defaultConfig: ButtonsConfig = { visible: true, strategy: ButtonsStrategy.DEFAULT };\n    this.configButtons = Object.assign(defaultConfig, this.buttonsConfig);\n    switch (this.configButtons.strategy) {\n      case ButtonsStrategy.SIMPLE:\n        this.buttons = this.addButtonIds(this.simpleButtonsDefault);\n        break;\n      case ButtonsStrategy.ADVANCED:\n        this.buttons = this.addButtonIds(this.advancedButtonsDefault);\n        break;\n      case ButtonsStrategy.FULL:\n        this.buttons = this.addButtonIds(this.fullButtonsDefault);\n        break;\n      case ButtonsStrategy.CUSTOM:\n        this.buttons = this.addButtonIds(this.validateCustomButtons(this.configButtons.buttons));\n        break;\n      case ButtonsStrategy.DEFAULT:\n      default:\n        this.buttons = this.addButtonIds(this.defaultButtonsDefault);\n        break;\n    }\n  }\n/**\n * Method called by events from both keyboard and mouse on a button.\n * This will call a private method to trigger an output with the right payload.\n * @throws an error if the button type is unknown\n * @param {?} button\n * @param {?} event\n * @param {?=} action\n * @return {?}\n */\nonEvent(button: InternalButtonConfig, event: KeyboardEvent | MouseEvent, action: Action = Action.CLICK) {\n    if (!event) {\n      return;\n    }\n    const /** @type {?} */ dataToEmit: ButtonEvent = {\n      button: button,\n      // current image initialized as null\n      // (I'll fill this value inside the parent of this component\n      image: null,\n      action: action\n    };\n    switch (button.type) {\n      // case ButtonType.REFRESH:\n      //   this.triggerOnMouseAndKeyboard(this.refresh, event, dataToEmit);\n      //   break;\n      case ButtonType.DELETE:\n        this.triggerOnMouseAndKeyboard(this.delete, event, dataToEmit);\n        break;\n      case ButtonType.EXTURL:\n        if (!this.currentImage || !this.currentImage.modal || !this.currentImage.modal.extUrl) {\n          return;\n        }\n        this.triggerOnMouseAndKeyboard(this.navigate, event, dataToEmit);\n        break;\n      case ButtonType.DOWNLOAD:\n        this.triggerOnMouseAndKeyboard(this.download, event, dataToEmit);\n        break;\n      case ButtonType.CLOSE:\n        this.triggerOnMouseAndKeyboard(this.close, event, dataToEmit);\n        break;\n      case ButtonType.CUSTOM:\n        this.triggerOnMouseAndKeyboard(this.customEmit, event, dataToEmit);\n        break;\n      default:\n        throw new Error(`Unknown button's type into ButtonConfig`);\n    }\n  }\n/**\n * Method used in the template to track ids in ngFor.\n * @param {?} index\n * @param {?} item\n * @return {?}\n */\ntrackById(index: number, item: InternalButtonConfig): number | undefined {\n    return item ? item.id : undefined;\n  }\n/**\n * Private method to emit an event using the specified output as an `EventEmitter`.\n * @param {?} emitter\n * @param {?} event\n * @param {?} dataToEmit\n * @return {?}\n */\nprivate triggerOnMouseAndKeyboard(emitter: EventEmitter<ButtonEvent>, event: KeyboardEvent | MouseEvent, dataToEmit: ButtonEvent) {\n    if (!emitter) {\n      throw new Error(`UpperButtonsComponent unknown emitter in triggerOnMouseAndKeyboard`);\n    }\n\n    const /** @type {?} */ result: number = super.handleImageEvent(event);\n    if (result === NEXT) {\n      emitter.emit(dataToEmit);\n    }\n  }\n/**\n * Private method to add ids to the array of buttons.\n * It adds ids in a reverse way, to be sure that the last button will always have id = 0.\n * This is really useful in unit testing to be sure that close button always have id = 0, download 1 and so on...\n * It's totally transparent to the user.\n * @param {?} buttons\n * @return {?}\n */\nprivate addButtonIds(buttons: ButtonConfig[]): ButtonConfig[] {\n    return buttons.map((val: ButtonConfig, i: number) => Object.assign(val, { id: buttons.length - 1 - i }));\n  }\n/**\n * Private method to validate custom buttons received as input.\n * @throws an error is exists a button with an unknown type\n * @param {?=} buttons\n * @return {?}\n */\nprivate validateCustomButtons(buttons: ButtonConfig[] = []): ButtonConfig[] {\n    buttons.forEach((val: ButtonConfig) => {\n      const /** @type {?} */ indexOfButtonType: number = WHITELIST_BUTTON_TYPES.findIndex((type: ButtonType) => type === val.type);\n      if (indexOfButtonType === -1) {\n        throw new Error(`Unknown ButtonType. For custom types use ButtonType.CUSTOM`);\n      }\n    });\n    return buttons;\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'ks-upper-buttons',\n  styles: [`\n    .buttons-container {\n      display: -webkit-box;\n      display: flex;\n      -webkit-box-orient: horizontal;\n      -webkit-box-direction: normal;\n              flex-direction: row;\n      -webkit-box-pack: end;\n              justify-content: flex-end; }\n      .buttons-container > .upper-button {\n        align-self: center;\n        margin-right: 30px;\n        margin-top: 28px;\n        font-size: 50px;\n        text-decoration: none;\n        cursor: pointer;\n        -webkit-animation: animatezoom 0.6s;\n                animation: animatezoom 0.6s;\n        color: white; }\n\n    @-webkit-keyframes animatezoom {\n      from {\n        -webkit-transform: scale(0);\n                transform: scale(0); }\n      to {\n        -webkit-transform: scale(1);\n                transform: scale(1); } }\n\n    @keyframes animatezoom {\n      from {\n        -webkit-transform: scale(0);\n                transform: scale(0); }\n      to {\n        -webkit-transform: scale(1);\n                transform: scale(1); } }\n\n    .base-btn, .delete-image, .ext-url-image, .download-image, .close-image, .refresh-image, .copy {\n      width: 30px;\n      height: 30px;\n      background-size: 30px;\n      opacity: 0.8;\n      -webkit-transition: all 0.5s;\n      transition: all 0.5s; }\n      .base-btn:hover, .delete-image:hover, .ext-url-image:hover, .download-image:hover, .close-image:hover, .refresh-image:hover, .copy:hover {\n        -webkit-transform: scale(1.2);\n                transform: scale(1.2); }\n\n    .delete-image {\n      background-image: url(\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ4Ni40IDQ4Ni40IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0ODYuNCA0ODYuNDsiIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSI1MTJweCIgaGVpZ2h0PSI1MTJweCI+PGc+PGc+PHBhdGggZD0iTTQ0Niw3MEgzNDQuOFY1My41YzAtMjkuNS0yNC01My41LTUzLjUtNTMuNWgtOTYuMmMtMjkuNSwwLTUzLjUsMjQtNTMuNSw1My41VjcwSDQwLjRjLTcuNSwwLTEzLjUsNi0xMy41LDEzLjUgICAgUzMyLjksOTcsNDAuNCw5N2gyNC40djMxNy4yYzAsMzkuOCwzMi40LDcyLjIsNzIuMiw3Mi4yaDIxMi40YzM5LjgsMCw3Mi4yLTMyLjQsNzIuMi03Mi4yVjk3SDQ0NmM3LjUsMCwxMy41LTYsMTMuNS0xMy41ICAgIFM0NTMuNSw3MCw0NDYsNzB6IE0xNjguNiw1My41YzAtMTQuNiwxMS45LTI2LjUsMjYuNS0yNi41aDk2LjJjMTQuNiwwLDI2LjUsMTEuOSwyNi41LDI2LjVWNzBIMTY4LjZWNTMuNXogTTM5NC42LDQxNC4yICAgIGMwLDI0LjktMjAuMyw0NS4yLTQ1LjIsNDUuMkgxMzdjLTI0LjksMC00NS4yLTIwLjMtNDUuMi00NS4yVjk3aDMwMi45djMxNy4ySDM5NC42eiIgZmlsbD0iI0ZGRkZGRiIvPjxwYXRoIGQ9Ik0yNDMuMiw0MTFjNy41LDAsMTMuNS02LDEzLjUtMTMuNVYxNTguOWMwLTcuNS02LTEzLjUtMTMuNS0xMy41cy0xMy41LDYtMTMuNSwxMy41djIzOC41ICAgIEMyMjkuNyw0MDQuOSwyMzUuNyw0MTEsMjQzLjIsNDExeiIgZmlsbD0iI0ZGRkZGRiIvPjxwYXRoIGQ9Ik0xNTUuMSwzOTYuMWM3LjUsMCwxMy41LTYsMTMuNS0xMy41VjE3My43YzAtNy41LTYtMTMuNS0xMy41LTEzLjVzLTEzLjUsNi0xMy41LDEzLjV2MjA4LjkgICAgQzE0MS42LDM5MC4xLDE0Ny43LDM5Ni4xLDE1NS4xLDM5Ni4xeiIgZmlsbD0iI0ZGRkZGRiIvPjxwYXRoIGQ9Ik0zMzEuMywzOTYuMWM3LjUsMCwxMy41LTYsMTMuNS0xMy41VjE3My43YzAtNy41LTYtMTMuNS0xMy41LTEzLjVzLTEzLjUsNi0xMy41LDEzLjV2MjA4LjkgICAgQzMxNy44LDM5MC4xLDMyMy44LDM5Ni4xLDMzMS4zLDM5Ni4xeiIgZmlsbD0iI0ZGRkZGRiIvPjwvZz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PC9zdmc+\"); }\n\n    .ext-url-image {\n      background-image: url(\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDUxMiA1MTI7IiB4bWw6c3BhY2U9InByZXNlcnZlIiB3aWR0aD0iNTEycHgiIGhlaWdodD0iNTEycHgiPjxnPjxnPjxnPjxwYXRoIGQ9Ik00ODAsMjg4djExMmMwLDQ0LjE4My0zNS44MTcsODAtODAsODBIMTEyYy00NC4xODMsMC04MC0zNS44MTctODAtODBWMTEyYzAtNDQuMTgzLDM1LjgxNy04MCw4MC04MGg5NlYwaC05NiAgICAgQzUwLjE0NCwwLDAsNTAuMTQ0LDAsMTEydjI4OGMwLDYxLjg1Niw1MC4xNDQsMTEyLDExMiwxMTJoMjg4YzYxLjg1NiwwLDExMi01MC4xNDQsMTEyLTExMlYyODhINDgweiIgZmlsbD0iI0ZGRkZGRiIvPjxwYXRoIGQ9Ik0xNzYsNDE2aDMyVjI4OGMwLTEyNS43NiwxMDcuNTItMTI4LDExMi0xMjhoMTA1LjQ0bC04NC42NCw4NC42NGwyMi41NiwyMi41NmwxMTItMTEyYzYuMjA0LTYuMjQxLDYuMjA0LTE2LjMxOSwwLTIyLjU2ICAgICBsLTExMi0xMTJsLTIyLjcyLDIyLjcybDg0LjgsODQuNjRIMzIwYy0xLjQ0LDAtMTQ0LDEuNzYtMTQ0LDE2MFY0MTZ6IiBmaWxsPSIjRkZGRkZGIi8+PC9nPjwvZz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PC9zdmc+\"); }\n\n    .download-image {\n      background-image: url(\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ3MS4yIDQ3MS4yIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NzEuMiA0NzEuMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSI1MTJweCIgaGVpZ2h0PSI1MTJweCI+PGc+PGc+PHBhdGggZD0iTTQ1Ny43LDIzMC4xNWMtNy41LDAtMTMuNSw2LTEzLjUsMTMuNXYxMjIuOGMwLDMzLjQtMjcuMiw2MC41LTYwLjUsNjAuNUg4Ny41Yy0zMy40LDAtNjAuNS0yNy4yLTYwLjUtNjAuNXYtMTI0LjggICAgYzAtNy41LTYtMTMuNS0xMy41LTEzLjVzLTEzLjUsNi0xMy41LDEzLjV2MTI0LjhjMCw0OC4zLDM5LjMsODcuNSw4Ny41LDg3LjVoMjk2LjJjNDguMywwLDg3LjUtMzkuMyw4Ny41LTg3LjV2LTEyMi44ICAgIEM0NzEuMiwyMzYuMjUsNDY1LjIsMjMwLjE1LDQ1Ny43LDIzMC4xNXoiIGZpbGw9IiNGRkZGRkYiLz48cGF0aCBkPSJNMjI2LjEsMzQ2Ljc1YzIuNiwyLjYsNi4xLDQsOS41LDRzNi45LTEuMyw5LjUtNGw4NS44LTg1LjhjNS4zLTUuMyw1LjMtMTMuOCwwLTE5LjFjLTUuMy01LjMtMTMuOC01LjMtMTkuMSwwbC02Mi43LDYyLjggICAgVjMwLjc1YzAtNy41LTYtMTMuNS0xMy41LTEzLjVzLTEzLjUsNi0xMy41LDEzLjV2MjczLjlsLTYyLjgtNjIuOGMtNS4zLTUuMy0xMy44LTUuMy0xOS4xLDBjLTUuMyw1LjMtNS4zLDEzLjgsMCwxOS4xICAgIEwyMjYuMSwzNDYuNzV6IiBmaWxsPSIjRkZGRkZGIi8+PC9nPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48L3N2Zz4=\"); }\n\n    .close-image {\n      background-image: url(\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ3NS4yIDQ3NS4yIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NzUuMiA0NzUuMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSI1MTJweCIgaGVpZ2h0PSI1MTJweCI+PGc+PGc+PHBhdGggZD0iTTQwNS42LDY5LjZDMzYwLjcsMjQuNywzMDEuMSwwLDIzNy42LDBzLTEyMy4xLDI0LjctMTY4LDY5LjZTMCwxNzQuMSwwLDIzNy42czI0LjcsMTIzLjEsNjkuNiwxNjhzMTA0LjUsNjkuNiwxNjgsNjkuNiAgICBzMTIzLjEtMjQuNywxNjgtNjkuNnM2OS42LTEwNC41LDY5LjYtMTY4UzQ1MC41LDExNC41LDQwNS42LDY5LjZ6IE0zODYuNSwzODYuNWMtMzkuOCwzOS44LTkyLjcsNjEuNy0xNDguOSw2MS43ICAgIHMtMTA5LjEtMjEuOS0xNDguOS02MS43Yy04Mi4xLTgyLjEtODIuMS0yMTUuNywwLTI5Ny44QzEyOC41LDQ4LjksMTgxLjQsMjcsMjM3LjYsMjdzMTA5LjEsMjEuOSwxNDguOSw2MS43ICAgIEM0NjguNiwxNzAuOCw0NjguNiwzMDQuNCwzODYuNSwzODYuNXoiIGZpbGw9IiNGRkZGRkYiLz48cGF0aCBkPSJNMzQyLjMsMTMyLjljLTUuMy01LjMtMTMuOC01LjMtMTkuMSwwbC04NS42LDg1LjZMMTUyLDEzMi45Yy01LjMtNS4zLTEzLjgtNS4zLTE5LjEsMGMtNS4zLDUuMy01LjMsMTMuOCwwLDE5LjEgICAgbDg1LjYsODUuNmwtODUuNiw4NS42Yy01LjMsNS4zLTUuMywxMy44LDAsMTkuMWMyLjYsMi42LDYuMSw0LDkuNSw0czYuOS0xLjMsOS41LTRsODUuNi04NS42bDg1LjYsODUuNmMyLjYsMi42LDYuMSw0LDkuNSw0ICAgIGMzLjUsMCw2LjktMS4zLDkuNS00YzUuMy01LjMsNS4zLTEzLjgsMC0xOS4xbC04NS40LTg1LjZsODUuNi04NS42QzM0Ny42LDE0Ni43LDM0Ny42LDEzOC4yLDM0Mi4zLDEzMi45eiIgZmlsbD0iI0ZGRkZGRiIvPjwvZz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PC9zdmc+\"); }\n\n    .refresh-image {\n      background-image: url(\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ4OS43MTEgNDg5LjcxMSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDg5LjcxMSA0ODkuNzExOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjUxMnB4IiBoZWlnaHQ9IjUxMnB4Ij48Zz48Zz48cGF0aCBkPSJNMTEyLjE1Niw5Ny4xMTFjNzIuMy02NS40LDE4MC41LTY2LjQsMjUzLjgtNi43bC01OC4xLDIuMmMtNy41LDAuMy0xMy4zLDYuNS0xMywxNGMwLjMsNy4zLDYuMywxMywxMy41LDEzICAgIGMwLjIsMCwwLjMsMCwwLjUsMGw4OS4yLTMuM2M3LjMtMC4zLDEzLTYuMiwxMy0xMy41di0xYzAtMC4yLDAtMC4zLDAtMC41di0wLjFsMCwwbC0zLjMtODguMmMtMC4zLTcuNS02LjYtMTMuMy0xNC0xMyAgICBjLTcuNSwwLjMtMTMuMyw2LjUtMTMsMTRsMi4xLDU1LjNjLTM2LjMtMjkuNy04MS00Ni45LTEyOC44LTQ5LjNjLTU5LjItMy0xMTYuMSwxNy4zLTE2MCw1Ny4xYy02MC40LDU0LjctODYsMTM3LjktNjYuOCwyMTcuMSAgICBjMS41LDYuMiw3LDEwLjMsMTMuMSwxMC4zYzEuMSwwLDIuMS0wLjEsMy4yLTAuNGM3LjItMS44LDExLjctOS4xLDkuOS0xNi4zQzM2LjY1NiwyMTguMjExLDU5LjA1NiwxNDUuMTExLDExMi4xNTYsOTcuMTExeiIgZmlsbD0iI0ZGRkZGRiIvPjxwYXRoIGQ9Ik00NjIuNDU2LDE5NS41MTFjLTEuOC03LjItOS4xLTExLjctMTYuMy05LjljLTcuMiwxLjgtMTEuNyw5LjEtOS45LDE2LjNjMTYuOSw2OS42LTUuNiwxNDIuNy01OC43LDE5MC43ICAgIGMtMzcuMywzMy43LTg0LjEsNTAuMy0xMzAuNyw1MC4zYy00NC41LDAtODguOS0xNS4xLTEyNC43LTQ0LjlsNTguOC01LjNjNy40LTAuNywxMi45LTcuMiwxMi4yLTE0LjdzLTcuMi0xMi45LTE0LjctMTIuMmwtODguOSw4ICAgIGMtNy40LDAuNy0xMi45LDcuMi0xMi4yLDE0LjdsOCw4OC45YzAuNiw3LDYuNSwxMi4zLDEzLjQsMTIuM2MwLjQsMCwwLjgsMCwxLjItMC4xYzcuNC0wLjcsMTIuOS03LjIsMTIuMi0xNC43bC00LjgtNTQuMSAgICBjMzYuMywyOS40LDgwLjgsNDYuNSwxMjguMyw0OC45YzMuOCwwLjIsNy42LDAuMywxMS4zLDAuM2M1NS4xLDAsMTA3LjUtMjAuMiwxNDguNy01Ny40ICAgIEM0NTYuMDU2LDM1Ny45MTEsNDgxLjY1NiwyNzQuODExLDQ2Mi40NTYsMTk1LjUxMXoiIGZpbGw9IiNGRkZGRkYiLz48L2c+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjwvc3ZnPg==\"); }\n\n    .copy {\n      background-image: url(\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ4OC4zIDQ4OC4zIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0ODguMyA0ODguMzsiIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSI1MTJweCIgaGVpZ2h0PSI1MTJweCI+PGc+PGc+PHBhdGggZD0iTTMxNC4yNSw4NS40aC0yMjdjLTIxLjMsMC0zOC42LDE3LjMtMzguNiwzOC42djMyNS43YzAsMjEuMywxNy4zLDM4LjYsMzguNiwzOC42aDIyN2MyMS4zLDAsMzguNi0xNy4zLDM4LjYtMzguNlYxMjQgICAgQzM1Mi43NSwxMDIuNywzMzUuNDUsODUuNCwzMTQuMjUsODUuNHogTTMyNS43NSw0NDkuNmMwLDYuNC01LjIsMTEuNi0xMS42LDExLjZoLTIyN2MtNi40LDAtMTEuNi01LjItMTEuNi0xMS42VjEyNCAgICBjMC02LjQsNS4yLTExLjYsMTEuNi0xMS42aDIyN2M2LjQsMCwxMS42LDUuMiwxMS42LDExLjZWNDQ5LjZ6IiBmaWxsPSIjRkZGRkZGIi8+PHBhdGggZD0iTTQwMS4wNSwwaC0yMjdjLTIxLjMsMC0zOC42LDE3LjMtMzguNiwzOC42YzAsNy41LDYsMTMuNSwxMy41LDEzLjVzMTMuNS02LDEzLjUtMTMuNWMwLTYuNCw1LjItMTEuNiwxMS42LTExLjZoMjI3ICAgIGM2LjQsMCwxMS42LDUuMiwxMS42LDExLjZ2MzI1LjdjMCw2LjQtNS4yLDExLjYtMTEuNiwxMS42Yy03LjUsMC0xMy41LDYtMTMuNSwxMy41czYsMTMuNSwxMy41LDEzLjVjMjEuMywwLDM4LjYtMTcuMywzOC42LTM4LjYgICAgVjM4LjZDNDM5LjY1LDE3LjMsNDIyLjM1LDAsNDAxLjA1LDB6IiBmaWxsPSIjRkZGRkZGIi8+PC9nPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48L3N2Zz4=\"); }\n  `],\n  template: `\n    <header class=\"buttons-container\">\n\n      <ng-container *ngIf=\"!configButtons || configButtons?.visible\">\n        <a *ngFor=\"let btn of buttons; trackBy: trackById; let index = index\"\n           class=\"upper-button\"\n           ksSize [sizeConfig]=\"{width: btn.size?.width, height: btn.size?.height}\"\n           [ngStyle]=\"{'font-size': btn.fontSize}\"\n           [attr.aria-label]=\"btn.ariaLabel\"\n           [tabindex]=\"0\" role=\"button\"\n           (click)=\"onEvent(btn, $event)\" (keyup)=\"onEvent(btn, $event)\">\n          <div class=\"inside {{btn.className}}\" aria-hidden=\"true\" title=\"{{btn.title}}\"></div>\n        </a>\n      </ng-container>\n    </header>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'currentImage': [{ type: Input },],\n'buttonsConfig': [{ type: Input },],\n'refresh': [{ type: Output },],\n'delete': [{ type: Output },],\n'navigate': [{ type: Output },],\n'download': [{ type: Output },],\n'close': [{ type: Output },],\n'customEmit': [{ type: Output },],\n};\n}\n\nfunction UpperButtonsComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nUpperButtonsComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nUpperButtonsComponent.ctorParameters;\n/** @type {?} */\nUpperButtonsComponent.propDecorators;\n/**\n * Object of type `Image` that represent the visible image.\n * @type {?}\n */\nUpperButtonsComponent.prototype.currentImage;\n/**\n * Object of type `ButtonsConfig` to init UpperButtonsComponent's features.\n * For instance, it contains an array of buttons.\n * @type {?}\n */\nUpperButtonsComponent.prototype.buttonsConfig;\n/**\n * Output to emit clicks on refresh button. The payload contains a `ButtonEvent`.\n * @type {?}\n */\nUpperButtonsComponent.prototype.refresh;\n/**\n * Output to emit clicks on delete button. The payload contains a `ButtonEvent`.\n * @type {?}\n */\nUpperButtonsComponent.prototype.delete;\n/**\n * Output to emit clicks on navigate button. The payload contains a `ButtonEvent`.\n * @type {?}\n */\nUpperButtonsComponent.prototype.navigate;\n/**\n * Output to emit clicks on download button. The payload contains a `ButtonEvent`.\n * @type {?}\n */\nUpperButtonsComponent.prototype.download;\n/**\n * Output to emit clicks on close button. The payload contains a `ButtonEvent`.\n * @type {?}\n */\nUpperButtonsComponent.prototype.close;\n/**\n * Output to emit clicks on all custom buttons. The payload contains a `ButtonEvent`.\n * @type {?}\n */\nUpperButtonsComponent.prototype.customEmit;\n/**\n * Array of `InternalButtonConfig` exposed to the template. This field is initialized\n * applying transformations, default values and so on to the input of the same type.\n * @type {?}\n */\nUpperButtonsComponent.prototype.buttons;\n/**\n * Object of type `ButtonsConfig` exposed to the template. This field is initialized\n * applying transformations, default values and so on to the input of the same type.\n * @type {?}\n */\nUpperButtonsComponent.prototype.configButtons;\n/**\n * Default buttons array for standard configuration\n * @type {?}\n */\nUpperButtonsComponent.prototype.defaultButtonsDefault;\n/**\n * Default buttons array for simple configuration\n * @type {?}\n */\nUpperButtonsComponent.prototype.simpleButtonsDefault;\n/**\n * Default buttons array for advanced configuration\n * @type {?}\n */\nUpperButtonsComponent.prototype.advancedButtonsDefault;\n/**\n * Default buttons array for full configuration\n * @type {?}\n */\nUpperButtonsComponent.prototype.fullButtonsDefault;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { ButtonConfig, ButtonType } from '../../model/buttons-config.interface';\nimport { Size } from '../../model/size.interface';\n/**\n * Default button size object\n */\nexport const KS_DEFAULT_SIZE: Size = { height: 'auto', width: '30px' };\n/**\n * Default close button object\n */\nexport const KS_DEFAULT_BTN_CLOSE: ButtonConfig = {\n  className: 'close-image',\n  size: KS_DEFAULT_SIZE,\n  type: ButtonType.CLOSE,\n  title: 'Close this modal image gallery',\n  ariaLabel: 'Close this modal image gallery'\n};\n/**\n * Default download button object\n */\nexport const KS_DEFAULT_BTN_DOWNLOAD: ButtonConfig = {\n  className: 'download-image',\n  size: KS_DEFAULT_SIZE,\n  type: ButtonType.DOWNLOAD,\n  title: 'Download the current image',\n  ariaLabel: 'Download the current image'\n};\n/**\n * Default exturl button object\n */\nexport const KS_DEFAULT_BTN_EXTURL: ButtonConfig = {\n  className: 'ext-url-image',\n  size: KS_DEFAULT_SIZE,\n  type: ButtonType.EXTURL,\n  title: 'Navigate the current image',\n  ariaLabel: 'Navigate the current image'\n};\n/**\n * Default delete button object\n */\nexport const KS_DEFAULT_BTN_DELETE: ButtonConfig = {\n  className: 'delete-image',\n  size: KS_DEFAULT_SIZE,\n  type: ButtonType.DELETE,\n  title: 'Delete the current image',\n  ariaLabel: 'Delete the current image'\n};\n","/*\n The MIT License (MIT)\n\n Copyright (c) 2017-2018 Stefano Cappa (Ks89)\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in all\n copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NON INFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n SOFTWARE.\n */\n\n\nimport { Action } from './action.enum';\nimport { InternalLibImage } from './image-internal.class';\nimport { Size } from './size.interface';\n\n/**\n * Interface `ButtonsConfig` to add buttons, show/hide their, and to add the strategy.\n */\nexport interface ButtonsConfig {\n  visible: boolean;\n  strategy: ButtonsStrategy;\n  buttons?: ButtonConfig[];\n}\n\n/**\n * Interface `ButtonConfig` to configure a single button.\n */\nexport interface ButtonConfig {\n  className?: string;\n  size?: Size;\n  fontSize?: string;\n  type: ButtonType;\n  title?: string;\n  ariaLabel?: string;\n  extUrlInNewTab?: boolean; // to open the external url in a new tab, instead of the current one\n}\n\n/**\n * Interface `ButtonEvent` to represent the event payload when a button is clicked.\n */\nexport interface ButtonEvent {\n  button: ButtonConfig;\n  image: InternalLibImage | null;\n  action: Action;\n}\nexport type ButtonsStrategy = number;\nexport let ButtonsStrategy: any = {};\nButtonsStrategy.DEFAULT = 1;\nButtonsStrategy.SIMPLE = 2;\nButtonsStrategy.ADVANCED = 3;\nButtonsStrategy.FULL = 4;\nButtonsStrategy.CUSTOM = 5;\nButtonsStrategy[ButtonsStrategy.DEFAULT] = \"DEFAULT\";\nButtonsStrategy[ButtonsStrategy.SIMPLE] = \"SIMPLE\";\nButtonsStrategy[ButtonsStrategy.ADVANCED] = \"ADVANCED\";\nButtonsStrategy[ButtonsStrategy.FULL] = \"FULL\";\nButtonsStrategy[ButtonsStrategy.CUSTOM] = \"CUSTOM\";\n\nexport type ButtonType = number;\nexport let ButtonType: any = {};\nButtonType.DELETE = 1;\nButtonType.EXTURL = 2;\nButtonType.DOWNLOAD = 3;\nButtonType.CLOSE = 4;\nButtonType.CUSTOM = 5;\nButtonType[ButtonType.DELETE] = \"DELETE\";\nButtonType[ButtonType.EXTURL] = \"EXTURL\";\nButtonType[ButtonType.DOWNLOAD] = \"DOWNLOAD\";\nButtonType[ButtonType.CLOSE] = \"CLOSE\";\nButtonType[ButtonType.CUSTOM] = \"CUSTOM\";\n\n/**\n * Array of admitted types of buttons.\n */\nexport const WHITELIST_BUTTON_TYPES: ButtonType[] = [\n  // ButtonType.REFRESH,\n  ButtonType.DELETE,\n  ButtonType.EXTURL,\n  ButtonType.DOWNLOAD,\n  ButtonType.CLOSE,\n  ButtonType.CUSTOM\n];\n","/*\n The MIT License (MIT)\n\n Copyright (c) 2017-2018 Stefano Cappa (Ks89)\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in all\n copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NON INFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n SOFTWARE.\n */\n\n\nimport {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  EventEmitter,\n  Inject,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  PLATFORM_ID,\n  SimpleChange,\n  SimpleChanges,\n  ViewChild\n} from '@angular/core';\nimport { isPlatformBrowser, isPlatformServer } from '@angular/common';\n\nimport { ButtonEvent, ButtonsConfig } from '../../model/buttons-config.interface';\nimport { Image, ImageModalEvent } from '../../model/image.class';\nimport { Action } from '../../model/action.enum';\nimport { Description } from '../../model/description.interface';\nimport { KeyboardConfig } from '../../model/keyboard-config.interface';\nimport { LoadingConfig } from '../../model/loading-config.interface';\nimport { PreviewConfig } from '../../model/preview-config.interface';\nimport { SlideConfig } from '../../model/slide-config.interface';\nimport { AccessibilityConfig } from '../../model/accessibility.interface';\nimport { KeyboardService } from '../../services/keyboard.service';\nimport { GalleryService, InternalGalleryPayload } from '../../services/gallery.service';\nimport { DotsConfig } from '../../model/dots-config.interface';\nimport { CurrentImageComponent, ImageLoadEvent } from '../current-image/current-image.component';\nimport { InternalLibImage } from '../../model/image-internal.class';\nimport { AdvancedLayout, PlainGalleryConfig } from '../../model/plain-gallery-config.interface';\nimport { KS_DEFAULT_ACCESSIBILITY_CONFIG } from '../accessibility-default';\nimport { Subscription } from 'rxjs/Subscription';\nimport { CurrentImageConfig } from '../../model/current-image-config.interface';\n/**\n * Main Component of this library with both the plain and modal galleries.\n */\nexport class ModalGalleryComponent implements OnInit, OnDestroy, OnChanges {\n/**\n * Unique id (>=0) of the current instance of this library. This is useful when you are using\n * the service to call modal gallery without open it manually.\n * Right now is optional, but in upcoming major releases will be mandatory!!!\n */\nid: number | undefined;\n/**\n * Array of `Image` that represent the model of this library with all images, thumbs and so on.\n */\nmodalImages: Image[];\n/**\n * Object of type `ButtonsConfig` to show/hide buttons.\n */\nbuttonsConfig: ButtonsConfig;\n/**\n * Boolean to enable modal-gallery close behaviour when clicking\n * on the semi-transparent background. Enabled by default.\n */\nenableCloseOutside = true;\n/**\n * Interface to configure current image in modal-gallery.\n * For instance you can disable navigation on click on current image (enabled by default).\n */\ncurrentImageConfig: CurrentImageConfig;\n/**\n * Boolean required to enable image download with both ctrl+s/cmd+s and download button.\n * If you want to show enable button, this is not enough. You have to use also `buttonsConfig`.\n * TODO: this will be removed in version 6.0.0 because it will be into currentImageConfig\n */\ndownloadable = false;\n/**\n * Object of type `LoadingConfig` that contains fields like enable/disable\n * and a way to choose a loading spinner.\n * TODO: this will be removed in version 6.0.0 because it will be into currentImageConfig\n */\nloadingConfig: LoadingConfig;\n/**\n * Object of type `Description` to configure and show image descriptions.\n * TODO: this will be removed in version 6.0.0 because it will be into currentImageConfig\n */\ndescription: Description;\n/**\n * Object of type `DotsConfig` to init DotsComponent's features.\n * For instance, it contains a param to show/hide dots.\n */\ndotsConfig: DotsConfig;\n/**\n * Object of type `PreviewConfig` to init PreviewsComponent's features.\n * For instance, it contains a param to show/hide previews.\n */\npreviewConfig: PreviewConfig;\n/**\n * Object of type `SlideConfig` to init side previews and `infinite sliding`.\n */\nslideConfig: SlideConfig = {\n    infinite: false,\n    sidePreviews: { show: true, size: { width: '100px', height: 'auto' } }\n  };\n/**\n * Object of type `AccessibilityConfig` to init custom accessibility features.\n * For instance, it contains titles, alt texts, aria-labels and so on.\n */\naccessibilityConfig: AccessibilityConfig = KS_DEFAULT_ACCESSIBILITY_CONFIG;\n/**\n * Object of type `KeyboardConfig` to assign custom keys to ESC, RIGHT and LEFT keyboard's actions.\n */\nkeyboardConfig: KeyboardConfig;\n/**\n * Object of type `PlainGalleryConfig` to configure the plain gallery.\n */\nplainGalleryConfig: PlainGalleryConfig;\n/**\n * Output to emit an event when the modal gallery is closed.\n */\nclose: EventEmitter<ImageModalEvent> = new EventEmitter<ImageModalEvent>();\n/**\n * Output to emit an event when an image is changed.\n */\nshow: EventEmitter<ImageModalEvent> = new EventEmitter<ImageModalEvent>();\n/**\n * Output to emit an event when the current image is the first one.\n */\nfirstImage: EventEmitter<ImageModalEvent> = new EventEmitter<ImageModalEvent>();\n/**\n * Output to emit an event when the current image is the last one.\n */\nlastImage: EventEmitter<ImageModalEvent> = new EventEmitter<ImageModalEvent>();\n/**\n * Output to emit an event when the modal gallery is closed.\n */\nhasData: EventEmitter<ImageModalEvent> = new EventEmitter<ImageModalEvent>();\n/**\n * Output to emit an event when a button is clicked, but before that the action is triggered.\n */\nbuttonBeforeHook: EventEmitter<ButtonEvent> = new EventEmitter<ButtonEvent>();\n/**\n * Output to emit an event when a button is clicked, but after that the action is triggered.\n */\nbuttonAfterHook: EventEmitter<ButtonEvent> = new EventEmitter<ButtonEvent>();\n/**\n * Reference to the CurrentImageComponent to invoke methods on it.\n */\ncurrentImageComponent;\n/**\n * Boolean that it is true if the modal gallery is visible. False by default.\n */\nopened = false;\n/**\n * Boolean to open the modal gallery. False by default.\n */\nshowGallery = false;\n/**\n * Array of `InternalLibImage` representing the model of this library with all images, thumbs and so on.\n */\nimages: InternalLibImage[];\n/**\n * `Image` that is visible right now.\n */\ncurrentImage: InternalLibImage;\nprivate galleryServiceSubscription: Subscription;\n/**\n * Constructor with the injection of ´KeyboardService´ and an object to support Server-Side Rendering.\n * @param {?} keyboardService\n * @param {?} galleryService\n * @param {?} platformId\n * @param {?} changeDetectorRef\n */\nconstructor(\nprivate keyboardService: KeyboardService,\nprivate galleryService: GalleryService,\nprivate platformId: Object,\nprivate changeDetectorRef: ChangeDetectorRef\n  ) {}\n/**\n * Method ´ngOnInit´ to init images calling `initImages()`.\n * This is an Angular's lifecycle hook, so its called automatically by Angular itself.\n * In particular, it's called only one time!!!\n * @return {?}\n */\nngOnInit() {\n    // call initImages to init images and to emit `hasData` event\n    this.initImages();\n\n    this.galleryServiceSubscription = this.galleryService.navigate.subscribe((payload: InternalGalleryPayload) => {\n      if (!payload) {\n        return;\n      }\n      // if galleryId is not valid OR galleryId is relasted to another instance and not this one\n      if (payload.galleryId < 0 || payload.galleryId !== this.id) {\n        return;\n      }\n      // if image index is not valid\n      if (payload.index < 0 || payload.index > this.images.length) {\n        return;\n      }\n      this.showModalGallery(payload.index, true);\n    });\n  }\n/**\n * Method ´ngOnChanges´ to re-init images if input is changed.\n * This is an Angular's lifecycle hook, so its called automatically by Angular itself.\n * In particular, it's called before `ngOnInit()` and whenever one or more data-bound input properties change.\n * @param {?} changes `SimpleChanges` object of current and previous property values provided by Angular.\n * @return {?}\n */\nngOnChanges(changes: SimpleChanges) {\n    const /** @type {?} */ imagesChange: SimpleChange = changes.modalImages;\n    const /** @type {?} */ plainGalleryConfigChange: SimpleChange = changes.plainGalleryConfig;\n\n    if (imagesChange && !imagesChange.firstChange && imagesChange.previousValue !== imagesChange.currentValue) {\n      this.initImages();\n    }\n\n    if (plainGalleryConfigChange) {\n      // const prevPlainGalleryConfigChange: any = plainGalleryConfigChange.previousValue;\n      const /** @type {?} */ currPlainGalleryConfigChange: PlainGalleryConfig = plainGalleryConfigChange.currentValue;\n      if (\n        currPlainGalleryConfigChange.layout &&\n        currPlainGalleryConfigChange.layout instanceof AdvancedLayout &&\n        currPlainGalleryConfigChange.layout.modalOpenerByIndex !== -1\n      ) {\n        // console.log('opening modal gallery from custom plain gallery, index: ', currPlainGalleryConfigChange);\n        this.showModalGallery(currPlainGalleryConfigChange.layout.modalOpenerByIndex);\n      }\n    }\n  }\n/**\n * Method called by custom upper buttons.\n * @param {?} event\n * @return {?}\n */\nonCustomEmit(event: ButtonEvent) {\n    const /** @type {?} */ eventToEmit: ButtonEvent = this.getButtonEventToEmit(event);\n    this.buttonBeforeHook.emit(eventToEmit);\n    // console.log('on onCustomEmit', eventToEmit);\n    this.buttonAfterHook.emit(eventToEmit);\n  }\n/**\n * Method called by the delete upper button.\n * @param {?} event\n * @return {?}\n */\nonDelete(event: ButtonEvent) {\n    const /** @type {?} */ eventToEmit: ButtonEvent = this.getButtonEventToEmit(event);\n    this.buttonBeforeHook.emit(eventToEmit);\n\n    if (this.images.length === 1) {\n      this.closeGallery();\n    }\n\n    const /** @type {?} */ imageIndexToDelete: number = this.currentImageComponent.getIndexToDelete(event.image);\n    if (imageIndexToDelete === this.images.length - 1) {\n      // last image\n      this.currentImageComponent.prevImage();\n    } else {\n      this.currentImageComponent.nextImage();\n    }\n\n    this.buttonAfterHook.emit(eventToEmit);\n  }\n/**\n * Method called by the navigate upper button.\n * @param {?} event\n * @return {?}\n */\nonNavigate(event: ButtonEvent) {\n    const /** @type {?} */ eventToEmit: ButtonEvent = this.getButtonEventToEmit(event);\n    this.buttonBeforeHook.emit(eventToEmit);\n    // To support SSR\n    if (isPlatformBrowser(this.platformId)) {\n      if (eventToEmit.image && eventToEmit.image.modal.extUrl) {\n        // where I should open this link? The current tab or another one?\n        if (eventToEmit.button && eventToEmit.button.extUrlInNewTab) {\n          window.open(eventToEmit.image.modal.extUrl, '_blank');\n        } else {\n          window.location.href = eventToEmit.image.modal.extUrl;\n        }\n      }\n    }\n    this.buttonAfterHook.emit(eventToEmit);\n  }\n/**\n * Method called by the download upper button.\n * @param {?} event\n * @return {?}\n */\nonDownload(event: ButtonEvent) {\n    const /** @type {?} */ eventToEmit: ButtonEvent = this.getButtonEventToEmit(event);\n    this.buttonBeforeHook.emit(eventToEmit);\n    this.downloadImage();\n    this.buttonAfterHook.emit(eventToEmit);\n  }\n/**\n * Method called by the close upper button.\n * @param {?} event\n * @param {?=} action\n * @return {?}\n */\nonCloseGallery(event: ButtonEvent, action: Action = Action.NORMAL) {\n    const /** @type {?} */ eventToEmit: ButtonEvent = this.getButtonEventToEmit(event);\n    this.buttonBeforeHook.emit(eventToEmit);\n    this.closeGallery(action);\n    this.buttonAfterHook.emit(eventToEmit);\n  }\n/**\n * Method to close the modal gallery specifying the action.\n * It also reset the `keyboardService` to prevent multiple listeners.\n * @param {?=} action\n * @return {?}\n */\ncloseGallery(action: Action = Action.NORMAL) {\n    this.close.emit(new ImageModalEvent(action, true));\n    this.opened = false;\n    this.keyboardService.reset();\n\n    // shows scrollbar\n    document.body.style.overflow = 'visible';\n  }\n/**\n * Method called when you click on an image of your plain (or inline) gallery.\n * @param {?} index\n * @return {?}\n */\nonShowModalGallery(index: number) {\n    this.showModalGallery(index);\n  }\n/**\n * Method to show the modal gallery displaying the image with\n * the index specified as input parameter.\n * It will also register a new `keyboardService` to catch keyboard's events to download the current\n * image with keyboard's shortcuts. This service, will be removed either when modal gallery component\n * will be destroyed or when the gallery is closed invoking the `closeGallery` method.\n * @param {?} index\n * @param {?=} isCalledByService\n * @return {?}\n */\nshowModalGallery(index: number, isCalledByService: boolean = false) {\n    // hides scrollbar\n    document.body.style.overflow = 'hidden';\n\n    this.keyboardService.add((event: KeyboardEvent, combo: string) => {\n      if (event.preventDefault) {\n        event.preventDefault();\n      } else {\n        // internet explorer\n        event.returnValue = false;\n      }\n      this.downloadImage();\n    });\n\n    this.opened = true;\n    this.currentImage = this.images[index];\n\n    // emit a new ImageModalEvent with the index of the current image\n    this.show.emit(new ImageModalEvent(Action.LOAD, index + 1));\n\n    if (isCalledByService) {\n      // the following is required, otherwise the view will not be updated\n      // this happens only if called by gallery.service\n      this.changeDetectorRef.markForCheck();\n    }\n  }\n/**\n * Method called when the image changes and used to update the `currentImage` object.\n * @param {?} event\n * @return {?}\n */\nonChangeCurrentImage(event: ImageModalEvent) {\n    const /** @type {?} */ newIndex: number = /** @type {?} */(( <number>event.result));\n\n    // TODO add validation\n    this.currentImage = this.images[newIndex];\n\n    // emit first/last event based on newIndex value\n    this.emitBoundaryEvent(event.action, newIndex);\n\n    // emit current visible image index\n    this.show.emit(new ImageModalEvent(event.action, newIndex + 1));\n  }\n/**\n * @return {?}\n */\nisPlainGalleryVisible(): boolean {\n    if (this.plainGalleryConfig && this.plainGalleryConfig.layout && this.plainGalleryConfig.layout instanceof AdvancedLayout) {\n      return !this.plainGalleryConfig.layout.hideDefaultPlainGallery;\n    }\n    return true;\n  }\n/**\n * Method called when you click 'outside' (i.e. on the semi-transparent background)\n * to close the modal gallery if `enableCloseOutside` is true.\n * @param {?} event\n * @return {?}\n */\nonClickOutside(event: boolean) {\n    if (event && this.enableCloseOutside) {\n      this.closeGallery(Action.CLICK);\n    }\n  }\n/**\n * Method called when an image is loaded and the loading spinner has gone.\n * It sets the previouslyLoaded flag inside the Image to hide loading spinner when displayed again.\n * @param {?} event\n * @return {?}\n */\nonImageLoad(event: ImageLoadEvent) {\n    // console.log('modal-image onImageLoad', event);\n    // console.log('modal-image onImageLoad images before', this.images);\n\n    // sets as previously loaded the image with index specified by `event.status`\n    this.images = this.images.map((img: InternalLibImage) => {\n      if (img && img.id === event.id) {\n        return Object.assign({}, img, { previouslyLoaded: event.status });\n      }\n      return img;\n    });\n\n    // console.log('modal-image onImageLoad images after', this.images);\n  }\n/**\n * Method called when a dot is clicked and used to update the current image.\n * @param {?} index\n * @return {?}\n */\nonClickDot(index: number) {\n    this.currentImage = this.images[index];\n  }\n/**\n * Method called when an image preview is clicked and used to update the current image.\n * @param {?} preview\n * @return {?}\n */\nonClickPreview(preview: Image) {\n    const /** @type {?} */ imageFound: InternalLibImage | undefined = this.images.find((img: InternalLibImage) => img.id === preview.id);\n    if (!!imageFound) {\n      this.currentImage = /** @type {?} */(( <InternalLibImage>imageFound));\n    }\n  }\n/**\n * Method to download the current image, only if `downloadable` is true.\n * It contains also a logic to enable downloading features also for IE11.\n * @return {?}\n */\ndownloadImage() {\n    if (!this.downloadable) {\n      return;\n    }\n    // If IE11 or Microsoft Edge use msSaveBlob(...)\n    if (this.isIEorEdge()) {\n      // I cannot use fetch API because IE11 doesn't support it,\n      // so I have to switch to XMLHttpRequest\n      this.downloadImageOnlyIEorEdge();\n    } else {\n      // for all other browsers\n      this.downloadImageAllBrowsers();\n    }\n  }\n/**\n * Method to cleanup resources. In fact, this will reset keyboard's service.\n * This is an Angular's lifecycle hook that is called when this component is destroyed.\n * @return {?}\n */\nngOnDestroy() {\n    this.keyboardService.reset();\n\n    if (this.galleryServiceSubscription) {\n      this.galleryServiceSubscription.unsubscribe();\n    }\n  }\n/**\n * Private method to download the current image for all browsers except for IE11.\n * @return {?}\n */\nprivate downloadImageAllBrowsers() {\n    const /** @type {?} */ link = document.createElement('a');\n    link.href = this.currentImage.modal.img;\n    link.setAttribute('download', this.getFileName(this.currentImage.modal.img));\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  }\n/**\n * Private method to download the current image only for IE11 using\n * custom javascript's methods available only on IE.\n * @return {?}\n */\nprivate downloadImageOnlyIEorEdge() {\n    if (isPlatformBrowser(this.platformId)) {\n      const /** @type {?} */ req = new XMLHttpRequest();\n      req.open('GET', this.currentImage.modal.img, true);\n      req.responseType = 'arraybuffer';\n      req.onload = event => {\n        const /** @type {?} */ blob = new Blob([req.response], { type: 'image/png' });\n        window.navigator.msSaveBlob(blob, this.getFileName(this.currentImage.modal.img));\n      };\n      req.send();\n    }\n  }\n/**\n * Private method to get the `ButtonEvent` to emit, merging the input `ButtonEvent`\n * with the current image.\n * @param {?} event\n * @return {?}\n */\nprivate getButtonEventToEmit(event: ButtonEvent): ButtonEvent {\n    return Object.assign(event, { image: this.currentImage });\n  }\n/**\n * Private method to get the filename from an input path.\n * This is used to get the image's name from its path.\n * @param {?} path\n * @return {?}\n */\nprivate getFileName(path: string): string {\n    return path.replace(/^.*[\\\\\\/]/, '');\n  }\n/**\n * Private method to initialize `images` as array of `Image`s.\n * Also, it will emit ImageowmodaModalEvent to say that images are loaded.\n * @return {?}\n */\nprivate initImages() {\n    this.images = /** @type {?} */(( <InternalLibImage[]>this.modalImages));\n    this.hasData.emit(new ImageModalEvent(Action.LOAD, true));\n    this.showGallery = this.images.length > 0;\n  }\n/**\n * Private method to emit events when either the last or the first image are visible.\n * @param {?} action Enum of type Action that represents the source of the event that changed the\n *  current image to the first one or the last one.\n * @param {?} indexToCheck is the index number of the image (the first or the last one).\n * @return {?}\n */\nprivate emitBoundaryEvent(action: Action, indexToCheck: number) {\n    // to emit first/last event\n    switch (indexToCheck) {\n      case 0:\n        this.firstImage.emit(new ImageModalEvent(action, true));\n        break;\n      case this.images.length - 1:\n        this.lastImage.emit(new ImageModalEvent(action, true));\n        break;\n    }\n  }\n/**\n * Private method to check if this library is running on\n * Microsoft browsers or not (i.e. it detects both IE11 and Edge)\n * supporting also Server-Side Rendering.\n * Inspired by https://msdn.microsoft.com/it-it/library/hh779016(v=vs.85).aspx\n * @return {?}\n */\nprivate isIEorEdge(): any {\n    if (isPlatformBrowser(this.platformId)) {\n      // if both Blob constructor and msSaveOrOpenBlob are supported by the current browser\n      return window.Blob && window.navigator.msSaveOrOpenBlob;\n    }\n    if (isPlatformServer(this.platformId)) {\n      // server only\n      return true;\n    }\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'ks-modal-gallery',\n  exportAs: 'ksModalGallery',\n  styles: [`\n    #modal-gallery-wrapper {\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100vw;\n      height: 100vh;\n      z-index: 10000; }\n\n    #flex-min-height-ie-fix {\n      display: -webkit-box;\n      display: flex;\n      -webkit-box-orient: vertical;\n      -webkit-box-direction: normal;\n              flex-direction: column;\n      -webkit-box-pack: center;\n              justify-content: center; }\n\n    #modal-gallery-container {\n      display: -webkit-box;\n      display: flex;\n      -webkit-box-orient: vertical;\n      -webkit-box-direction: normal;\n              flex-direction: column;\n      -webkit-box-pack: justify;\n              justify-content: space-between;\n      min-height: 100vh; }\n  `],\n  template: `\n    <ks-plain-gallery [images]=\"images\"\n                      [showGallery]=\"showGallery && isPlainGalleryVisible()\"\n                      [plainGalleryConfig]=\"plainGalleryConfig\"\n                      [accessibilityConfig]=\"accessibilityConfig\"\n                      (show)=\"onShowModalGallery($event)\"></ks-plain-gallery>\n\n    <ks-background [isOpen]=\"opened\"\n                   [accessibilityConfig]=\"accessibilityConfig\"></ks-background>\n\n    <div id=\"modal-gallery-wrapper\" *ngIf=\"opened\"\n         [attr.aria-label]=\"accessibilityConfig.modalGalleryContentAriaLabel\"\n         [title]=\"accessibilityConfig.modalGalleryContentTitle\"\n         ksClickOutside [clickOutsideEnable]=\"enableCloseOutside\"\n         (clickOutside)=\"onClickOutside($event)\">\n\n      <div id=\"flex-min-height-ie-fix\">\n        <div id=\"modal-gallery-container\">\n\n          <ks-upper-buttons [currentImage]=\"currentImage\"\n                            [buttonsConfig]=\"buttonsConfig\"\n                            (delete)=\"onDelete($event)\"\n                            (navigate)=\"onNavigate($event)\"\n                            (download)=\"onDownload($event)\"\n                            (close)=\"onCloseGallery($event)\"\n                            (customEmit)=\"onCustomEmit($event)\"></ks-upper-buttons>\n\n          <ks-current-image [images]=\"images\"\n                            [currentImage]=\"currentImage\"\n                            [isOpen]=\"opened\"\n                            [slideConfig]=\"slideConfig\"\n                            [descriptionConfig]=\"description\"\n                            [keyboardConfig]=\"keyboardConfig\"\n                            [loadingConfig]=\"loadingConfig\"\n                            [accessibilityConfig]=\"accessibilityConfig\"\n                            [currentImageConfig]=\"currentImageConfig\"\n                            (loadImage)=\"onImageLoad($event)\"\n                            (changeImage)=\"onChangeCurrentImage($event)\"\n                            (close)=\"onCloseGallery($event)\"></ks-current-image>\n\n          <div>\n            <ks-dots [images]=\"images\"\n                     [currentImage]=\"currentImage\"\n                     [dotsConfig]=\"dotsConfig\"\n                     [accessibilityConfig]=\"accessibilityConfig\"\n                     (clickDot)=\"onClickDot($event)\"></ks-dots>\n\n            <ks-previews [images]=\"images\"\n                         [currentImage]=\"currentImage\"\n                         [previewConfig]=\"previewConfig\"\n                         [accessibilityConfig]=\"accessibilityConfig\"\n                         (clickPreview)=\"onClickPreview($event)\"></ks-previews>\n          </div>\n        </div>\n      </div>\n    </div>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: KeyboardService, },\n{type: GalleryService, },\n{type: Object, decorators: [{ type: Inject, args: [PLATFORM_ID, ] }, ]},\n{type: ChangeDetectorRef, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'id': [{ type: Input },],\n'modalImages': [{ type: Input },],\n'buttonsConfig': [{ type: Input },],\n'enableCloseOutside': [{ type: Input },],\n'currentImageConfig': [{ type: Input },],\n'downloadable': [{ type: Input },],\n'loadingConfig': [{ type: Input },],\n'description': [{ type: Input },],\n'dotsConfig': [{ type: Input },],\n'previewConfig': [{ type: Input },],\n'slideConfig': [{ type: Input },],\n'accessibilityConfig': [{ type: Input },],\n'keyboardConfig': [{ type: Input },],\n'plainGalleryConfig': [{ type: Input },],\n'close': [{ type: Output },],\n'show': [{ type: Output },],\n'firstImage': [{ type: Output },],\n'lastImage': [{ type: Output },],\n'hasData': [{ type: Output },],\n'buttonBeforeHook': [{ type: Output },],\n'buttonAfterHook': [{ type: Output },],\n'currentImageComponent': [{ type: ViewChild, args: [CurrentImageComponent, ] },],\n};\n}\n\nfunction ModalGalleryComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nModalGalleryComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nModalGalleryComponent.ctorParameters;\n/** @type {?} */\nModalGalleryComponent.propDecorators;\n/**\n * Unique id (>=0) of the current instance of this library. This is useful when you are using\n * the service to call modal gallery without open it manually.\n * Right now is optional, but in upcoming major releases will be mandatory!!!\n * @type {?}\n */\nModalGalleryComponent.prototype.id;\n/**\n * Array of `Image` that represent the model of this library with all images, thumbs and so on.\n * @type {?}\n */\nModalGalleryComponent.prototype.modalImages;\n/**\n * Object of type `ButtonsConfig` to show/hide buttons.\n * @type {?}\n */\nModalGalleryComponent.prototype.buttonsConfig;\n/**\n * Boolean to enable modal-gallery close behaviour when clicking\n * on the semi-transparent background. Enabled by default.\n * @type {?}\n */\nModalGalleryComponent.prototype.enableCloseOutside;\n/**\n * Interface to configure current image in modal-gallery.\n * For instance you can disable navigation on click on current image (enabled by default).\n * @type {?}\n */\nModalGalleryComponent.prototype.currentImageConfig;\n/**\n * Boolean required to enable image download with both ctrl+s/cmd+s and download button.\n * If you want to show enable button, this is not enough. You have to use also `buttonsConfig`.\n * TODO: this will be removed in version 6.0.0 because it will be into currentImageConfig\n * @type {?}\n */\nModalGalleryComponent.prototype.downloadable;\n/**\n * Object of type `LoadingConfig` that contains fields like enable/disable\n * and a way to choose a loading spinner.\n * TODO: this will be removed in version 6.0.0 because it will be into currentImageConfig\n * @type {?}\n */\nModalGalleryComponent.prototype.loadingConfig;\n/**\n * Object of type `Description` to configure and show image descriptions.\n * TODO: this will be removed in version 6.0.0 because it will be into currentImageConfig\n * @type {?}\n */\nModalGalleryComponent.prototype.description;\n/**\n * Object of type `DotsConfig` to init DotsComponent's features.\n * For instance, it contains a param to show/hide dots.\n * @type {?}\n */\nModalGalleryComponent.prototype.dotsConfig;\n/**\n * Object of type `PreviewConfig` to init PreviewsComponent's features.\n * For instance, it contains a param to show/hide previews.\n * @type {?}\n */\nModalGalleryComponent.prototype.previewConfig;\n/**\n * Object of type `SlideConfig` to init side previews and `infinite sliding`.\n * @type {?}\n */\nModalGalleryComponent.prototype.slideConfig;\n/**\n * Object of type `AccessibilityConfig` to init custom accessibility features.\n * For instance, it contains titles, alt texts, aria-labels and so on.\n * @type {?}\n */\nModalGalleryComponent.prototype.accessibilityConfig;\n/**\n * Object of type `KeyboardConfig` to assign custom keys to ESC, RIGHT and LEFT keyboard's actions.\n * @type {?}\n */\nModalGalleryComponent.prototype.keyboardConfig;\n/**\n * Object of type `PlainGalleryConfig` to configure the plain gallery.\n * @type {?}\n */\nModalGalleryComponent.prototype.plainGalleryConfig;\n/**\n * Output to emit an event when the modal gallery is closed.\n * @type {?}\n */\nModalGalleryComponent.prototype.close;\n/**\n * Output to emit an event when an image is changed.\n * @type {?}\n */\nModalGalleryComponent.prototype.show;\n/**\n * Output to emit an event when the current image is the first one.\n * @type {?}\n */\nModalGalleryComponent.prototype.firstImage;\n/**\n * Output to emit an event when the current image is the last one.\n * @type {?}\n */\nModalGalleryComponent.prototype.lastImage;\n/**\n * Output to emit an event when the modal gallery is closed.\n * @type {?}\n */\nModalGalleryComponent.prototype.hasData;\n/**\n * Output to emit an event when a button is clicked, but before that the action is triggered.\n * @type {?}\n */\nModalGalleryComponent.prototype.buttonBeforeHook;\n/**\n * Output to emit an event when a button is clicked, but after that the action is triggered.\n * @type {?}\n */\nModalGalleryComponent.prototype.buttonAfterHook;\n/**\n * Reference to the CurrentImageComponent to invoke methods on it.\n * @type {?}\n */\nModalGalleryComponent.prototype.currentImageComponent;\n/**\n * Boolean that it is true if the modal gallery is visible. False by default.\n * @type {?}\n */\nModalGalleryComponent.prototype.opened;\n/**\n * Boolean to open the modal gallery. False by default.\n * @type {?}\n */\nModalGalleryComponent.prototype.showGallery;\n/**\n * Array of `InternalLibImage` representing the model of this library with all images, thumbs and so on.\n * @type {?}\n */\nModalGalleryComponent.prototype.images;\n/**\n * `Image` that is visible right now.\n * @type {?}\n */\nModalGalleryComponent.prototype.currentImage;\n/** @type {?} */\nModalGalleryComponent.prototype.galleryServiceSubscription;\n/** @type {?} */\nModalGalleryComponent.prototype.keyboardService;\n/** @type {?} */\nModalGalleryComponent.prototype.galleryService;\n/** @type {?} */\nModalGalleryComponent.prototype.platformId;\n/** @type {?} */\nModalGalleryComponent.prototype.changeDetectorRef;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","import { AccessibilityConfig } from '../model/accessibility.interface';\n/**\n * Default accessibility configuration.\n */\nexport const KS_DEFAULT_ACCESSIBILITY_CONFIG: AccessibilityConfig = {\n  backgroundAriaLabel: 'Modal gallery full screen background',\n  backgroundTitle: '',\n\n  plainGalleryContentAriaLabel: 'Plain gallery content',\n  plainGalleryContentTitle: '',\n\n  modalGalleryContentAriaLabel: 'Modal gallery content',\n  modalGalleryContentTitle: '',\n\n  loadingSpinnerAriaLabel: 'The current image is loading. Please be patient.',\n  loadingSpinnerTitle: 'The current image is loading. Please be patient.',\n\n  mainContainerAriaLabel: 'Current image and navigation',\n  mainContainerTitle: '',\n  mainPrevImageAriaLabel: 'Previous image',\n  mainPrevImageTitle: 'Previous image',\n  mainNextImageAriaLabel: 'Next image',\n  mainNextImageTitle: 'Next image',\n\n  dotsContainerAriaLabel: 'Image navigation dots',\n  dotsContainerTitle: '',\n  dotAriaLabel: 'Navigate to image number',\n\n  previewsContainerAriaLabel: 'Image previews',\n  previewsContainerTitle: '',\n  previewScrollPrevAriaLabel: 'Scroll previous previews',\n  previewScrollPrevTitle: 'Scroll previous previews',\n  previewScrollNextAriaLabel: 'Scroll next previews',\n  previewScrollNextTitle: 'Scroll next previews'\n};\n","/*\n The MIT License (MIT)\n\n Copyright (c) 2017-2018 Stefano Cappa (Ks89)\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in all\n copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NON INFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n SOFTWARE.\n */\n\n\nimport { Size } from './size.interface';\n\n/**\n * Interface `PlainGalleryConfig` to configure plain-gallery features.\n */\nexport interface PlainGalleryConfig {\n  strategy: PlainGalleryStrategy;\n  layout: PlainGalleryLayout;\n  advanced?: AdvancedConfig;\n}\n\n/**\n * Interface `PlainGalleryLayout` to configure the layout. This interface isn't used directly, instead\n * refers to either `LineLayout`, `GridLayout` or `AdvancedLayout`.\n */\nexport interface PlainGalleryLayout {}\n/**\n * Class `LineLayout` to configure a linear plain gallery.\n */\nexport class LineLayout implements PlainGalleryLayout {\n  breakConfig: BreakConfig;\n  justify: string;\n  size: Size;\n/**\n * @param {?} size\n * @param {?} breakConfig\n * @param {?} justify\n */\nconstructor(size: Size, breakConfig: BreakConfig, justify: string) {\n    this.size = size;\n    this.breakConfig = breakConfig;\n    this.justify = justify;\n  }\n}\n\nfunction LineLayout_tsickle_Closure_declarations() {\n/** @type {?} */\nLineLayout.prototype.breakConfig;\n/** @type {?} */\nLineLayout.prototype.justify;\n/** @type {?} */\nLineLayout.prototype.size;\n}\n\n/**\n * Class `GridLayout` to configure a grid plain gallery.\n */\nexport class GridLayout implements PlainGalleryLayout {\n  breakConfig: BreakConfig;\n  size: Size;\n/**\n * @param {?} size\n * @param {?} breakConfig\n */\nconstructor(size: Size, breakConfig: BreakConfig) {\n    this.size = size;\n    this.breakConfig = breakConfig;\n  }\n}\n\nfunction GridLayout_tsickle_Closure_declarations() {\n/** @type {?} */\nGridLayout.prototype.breakConfig;\n/** @type {?} */\nGridLayout.prototype.size;\n}\n\n/**\n * Class `AdvancedLayout` to configure a fully custom plain gallery.\n */\nexport class AdvancedLayout implements PlainGalleryLayout {\n  modalOpenerByIndex: number;\n  hideDefaultPlainGallery: boolean;\n/**\n * @param {?} modalOpenerByIndex\n * @param {?} hideDefaultPlainGallery\n */\nconstructor(modalOpenerByIndex: number, hideDefaultPlainGallery: boolean) {\n    this.modalOpenerByIndex = modalOpenerByIndex;\n    this.hideDefaultPlainGallery = hideDefaultPlainGallery;\n  }\n}\n\nfunction AdvancedLayout_tsickle_Closure_declarations() {\n/** @type {?} */\nAdvancedLayout.prototype.modalOpenerByIndex;\n/** @type {?} */\nAdvancedLayout.prototype.hideDefaultPlainGallery;\n}\n\nexport type PlainGalleryStrategy = number;\nexport let PlainGalleryStrategy: any = {};\nPlainGalleryStrategy.ROW = 1;\nPlainGalleryStrategy.COLUMN = 2;\nPlainGalleryStrategy.GRID = 3;\nPlainGalleryStrategy.CUSTOM = 4;\nPlainGalleryStrategy[PlainGalleryStrategy.ROW] = \"ROW\";\nPlainGalleryStrategy[PlainGalleryStrategy.COLUMN] = \"COLUMN\";\nPlainGalleryStrategy[PlainGalleryStrategy.GRID] = \"GRID\";\nPlainGalleryStrategy[PlainGalleryStrategy.CUSTOM] = \"CUSTOM\";\n\n\n/**\n * Interface `BreakConfig` to limit the number of items of the plain gallery or to force it to fill other lines.\n */\nexport interface BreakConfig {\n  length: number;\n  wrap: boolean;\n}\n\n/**\n * Interface `AdvancedConfig` to use `<a>` tags instead of `<img>`.\n * It also contains a string property to customize the css background property.\n * For more info check here https://www.w3schools.com/cssref/css3_pr_background.asp\n */\nexport interface AdvancedConfig {\n  aTags: boolean;\n  additionalBackground: string;\n}\n","/*\n The MIT License (MIT)\n\n Copyright (c) 2017-2018 Stefano Cappa (Ks89)\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in all\n copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NON INFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n SOFTWARE.\n */\n\n\nimport { ChangeDetectionStrategy, Component, EventEmitter, Input, OnChanges, OnInit, Output, SimpleChange, SimpleChanges } from '@angular/core';\n\nimport { AccessibleComponent } from '../accessible.component';\n\nimport { AccessibilityConfig } from '../../model/accessibility.interface';\nimport { Action } from '../../model/action.enum';\nimport { Description, DescriptionStrategy } from '../../model/description.interface';\nimport { Image, ImageModalEvent } from '../../model/image.class';\nimport { InternalLibImage } from '../../model/image-internal.class';\nimport { Keyboard } from '../../model/keyboard.enum';\nimport { KeyboardConfig } from '../../model/keyboard-config.interface';\nimport { LoadingConfig, LoadingType } from '../../model/loading-config.interface';\nimport { SlideConfig } from '../../model/slide-config.interface';\n\nimport { NEXT, PREV } from '../../utils/user-input.util';\nimport { getIndex } from '../../utils/image.util';\nimport { CurrentImageConfig } from '../../model/current-image-config.interface';\n\n/**\n * Interface to describe the Load Event, used to\n * emit an event when the image is finally loaded and the spinner has gone.\n */\nexport interface ImageLoadEvent {\n  status: boolean;\n  index: number;\n  id: number;\n}\n/**\n * Component with the current image with some additional elements like arrows and side previews.\n */\nexport class CurrentImageComponent extends AccessibleComponent implements OnInit, OnChanges {\n/**\n * Object of type `InternalLibImage` that represent the visible image.\n */\ncurrentImage: InternalLibImage;\n/**\n * Array of `InternalLibImage` that represent the model of this library with all images,\n * thumbs and so on.\n */\nimages: InternalLibImage[];\n/**\n * Boolean that it is true if the modal gallery is visible.\n * If yes, also this component should be visible.\n */\nisOpen: boolean;\n/**\n * Interface to configure current image in modal-gallery.\n * For instance you can disable navigation on click on current image (enabled by default).\n */\ncurrentImageConfig: CurrentImageConfig;\n/**\n * Object of type `LoadingConfig` that contains fields like enable/disable\n * and a way to choose a loading spinner.\n * TODO: this will be removed in version 6.0.0 because it will be into currentImageConfig\n */\nloadingConfig: LoadingConfig;\n/**\n * Object of type `Description` to configure and show image descriptions.\n * TODO: this will be removed in version 6.0.0 because it will be into currentImageConfig\n */\ndescriptionConfig: Description;\n/**\n * Object of type `SlideConfig` to get `infinite sliding`.\n */\nslideConfig: SlideConfig;\n/**\n * Object of type `AccessibilityConfig` to init custom accessibility features.\n * For instance, it contains titles, alt texts, aria-labels and so on.\n */\naccessibilityConfig: AccessibilityConfig;\n/**\n * Object of type `KeyboardConfig` to assign custom keys to both ESC, RIGHT and LEFT keyboard's actions.\n */\nkeyboardConfig: KeyboardConfig;\n/**\n * Output to emit an event when images are loaded. The payload contains an `ImageLoadEvent`.\n */\nloadImage: EventEmitter<ImageLoadEvent> = new EventEmitter<ImageLoadEvent>();\n/**\n * Output to emit any changes of the current image. The payload contains an `ImageModalEvent`.\n */\nchangeImage: EventEmitter<ImageModalEvent> = new EventEmitter<ImageModalEvent>();\n/**\n * Output to emit an event when the modal gallery is closed. The payload contains an `ImageModalEvent`.\n */\nclose: EventEmitter<ImageModalEvent> = new EventEmitter<ImageModalEvent>();\n/**\n * Enum of type `Action` that represents a mouse click on a button.\n * Declared here to be used inside the template.\n */\nclickAction: Action = Action.CLICK;\n/**\n * Enum of type `Action` that represents a keyboard action.\n * Declared here to be used inside the template.\n */\nkeyboardAction: Action = Action.KEYBOARD;\n/**\n * Boolean that it's true when you are watching the first image (currently visible).\n * False by default\n */\nisFirstImage = false;\n/**\n * Boolean that it's true when you are watching the last image (currently visible).\n * False by default\n */\nisLastImage = false;\n/**\n * Boolean that it's true if an image of the modal gallery is still loading.\n * True by default\n */\nloading = true;\n/**\n * Object of type `CurrentImageConfig` exposed to the template. This field is initialized\n * applying transformations, default values and so on to the input of the same type.\n */\nconfigCurrentImage: CurrentImageConfig;\n/**\n * Object of type `LoadingConfig` exposed to the template. This field is initialized\n * applying transformations, default values and so on to the input of the same type.\n * TODO: this will be removed in version 6.0.0 because it will be into configCurrentImage\n */\nconfigLoading: LoadingConfig;\n/**\n * `Description` object initialized applying transformations, default values\n * and so on to the input of the same type.\n * TODO: this will be removed in version 6.0.0 because it will be into configCurrentImage\n */\ndescription: Description;\n/**\n * Private object without type to define all swipe actions used by hammerjs.\n */\nprivate SWIPE_ACTION = {\n    LEFT: 'swipeleft',\n    RIGHT: 'swiperight',\n    UP: 'swipeup',\n    DOWN: 'swipedown'\n  };\n/**\n * Method ´ngOnInit´ to build both `defaultLoading` and `defaultDescription` applying default values.\n * This is an Angular's lifecycle hook, so its called automatically by Angular itself.\n * In particular, it's called only one time!!!\n * @return {?}\n */\nngOnInit() {\n    const /** @type {?} */ defaultLoading: LoadingConfig = { enable: true, type: LoadingType.STANDARD };\n    const /** @type {?} */ defaultDescription: Description = {\n      strategy: DescriptionStrategy.ALWAYS_VISIBLE,\n      imageText: 'Image ',\n      numberSeparator: '/',\n      beforeTextDescription: ' - ',\n      style: {\n        bgColor: 'rgba(0, 0, 0, .5)',\n        textColor: 'white',\n        marginTop: '0px',\n        marginBottom: '5px',\n        marginLeft: '0px',\n        marginRight: '0px'\n      }\n    };\n    const /** @type {?} */ defaultCurrentImageConfig: CurrentImageConfig = { navigateOnClick: true };\n\n    this.configLoading = Object.assign({}, defaultLoading, this.loadingConfig);\n    const /** @type {?} */ description: Description = Object.assign({}, defaultDescription, this.descriptionConfig);\n\n    // TODO Improve this terrible code to apply default values\n    description.style.bgColor = description.style.bgColor || defaultDescription.style.bgColor;\n    description.style.textColor = description.style.textColor || defaultDescription.style.textColor;\n    description.style.marginTop = description.style.marginTop || defaultDescription.style.marginTop;\n    description.style.marginBottom = description.style.marginBottom || defaultDescription.style.marginBottom;\n    description.style.marginLeft = description.style.marginLeft || defaultDescription.style.marginLeft;\n    description.style.marginRight = description.style.marginRight || defaultDescription.style.marginRight;\n\n    this.description = description;\n\n    this.configCurrentImage = Object.assign({}, defaultCurrentImageConfig, this.currentImageConfig);\n  }\n/**\n * Method ´ngOnChanges´ to update `loading` status and emit events.\n * If the gallery is open, then it will also manage boundary arrows and sliding.\n * This is an Angular's lifecycle hook, so its called automatically by Angular itself.\n * In particular, it's called when any data-bound property of a directive changes!!!\n * @param {?} changes\n * @return {?}\n */\nngOnChanges(changes: SimpleChanges) {\n    // console.log('currentImage onChanges loading before', this.loading);\n\n    const /** @type {?} */ simpleChange: SimpleChange = changes.currentImage;\n    if (!simpleChange) {\n      return;\n    }\n    // const prev: InternalLibImage = simpleChange.previousValue;\n    const /** @type {?} */ current: InternalLibImage = simpleChange.currentValue;\n\n    let /** @type {?} */ index: number;\n    try {\n      index = getIndex(this.currentImage, this.images);\n    } catch ( /** @type {?} */err) {\n      console.error('Cannot get the current image index in current-image');\n      throw err;\n    }\n\n    // TODO why I was using this 'this.changeImage.emit(new ImageModalEvent(Action.LOAD, index))' ???\n    // if not currently loaded\n    // console.log('currentImage onChanges current', current);\n    // if (current && !current.previouslyLoaded) {\n    //   console.log('currentImage onChanges changing loading');\n    //   // this.loading = !current.previouslyLoaded;\n    //   this.changeImage.emit(new ImageModalEvent(Action.LOAD, index));\n    //   // this.loading = false;\n    //   console.log('currentImage onChanges loading changed');\n    // }\n\n    // console.log('currentImage onChanges loading after', this.loading);\n\n    if (this.isOpen) {\n      this.manageSlideConfig(index);\n    }\n  }\n/**\n * Method to handle keypress based on the `keyboardConfig` input. It gets the keyCode of\n * the key that triggered the keypress event to navigate between images or to close the modal gallery.\n * @param {?} keyCode\n * @return {?}\n */\nonKeyPress(keyCode: number) {\n    const /** @type {?} */ esc: number = this.keyboardConfig && this.keyboardConfig.esc ? this.keyboardConfig.esc : Keyboard.ESC;\n    const /** @type {?} */ right: number = this.keyboardConfig && this.keyboardConfig.right ? this.keyboardConfig.right : Keyboard.RIGHT_ARROW;\n    const /** @type {?} */ left: number = this.keyboardConfig && this.keyboardConfig.left ? this.keyboardConfig.left : Keyboard.LEFT_ARROW;\n\n    switch (keyCode) {\n      case esc:\n        this.close.emit(new ImageModalEvent(Action.KEYBOARD, true));\n        break;\n      case right:\n        this.nextImage(Action.KEYBOARD);\n        break;\n      case left:\n        this.prevImage(Action.KEYBOARD);\n        break;\n    }\n  }\n/**\n * Method to get the image description based on the image object itself.\n * If you provide a full description this will be the visible description, otherwise,\n * it will be built using the `Description` object, concatenating its fields with a specific logic.\n * @throws an Error if description isn't available\n * @param {?=} image\n * @return {?} String description of the image (or the current image if not provided)\n */\ngetDescriptionToDisplay(image: Image = this.currentImage): string {\n    if (!this.description) {\n      throw new Error('To show image descriptions, description input must be a valid object implementing the Description interface');\n    }\n\n    const /** @type {?} */ imageWithoutDescription: boolean = !image.modal || !image.modal.description || image.modal.description === '';\n\n    switch (this.description.strategy) {\n      case DescriptionStrategy.HIDE_IF_EMPTY:\n        return imageWithoutDescription ? '' : image.modal.description + '';\n      case DescriptionStrategy.ALWAYS_HIDDEN:\n        return '';\n      default:\n        // ----------- DescriptionStrategy.ALWAYS_VISIBLE -----------------\n        return this.buildTextDescription(image, imageWithoutDescription);\n    }\n  }\n/**\n * Method to get the title attributes based on descriptions.\n * This is useful to prevent accessibility issues, because if DescriptionStrategy is ALWAYS_HIDDEN,\n * it prevents an empty string as title.\n * @throws an Error if description isn't available\n * @param {?=} image\n * @return {?} String title of the image based on descriptions\n */\ngetTitleToDisplay(image: Image = this.currentImage): string {\n    if (!this.description) {\n      throw new Error('To show image titles, description input must be a valid object implementing the Description interface');\n    }\n    const /** @type {?} */ imageWithoutDescription: boolean = !image.modal || !image.modal.description || image.modal.description === '';\n    const /** @type {?} */ description: string = this.buildTextDescription(image, imageWithoutDescription);\n    return description;\n  }\n/**\n * Method to get `alt attribute`.\n * `alt` specifies an alternate text for an image, if the image cannot be displayed.\n * @param {?=} image\n * @return {?} String alt description of the image (or the current image if not provided)\n */\ngetAltDescriptionByImage(image: Image = this.currentImage): string {\n    if (!image) {\n      return '';\n    }\n    return image.modal && image.modal.description ? image.modal.description : `Image ${getIndex(image, this.images) + 1}`;\n  }\n/**\n * Method to get the left side preview image.\n * @return {?}\n */\ngetLeftPreviewImage(): Image {\n    const /** @type {?} */ currentIndex: number = getIndex(this.currentImage, this.images);\n    if (currentIndex === 0 && this.slideConfig.infinite) {\n      // the current image is the first one,\n      // so the previous one is the last image\n      // because infinite is true\n      return this.images[this.images.length - 1];\n    }\n    this.handleBoundaries(currentIndex);\n    return this.images[Math.max(currentIndex - 1, 0)];\n  }\n/**\n * Method to get the right side preview image.\n * @return {?}\n */\ngetRightPreviewImage(): Image {\n    const /** @type {?} */ currentIndex: number = getIndex(this.currentImage, this.images);\n    if (currentIndex === this.images.length - 1 && this.slideConfig.infinite) {\n      // the current image is the last one,\n      // so the next one is the first image\n      // because infinite is true\n      return this.images[0];\n    }\n    this.handleBoundaries(currentIndex);\n    return this.images[Math.min(currentIndex + 1, this.images.length - 1)];\n  }\n/**\n * Method called by events from both keyboard and mouse on an image.\n * This will invoke the nextImage method (except for click events, because It checks also if navigateOnClick === true).\n * @param {?} event\n * @param {?=} action\n * @return {?}\n */\nonImageEvent(event: KeyboardEvent | MouseEvent, action: Action = Action.NORMAL) {\n    // check if triggered by a mouse click\n    // If yes, It should block navigation when navigateOnClick is false\n    if (action === Action.CLICK && !this.configCurrentImage.navigateOnClick) {\n      // a user has requested to block navigation via configCurrentImage.navigateOnClick property\n      return;\n    }\n\n    const /** @type {?} */ result: number = super.handleImageEvent(event);\n    if (result === NEXT) {\n      this.nextImage(action);\n    }\n  }\n/**\n * Method called by events from both keyboard and mouse on a navigation arrow.\n * @param {?} direction\n * @param {?} event\n * @param {?=} action\n * @return {?}\n */\nonNavigationEvent(direction: string, event: KeyboardEvent, action: Action = Action.NORMAL) {\n    const /** @type {?} */ result: number = super.handleNavigationEvent(direction, event);\n    if (result === NEXT) {\n      this.nextImage(action);\n    } else if (result === PREV) {\n      this.prevImage(action);\n    }\n  }\n/**\n * Method to go back to the previous image.\n * @param {?=} action Enum of type `Action` that represents the source\n *  action that moved back to the previous image. `Action.NORMAL` by default.\n * @return {?}\n */\nprevImage(action: Action = Action.NORMAL) {\n    // check if prevImage should be blocked\n    if (this.isPreventSliding(0)) {\n      return;\n    }\n    const /** @type {?} */ prevImage: InternalLibImage = this.getPrevImage();\n    this.loading = !prevImage.previouslyLoaded;\n    this.changeImage.emit(new ImageModalEvent(action, getIndex(prevImage, this.images)));\n  }\n/**\n * Method to go back to the previous image.\n * @param {?=} action Enum of type `Action` that represents the source\n *  action that moved to the next image. `Action.NORMAL` by default.\n * @return {?}\n */\nnextImage(action: Action = Action.NORMAL) {\n    // check if nextImage should be blocked\n    if (this.isPreventSliding(this.images.length - 1)) {\n      return;\n    }\n    const /** @type {?} */ nextImage: InternalLibImage = this.getNextImage();\n    this.loading = !nextImage.previouslyLoaded;\n    this.changeImage.emit(new ImageModalEvent(action, getIndex(nextImage, this.images)));\n  }\n/**\n * Method to emit an event as loadImage output to say that the requested image if loaded.\n * This method is invoked by the javascript's 'load' event on an img tag.\n * @param {?} event\n * @return {?}\n */\nonImageLoad(event: Event) {\n    // console.log('currentImage onImageLoad', event);\n\n    const /** @type {?} */ loadImageData: ImageLoadEvent = {\n      status: true,\n      index: getIndex(this.currentImage, this.images),\n      id: this.currentImage.id\n    };\n\n    this.loadImage.emit(loadImageData);\n\n    // console.log('currentImage onImageLoad loadImageData', loadImageData);\n\n    this.loading = false;\n  }\n/**\n * Method used by Hammerjs to support touch gestures.\n * @param {?=} action String that represent the direction of the swipe action. 'swiperight' by default.\n * @return {?}\n */\nswipe(action = this.SWIPE_ACTION.RIGHT) {\n    switch (action) {\n      case this.SWIPE_ACTION.RIGHT:\n        this.nextImage(Action.SWIPE);\n        break;\n      case this.SWIPE_ACTION.LEFT:\n        this.prevImage(Action.SWIPE);\n        break;\n      // case this.SWIPE_ACTION.UP:\n      //   break;\n      // case this.SWIPE_ACTION.DOWN:\n      //   break;\n    }\n  }\n/**\n * Method used in `modal-gallery.component` to get the index of an image to delete.\n * @param {?=} image\n * @return {?}\n */\ngetIndexToDelete(image: Image = this.currentImage): number {\n    return getIndex(image, this.images);\n  }\n/**\n * Private method to update both `isFirstImage` and `isLastImage` based on\n * the index of the current image.\n * @param {?} currentIndex\n * @return {?}\n */\nprivate handleBoundaries(currentIndex: number) {\n    if (this.images.length === 1) {\n      this.isFirstImage = true;\n      this.isLastImage = true;\n      return;\n    }\n    switch (currentIndex) {\n      case 0:\n        // execute this only if infinite sliding is disabled\n        this.isFirstImage = true;\n        this.isLastImage = false;\n        break;\n      case this.images.length - 1:\n        // execute this only if infinite sliding is disabled\n        this.isFirstImage = false;\n        this.isLastImage = true;\n        break;\n      default:\n        this.isFirstImage = false;\n        this.isLastImage = false;\n        break;\n    }\n  }\n/**\n * Private method to manage boundary arrows and sliding.\n * This is based on the slideConfig input to enable/disable 'infinite sliding'.\n * @param {?} index\n * @return {?}\n */\nprivate manageSlideConfig(index: number) {\n    if (!this.slideConfig || this.slideConfig.infinite === true) {\n      // enable infinite sliding\n      this.isFirstImage = false;\n      this.isLastImage = false;\n    } else {\n      this.handleBoundaries(index);\n    }\n  }\n/**\n * Private method to check if next/prev actions should be blocked.\n * It checks if slideConfig.infinite === false and if the image index is equals to the input parameter.\n * If yes, it returns true to say that sliding should be blocked, otherwise not.\n *  of images (this.images.length - 1).\n *  either the first or the last one.\n * @param {?} boundaryIndex\n * @return {?}\n */\nprivate isPreventSliding(boundaryIndex: number): boolean {\n    return !!this.slideConfig && this.slideConfig.infinite === false && getIndex(this.currentImage, this.images) === boundaryIndex;\n  }\n/**\n * Private method to get the next index.\n * This is necessary because at the end, when you call next again, you'll go to the first image.\n * That happens because all modal images are shown like in a circle.\n * @return {?}\n */\nprivate getNextImage(): InternalLibImage {\n    const /** @type {?} */ currentIndex: number = getIndex(this.currentImage, this.images);\n    let /** @type {?} */ newIndex = 0;\n    if (currentIndex >= 0 && currentIndex < this.images.length - 1) {\n      newIndex = currentIndex + 1;\n    } else {\n      newIndex = 0; // start from the first index\n    }\n    return this.images[newIndex];\n  }\n/**\n * Private method to get the previous index.\n * This is necessary because at index 0, when you call prev again, you'll go to the last image.\n * That happens because all modal images are shown like in a circle.\n * @return {?}\n */\nprivate getPrevImage(): InternalLibImage {\n    const /** @type {?} */ currentIndex: number = getIndex(this.currentImage, this.images);\n    let /** @type {?} */ newIndex = 0;\n    if (currentIndex > 0 && currentIndex <= this.images.length - 1) {\n      newIndex = currentIndex - 1;\n    } else {\n      newIndex = this.images.length - 1; // start from the last index\n    }\n    return this.images[newIndex];\n  }\n/**\n * Private method to build a text description.\n * This is used also to create titles.\n * @param {?} image\n * @param {?} imageWithoutDescription\n * @return {?} String description built concatenating image fields with a specific logic.\n */\nprivate buildTextDescription(image: Image, imageWithoutDescription: boolean): string {\n    // If customFullDescription use it, otherwise proceed to build a description\n    if (this.description.customFullDescription && this.description.customFullDescription !== '') {\n      return this.description.customFullDescription;\n    }\n\n    const /** @type {?} */ currentIndex: number = getIndex(image, this.images);\n    // If the current image hasn't a description,\n    // prevent to write the ' - ' (or this.description.beforeTextDescription)\n\n    const /** @type {?} */ prevDescription: string = this.description.imageText ? this.description.imageText : '';\n    const /** @type {?} */ midSeparator: string = this.description.numberSeparator ? this.description.numberSeparator : '';\n    const /** @type {?} */ middleDescription: string = currentIndex + 1 + midSeparator + this.images.length;\n\n    if (imageWithoutDescription) {\n      return prevDescription + middleDescription;\n    }\n\n    const /** @type {?} */ currImgDescription: string = image.modal && image.modal.description ? image.modal.description : '';\n    const /** @type {?} */ endDescription: string = this.description.beforeTextDescription + currImgDescription;\n    return prevDescription + middleDescription + endDescription;\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'ks-current-image',\n  styles: [`\n    :host {\n      display: -webkit-box;\n      display: flex;\n      -webkit-box-orient: vertical;\n      -webkit-box-direction: normal;\n              flex-direction: column;\n      -webkit-box-pack: center;\n              justify-content: center; }\n\n    .main-image-container {\n      display: -webkit-box;\n      display: flex;\n      -webkit-box-orient: horizontal;\n      -webkit-box-direction: normal;\n              flex-direction: row;\n      -webkit-box-align: center;\n              align-items: center;\n      -webkit-box-pack: justify;\n              justify-content: space-between; }\n      .main-image-container .nav, .main-image-container .nav-left, .main-image-container .nav-right {\n        -webkit-animation: animatezoom 1s;\n                animation: animatezoom 1s;\n        cursor: pointer;\n        -webkit-transition: all 0.5s;\n        transition: all 0.5s; }\n        .main-image-container .nav:hover, .main-image-container .nav-left:hover, .main-image-container .nav-right:hover {\n          -webkit-transform: scale(1.1);\n                  transform: scale(1.1); }\n      .main-image-container .nav-left {\n        margin-left: 15px; }\n      .main-image-container .nav-right {\n        margin-right: 15px; }\n\n    #current-image {\n      height: auto;\n      max-width: 80vw;\n      max-height: 60vh;\n      cursor: pointer; }\n\n    @media screen and (min-width: 70vw) {\n      #current-image {\n        height: auto;\n        max-width: 70vw;\n        max-height: 60vh;\n        cursor: pointer; } }\n\n    #current-figure {\n      -webkit-animation: fadein-visible .8s;\n              animation: fadein-visible .8s;\n      text-align: center; }\n\n    figure {\n      margin: 0;\n      position: relative; }\n      figure img {\n        max-width: 100%;\n        height: auto;\n        display: block; }\n\n    figcaption {\n      padding: 10px;\n      position: absolute;\n      bottom: 0;\n      left: 0;\n      right: 0; }\n\n    .description {\n      font-weight: bold;\n      text-align: center; }\n\n    @-webkit-keyframes fadein-visible {\n      from {\n        opacity: 0; }\n      to {\n        opacity: 1; } }\n\n    @keyframes fadein-visible {\n      from {\n        opacity: 0; }\n      to {\n        opacity: 1; } }\n\n    @-webkit-keyframes fadein-semi-visible05 {\n      from {\n        opacity: 0; }\n      to {\n        opacity: 0.5; } }\n\n    @keyframes fadein-semi-visible05 {\n      from {\n        opacity: 0; }\n      to {\n        opacity: 0.5; } }\n\n    @-webkit-keyframes fadein-semi-visible08 {\n      from {\n        opacity: 0; }\n      to {\n        opacity: 0.8; } }\n\n    @keyframes fadein-semi-visible08 {\n      from {\n        opacity: 0; }\n      to {\n        opacity: 0.8; } }\n\n    @-webkit-keyframes fadein-semi-visible09 {\n      from {\n        opacity: 0; }\n      to {\n        opacity: 0.9; } }\n\n    @keyframes fadein-semi-visible09 {\n      from {\n        opacity: 0; }\n      to {\n        opacity: 0.9; } }\n    .arrow-image, .empty-arrow-image, .left-arrow-image, .right-arrow-image {\n      width: 30px;\n      height: 30px;\n      background-size: 30px; }\n\n    .empty-arrow-image {\n      background: black;\n      opacity: 0; }\n\n    .left-arrow-image {\n      background-image: url(\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ3Ny4xNzUgNDc3LjE3NSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDc3LjE3NSA0NzcuMTc1OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjUxMnB4IiBoZWlnaHQ9IjUxMnB4Ij48Zz48cGF0aCBkPSJNMTQ1LjE4OCwyMzguNTc1bDIxNS41LTIxNS41YzUuMy01LjMsNS4zLTEzLjgsMC0xOS4xcy0xMy44LTUuMy0xOS4xLDBsLTIyNS4xLDIyNS4xYy01LjMsNS4zLTUuMywxMy44LDAsMTkuMWwyMjUuMSwyMjUgICBjMi42LDIuNiw2LjEsNCw5LjUsNHM2LjktMS4zLDkuNS00YzUuMy01LjMsNS4zLTEzLjgsMC0xOS4xTDE0NS4xODgsMjM4LjU3NXoiIGZpbGw9IiNGRkZGRkYiLz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PC9zdmc+\");\n      opacity: 0.8;\n      -webkit-transition: all 0.5s;\n      transition: all 0.5s; }\n      .left-arrow-image:hover {\n        -webkit-transform: scale(1.2);\n                transform: scale(1.2); }\n\n    .right-arrow-image {\n      background-image: url(\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ3Ny4xNzUgNDc3LjE3NSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDc3LjE3NSA0NzcuMTc1OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjUxMnB4IiBoZWlnaHQ9IjUxMnB4Ij48Zz48cGF0aCBkPSJNMzYwLjczMSwyMjkuMDc1bC0yMjUuMS0yMjUuMWMtNS4zLTUuMy0xMy44LTUuMy0xOS4xLDBzLTUuMywxMy44LDAsMTkuMWwyMTUuNSwyMTUuNWwtMjE1LjUsMjE1LjUgICBjLTUuMyw1LjMtNS4zLDEzLjgsMCwxOS4xYzIuNiwyLjYsNi4xLDQsOS41LDRjMy40LDAsNi45LTEuMyw5LjUtNGwyMjUuMS0yMjUuMUMzNjUuOTMxLDI0Mi44NzUsMzY1LjkzMSwyMzQuMjc1LDM2MC43MzEsMjI5LjA3NXogICAiIGZpbGw9IiNGRkZGRkYiLz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PC9zdmc+\");\n      opacity: 0.8;\n      -webkit-transition: all 0.5s;\n      transition: all 0.5s; }\n      .right-arrow-image:hover {\n        -webkit-transform: scale(1.2);\n                transform: scale(1.2); }\n    @media only screen and (max-width: 1024px), only screen and (max-device-width: 1024px) {\n      .current-image-previous {\n        display: none; }\n      .current-image-next {\n        display: none; } }\n\n    @media only screen and (min-device-width: 1025px) {\n      .current-image-preview, .current-image-previous, .current-image-next {\n        height: auto;\n        cursor: pointer;\n        opacity: 0.5;\n        -webkit-animation: fadein-semi-visible05 .8s;\n                animation: fadein-semi-visible05 .8s;\n        filter: alpha(opacity=50); }\n        .current-image-preview:hover, .current-image-previous:hover, .current-image-next:hover {\n          opacity: 1;\n          -webkit-transition-property: opacity;\n          transition-property: opacity;\n          -webkit-transition: all .5s ease;\n          transition: all .5s ease; } }\n\n    @-webkit-keyframes fadein-semi-visible05 {\n      from {\n        opacity: 0; }\n      to {\n        opacity: 0.5; } }\n\n    @keyframes fadein-semi-visible05 {\n      from {\n        opacity: 0; }\n      to {\n        opacity: 0.5; } }\n  `],\n  template: `\n    <main class=\"main-image-container\"\n          ksKeyboardNavigation [isOpen]=\"isOpen\" (keyPress)=\"onKeyPress($event)\"\n          [attr.aria-label]=\"accessibilityConfig.mainContainerAriaLabel\"\n          [title]=\"accessibilityConfig.mainContainerTitle\">\n\n      <a class=\"nav-left\"\n         [attr.aria-label]=\"accessibilityConfig.mainPrevImageAriaLabel\"\n         [tabindex]=\"isFirstImage && !slideConfig?.infinite ? -1 : 0\" role=\"button\"\n         (click)=\"onNavigationEvent('left', $event)\" (keyup)=\"onNavigationEvent('left', $event)\">\n        <div class=\"inside {{isFirstImage && !slideConfig?.infinite ? 'empty-arrow-image' : 'left-arrow-image'}}\"\n             aria-hidden=\"true\"\n             [title]=\"accessibilityConfig.mainPrevImageTitle\"></div>\n      </a>\n\n      <ng-container *ngIf=\"slideConfig?.sidePreviews?.show\">\n        <ng-container *ngIf=\"getLeftPreviewImage() as leftPreview\">\n          <img *ngIf=\"!isFirstImage || slideConfig?.infinite; else firstImage\"\n               class=\"inside current-image-previous\"\n               [src]=\"leftPreview.plain?.img ? leftPreview.plain.img : leftPreview.modal.img\"\n               [hidden]=\"loading\"\n               ksSize [sizeConfig]=\"{width: slideConfig.sidePreviews?.size.width, height: slideConfig.sidePreviews?.size.height}\"\n               [attr.aria-label]=\"leftPreview.modal.ariaLabel\"\n               [title]=\"leftPreview.modal.title ? leftPreview.modal.title : getTitleToDisplay(leftPreview)\"\n               alt=\"{{leftPreview.modal.alt ? leftPreview.modal.alt : getAltDescriptionByImage(leftPreview)}}\"\n               [tabindex]=\"0\" role=\"img\"\n               (click)=\"onNavigationEvent('left', $event, clickAction)\" (keyup)=\"onNavigationEvent('left', $event, keyboardAction)\"/>\n          <ng-template #firstImage>\n            <div class=\"current-image-previous hidden\"\n                 ksSize [sizeConfig]=\"{width: slideConfig.sidePreviews?.size.width, height: slideConfig.sidePreviews?.size.height}\"></div>\n          </ng-template>\n        </ng-container>\n      </ng-container>\n\n\n      <figure id=\"current-figure\" [hidden]=\"loading\">\n        <img id=\"current-image\"\n             class=\"inside\"\n             [src]=\"currentImage.modal.img\"\n             [attr.aria-label]=\"currentImage.modal.ariaLabel\"\n             [title]=\"currentImage.modal.title ? currentImage.modal.title : getTitleToDisplay()\"\n             alt=\"{{currentImage.modal.alt ? currentImage.modal.alt : getAltDescriptionByImage()}}\"\n             [tabindex]=\"0\" role=\"img\"\n             (load)=\"onImageLoad($event)\"\n             (click)=\"onImageEvent($event, clickAction)\" (keyup)=\"onImageEvent($event, keyboardAction)\"\n             (swipeleft)=\"swipe($event.type)\"\n             (swiperight)=\"swipe($event.type)\"/>\n        <figcaption *ngIf=\"getDescriptionToDisplay() !== ''\"\n                    class=\"inside description\"\n                    ksDescription [description]=\"description\"\n                    [innerHTML]=\"getDescriptionToDisplay()\">\n        </figcaption>\n      </figure>\n\n\n      <ng-container *ngIf=\"slideConfig?.sidePreviews?.show\">\n        <ng-container *ngIf=\"getRightPreviewImage() as rightPreview\">\n          <img *ngIf=\"!isLastImage || slideConfig?.infinite; else lastImage\"\n               class=\"inside current-image-next\"\n               [src]=\"rightPreview.plain?.img ? rightPreview.plain.img : rightPreview.modal.img\"\n               [hidden]=\"loading\"\n               ksSize [sizeConfig]=\"{width: slideConfig.sidePreviews?.size.width, height: slideConfig.sidePreviews?.size.height}\"\n               [attr.aria-label]=\"rightPreview.modal.ariaLabel\"\n               [title]=\"rightPreview.modal.title ? rightPreview.modal.title : getTitleToDisplay(rightPreview)\"\n               alt=\"{{rightPreview.modal.alt ? rightPreview.modal.alt : getAltDescriptionByImage(rightPreview)}}\"\n               [tabindex]=\"0\" role=\"img\"\n               (click)=\"onNavigationEvent('right', $event, clickAction)\" (keyup)=\"onNavigationEvent('right', $event, keyboardAction)\"/>\n          <ng-template #lastImage>\n            <div class=\"current-image-next hidden\"\n                 ksSize [sizeConfig]=\"{width: slideConfig.sidePreviews?.size.width, height: slideConfig.sidePreviews?.size.height}\">\n            </div>\n          </ng-template>\n        </ng-container>\n      </ng-container>\n\n      <ng-container *ngIf=\"loading && configLoading.enable\">\n        <ks-loading-spinner [loadingConfig]=\"configLoading\"\n                            [accessibilityConfig]=\"accessibilityConfig\"></ks-loading-spinner>\n      </ng-container>\n\n      <a class=\"nav-right\"\n         [attr.aria-label]=\"accessibilityConfig.mainNextImageAriaLabel\"\n         [tabindex]=\"isLastImage && !slideConfig?.infinite ? -1 : 0\" role=\"button\"\n         (click)=\"onNavigationEvent('right', $event)\" (keyup)=\"onNavigationEvent('right', $event)\">\n        <div class=\"inside {{isLastImage && !slideConfig?.infinite ? 'empty-arrow-image' : 'right-arrow-image'}}\"\n             aria-hidden=\"true\"\n             [title]=\"accessibilityConfig.mainNextImageTitle\"></div>\n      </a>\n    </main>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'currentImage': [{ type: Input },],\n'images': [{ type: Input },],\n'isOpen': [{ type: Input },],\n'currentImageConfig': [{ type: Input },],\n'loadingConfig': [{ type: Input },],\n'descriptionConfig': [{ type: Input },],\n'slideConfig': [{ type: Input },],\n'accessibilityConfig': [{ type: Input },],\n'keyboardConfig': [{ type: Input },],\n'loadImage': [{ type: Output },],\n'changeImage': [{ type: Output },],\n'close': [{ type: Output },],\n};\n}\n\nfunction CurrentImageComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nCurrentImageComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nCurrentImageComponent.ctorParameters;\n/** @type {?} */\nCurrentImageComponent.propDecorators;\n/**\n * Object of type `InternalLibImage` that represent the visible image.\n * @type {?}\n */\nCurrentImageComponent.prototype.currentImage;\n/**\n * Array of `InternalLibImage` that represent the model of this library with all images,\n * thumbs and so on.\n * @type {?}\n */\nCurrentImageComponent.prototype.images;\n/**\n * Boolean that it is true if the modal gallery is visible.\n * If yes, also this component should be visible.\n * @type {?}\n */\nCurrentImageComponent.prototype.isOpen;\n/**\n * Interface to configure current image in modal-gallery.\n * For instance you can disable navigation on click on current image (enabled by default).\n * @type {?}\n */\nCurrentImageComponent.prototype.currentImageConfig;\n/**\n * Object of type `LoadingConfig` that contains fields like enable/disable\n * and a way to choose a loading spinner.\n * TODO: this will be removed in version 6.0.0 because it will be into currentImageConfig\n * @type {?}\n */\nCurrentImageComponent.prototype.loadingConfig;\n/**\n * Object of type `Description` to configure and show image descriptions.\n * TODO: this will be removed in version 6.0.0 because it will be into currentImageConfig\n * @type {?}\n */\nCurrentImageComponent.prototype.descriptionConfig;\n/**\n * Object of type `SlideConfig` to get `infinite sliding`.\n * @type {?}\n */\nCurrentImageComponent.prototype.slideConfig;\n/**\n * Object of type `AccessibilityConfig` to init custom accessibility features.\n * For instance, it contains titles, alt texts, aria-labels and so on.\n * @type {?}\n */\nCurrentImageComponent.prototype.accessibilityConfig;\n/**\n * Object of type `KeyboardConfig` to assign custom keys to both ESC, RIGHT and LEFT keyboard's actions.\n * @type {?}\n */\nCurrentImageComponent.prototype.keyboardConfig;\n/**\n * Output to emit an event when images are loaded. The payload contains an `ImageLoadEvent`.\n * @type {?}\n */\nCurrentImageComponent.prototype.loadImage;\n/**\n * Output to emit any changes of the current image. The payload contains an `ImageModalEvent`.\n * @type {?}\n */\nCurrentImageComponent.prototype.changeImage;\n/**\n * Output to emit an event when the modal gallery is closed. The payload contains an `ImageModalEvent`.\n * @type {?}\n */\nCurrentImageComponent.prototype.close;\n/**\n * Enum of type `Action` that represents a mouse click on a button.\n * Declared here to be used inside the template.\n * @type {?}\n */\nCurrentImageComponent.prototype.clickAction;\n/**\n * Enum of type `Action` that represents a keyboard action.\n * Declared here to be used inside the template.\n * @type {?}\n */\nCurrentImageComponent.prototype.keyboardAction;\n/**\n * Boolean that it's true when you are watching the first image (currently visible).\n * False by default\n * @type {?}\n */\nCurrentImageComponent.prototype.isFirstImage;\n/**\n * Boolean that it's true when you are watching the last image (currently visible).\n * False by default\n * @type {?}\n */\nCurrentImageComponent.prototype.isLastImage;\n/**\n * Boolean that it's true if an image of the modal gallery is still loading.\n * True by default\n * @type {?}\n */\nCurrentImageComponent.prototype.loading;\n/**\n * Object of type `CurrentImageConfig` exposed to the template. This field is initialized\n * applying transformations, default values and so on to the input of the same type.\n * @type {?}\n */\nCurrentImageComponent.prototype.configCurrentImage;\n/**\n * Object of type `LoadingConfig` exposed to the template. This field is initialized\n * applying transformations, default values and so on to the input of the same type.\n * TODO: this will be removed in version 6.0.0 because it will be into configCurrentImage\n * @type {?}\n */\nCurrentImageComponent.prototype.configLoading;\n/**\n * `Description` object initialized applying transformations, default values\n * and so on to the input of the same type.\n * TODO: this will be removed in version 6.0.0 because it will be into configCurrentImage\n * @type {?}\n */\nCurrentImageComponent.prototype.description;\n/**\n * Private object without type to define all swipe actions used by hammerjs.\n * @type {?}\n */\nCurrentImageComponent.prototype.SWIPE_ACTION;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","/*\n The MIT License (MIT)\n\n Copyright (c) 2017-2018 Stefano Cappa (Ks89)\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in all\n copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NON INFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n SOFTWARE.\n */\n\n\nimport { Image } from '../model/image.class';\n/**\n * Utility function to get the index of the input `image` from `arrayOfImages`\n * @throws an Error if either image or arrayOfImages are not valid,\n *  or if the input image doesn't contain an 'id', or the 'id' is < 0\n * @param {?} image\n * @param {?} arrayOfImages\n * @return {?}\n */\nexport function getIndex(image: Image, arrayOfImages: Image[]): number {\n  if (!image) {\n    throw new Error('image must be a valid Image object');\n  }\n\n  if (!arrayOfImages) {\n    throw new Error('arrayOfImages must be a valid Image[]');\n  }\n\n  if (!image.id && image.id !== 0) {\n    // id = 0 is admitted\n    throw new Error(`A numeric Image 'id' is mandatory`);\n  }\n\n  if (image.id < 0) {\n    throw new Error(`Image 'id' must be >= 0`);\n  }\n\n  return arrayOfImages.findIndex((val: Image) => val.id === image.id);\n}\n","/*\n The MIT License (MIT)\n\n Copyright (c) 2017-2018 Stefano Cappa (Ks89)\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in all\n copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NON INFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n SOFTWARE.\n */\n\n/**\n * Interface `LoadingConfig` to configure loading icon.\n */\nexport interface LoadingConfig {\n  enable: boolean;\n  type: LoadingType;\n}\nexport type LoadingType = number;\nexport let LoadingType: any = {};\nLoadingType.STANDARD = 1;\nLoadingType.CIRCULAR = 2;\nLoadingType.BARS = 3;\nLoadingType.DOTS = 4;\nLoadingType.CUBE_FLIPPING = 5;\nLoadingType.CIRCLES = 6;\nLoadingType.EXPLOSING_SQUARES = 7;\nLoadingType[LoadingType.STANDARD] = \"STANDARD\";\nLoadingType[LoadingType.CIRCULAR] = \"CIRCULAR\";\nLoadingType[LoadingType.BARS] = \"BARS\";\nLoadingType[LoadingType.DOTS] = \"DOTS\";\nLoadingType[LoadingType.CUBE_FLIPPING] = \"CUBE_FLIPPING\";\nLoadingType[LoadingType.CIRCLES] = \"CIRCLES\";\nLoadingType[LoadingType.EXPLOSING_SQUARES] = \"EXPLOSING_SQUARES\";\n\n","\nexport type Keyboard = number;\nexport let Keyboard: any = {};\nKeyboard.ESC = 27;\nKeyboard.LEFT_ARROW = 37;\nKeyboard.RIGHT_ARROW = 39;\nKeyboard.UP_ARROW = 38;\nKeyboard.DOWN_ARROW = 40;\nKeyboard[Keyboard.ESC] = \"ESC\";\nKeyboard[Keyboard.LEFT_ARROW] = \"LEFT_ARROW\";\nKeyboard[Keyboard.RIGHT_ARROW] = \"RIGHT_ARROW\";\nKeyboard[Keyboard.UP_ARROW] = \"UP_ARROW\";\nKeyboard[Keyboard.DOWN_ARROW] = \"DOWN_ARROW\";\n\n","/*\n The MIT License (MIT)\n\n Copyright (c) 2017-2018 Stefano Cappa (Ks89)\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in all\n copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NON INFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n SOFTWARE.\n */\n\n/**\n * Interface `Description` to change the description, either with a full custom\n * description or with a small and simple customization.\n * Also, you could change margins, background style and so on.\n */\nexport interface Description {\n  strategy: DescriptionStrategy;\n  customFullDescription?: string;\n  imageText?: string;\n  numberSeparator?: string;\n  beforeTextDescription?: string;\n\n  style?: DescriptionStyle;\n}\nexport type DescriptionStrategy = number;\nexport let DescriptionStrategy: any = {};\nDescriptionStrategy.ALWAYS_HIDDEN = 1;\nDescriptionStrategy.ALWAYS_VISIBLE = 2;\nDescriptionStrategy.HIDE_IF_EMPTY = 3;\nDescriptionStrategy[DescriptionStrategy.ALWAYS_HIDDEN] = \"ALWAYS_HIDDEN\";\nDescriptionStrategy[DescriptionStrategy.ALWAYS_VISIBLE] = \"ALWAYS_VISIBLE\";\nDescriptionStrategy[DescriptionStrategy.HIDE_IF_EMPTY] = \"HIDE_IF_EMPTY\";\n\n\n/**\n * Interface to change css properties.\n */\nexport interface DescriptionStyle {\n  bgColor?: string;\n  textColor?: string;\n  width?: string;\n  height?: string;\n  position?: string;\n  top?: string;\n  bottom?: string;\n  left?: string;\n  right?: string;\n  marginTop?: string;\n  marginBottom?: string;\n  marginRight?: string;\n  marginLeft?: string;\n}\n","/*\n The MIT License (MIT)\n\n Copyright (c) 2017-2018 Stefano Cappa (Ks89)\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in all\n copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NON INFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n SOFTWARE.\n */\n\n\nimport { ChangeDetectionStrategy, Component } from '@angular/core';\n\nimport { DIRECTION_RIGHT, ENTER_KEY, MOUSE_MAIN_BUTTON_CLICK, NEXT, NOTHING, PREV, SPACE_KEY } from '../utils/user-input.util';\n/**\n * Provides some useful methods to add accessibility features to subclasses.\n * In particular, it exposes a method to handle navigation event with both Keyboard and Mouse\n * and another with also the direction (right or left).\n */\nexport class AccessibleComponent {\n/**\n * Method to handle navigation events with both Keyboard and Mouse.\n * @param {?} direction\n * @param {?} event\n * @return {?}\n */\nhandleNavigationEvent(direction: string, event: KeyboardEvent | MouseEvent): number {\n    if (!event) {\n      return NOTHING;\n    }\n    if (event instanceof KeyboardEvent) {\n      return this.handleKeyboardNavigationEvent(direction, event);\n    } else if (event instanceof MouseEvent) {\n      return this.handleMouseNavigationEvent(direction, event);\n    }\n    return NOTHING;\n  }\n/**\n * Method to handle events over an image, for instance a keypress with the Keyboard or a Mouse click.\n * @param {?} event\n * @return {?}\n */\nhandleImageEvent(event: KeyboardEvent | MouseEvent): number {\n    if (!event) {\n      return NOTHING;\n    }\n    if (event instanceof KeyboardEvent) {\n      return this.handleImageKeyboardEvent(event);\n    } else if (event instanceof MouseEvent) {\n      return this.handleImageMouseEvent(event);\n    }\n    return NOTHING;\n  }\n/**\n * Private method to handle keyboard events over an image.\n * @param {?} event\n * @return {?}\n */\nprivate handleImageKeyboardEvent(event: KeyboardEvent): number {\n    const /** @type {?} */ key: number = event.keyCode;\n    if (key === SPACE_KEY || key === ENTER_KEY) {\n      return NEXT;\n    }\n    return NOTHING;\n  }\n/**\n * Private method to handle mouse events over an image.\n * @param {?} event\n * @return {?}\n */\nprivate handleImageMouseEvent(event: MouseEvent): number {\n    const /** @type {?} */ mouseBtn: number = event.button;\n    if (mouseBtn === MOUSE_MAIN_BUTTON_CLICK) {\n      return NEXT;\n    }\n    return NOTHING;\n  }\n/**\n * Method to handle events over an image, for instance a keypress with the Keyboard or a Mouse click.\n * @param {?} direction\n * @param {?} event\n * @return {?}\n */\nprivate handleKeyboardNavigationEvent(direction: string, event: KeyboardEvent): number {\n    const /** @type {?} */ key: number = event.keyCode;\n    if (key === SPACE_KEY || key === ENTER_KEY) {\n      return direction === DIRECTION_RIGHT ? NEXT : PREV;\n    }\n    return NOTHING;\n  }\n/**\n * Method to handle events over an image, for instance a keypress with the Keyboard or a Mouse click.\n * @param {?} direction\n * @param {?} event\n * @return {?}\n */\nprivate handleMouseNavigationEvent(direction: string, event: MouseEvent): number {\n    const /** @type {?} */ mouseBtn: number = event.button;\n    if (mouseBtn === MOUSE_MAIN_BUTTON_CLICK) {\n      return direction === DIRECTION_RIGHT ? NEXT : PREV;\n    }\n    return NOTHING;\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'ks-accessible',\n  template: ``,\n  changeDetection: ChangeDetectionStrategy.OnPush\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction AccessibleComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nAccessibleComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nAccessibleComponent.ctorParameters;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","\n/**\n * Keycode of the keyboard's key `space`\n */\nexport const SPACE_KEY = 32;\n/**\n * Keycode of the keyboard's key `enter`\n */\nexport const ENTER_KEY = 13;\n/**\n * Keycode of the main mouse button\n */\nexport const MOUSE_MAIN_BUTTON_CLICK = 0;\n/**\n * Const NEXT\n */\nexport const NEXT = 1;\n/**\n * Const PREV\n */\nexport const PREV = -1;\n/**\n * Const NOTHING to represents a situation when it isn't both NEXT and PREV\n */\nexport const NOTHING = 0;\n/**\n * Const to represent the right direction\n */\nexport const DIRECTION_RIGHT = 'right';\n/**\n * Const to represent the left direction\n */\nexport const DIRECTION_LEFT = 'left';\n","/*\n The MIT License (MIT)\n\n Copyright (c) 2017-2018 Stefano Cappa (Ks89)\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in all\n copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NON INFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n SOFTWARE.\n */\n\n\nimport { EventEmitter, Injectable } from '@angular/core';\n\nexport interface InternalGalleryPayload {\n  galleryId: number | undefined;\n  index: number;\n}\nexport class GalleryService {\n  navigate: EventEmitter<InternalGalleryPayload> = new EventEmitter<InternalGalleryPayload>();\n/**\n * @param {?} galleryId\n * @param {?} index\n * @return {?}\n */\nopenGallery(galleryId: number | undefined, index: number): void {\n    if (galleryId === undefined || galleryId < 0 || index < 0) {\n      throw new Error('Cannot open gallery via GalleryService with either index<0 or galleryId<0 or galleryId===undefined');\n    }\n    this.navigate.emit({\n      galleryId: galleryId,\n      index: index\n    });\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\n}\n\nfunction GalleryService_tsickle_Closure_declarations() {\n/** @type {?} */\nGalleryService.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nGalleryService.ctorParameters;\n/** @type {?} */\nGalleryService.prototype.navigate;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","/*\n The MIT License (MIT)\n\n Copyright (c) 2017-2018 Stefano Cappa (Ks89)\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in all\n copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NON INFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n SOFTWARE.\n */\n\n\nimport { Inject, Injectable, InjectionToken } from '@angular/core';\n\n// To prevent issues with angular-universal on server-side\nif (typeof window !== 'undefined') {\n  require('mousetrap');\n}\n\nimport { KeyboardServiceConfig } from '../model/keyboard-service-config.interface';\n\nexport const /** @type {?} */ KEYBOARD_CONFIGURATION = new InjectionToken<KeyboardServiceConfig>('KEYBOARD_CONFIGURATION');\n/**\n * Service to intercept ctrl+s (or cmd+s on macOS) using a third-party library, called Mousetrap.\n */\nexport class KeyboardService {\n/**\n * Private Mousetrap variable to store the instance.\n */\nprivate mousetrap: MousetrapInstance;\n/**\n * Private variable to store shortcuts as either Array or string.\n */\nprivate shortcuts: Array<string> | string;\n/**\n * Constructor of `KeyboardService` to init `mousetrap` and `shortcuts` private variables.\n * @param {?} config\n */\nconstructor(\nprivate config: KeyboardServiceConfig) {\n    this.shortcuts = this.config && this.config.shortcuts ? this.config.shortcuts : ['ctrl+s', 'meta+s'];\n\n    // To prevent issues with angular-universal on server-side\n    if (typeof window !== 'undefined') {\n      this.mousetrap = new (<any>Mousetrap)();\n    }\n  }\n/**\n * Method to add a lister for ctrl+s/cmd+s keyboard events.\n * @param {?} onBind\n * @return {?}\n */\nadd(onBind: (e: ExtendedKeyboardEvent, combo: string) => any) {\n    // To prevent issues with angular-universal on server-side\n    if (typeof window !== 'undefined') {\n      this.mousetrap.bind(this.shortcuts, (event: KeyboardEvent, combo: string) => {\n        if (event.preventDefault) {\n          event.preventDefault();\n        } else {\n          // internet explorer\n          event.returnValue = false;\n        }\n        onBind(event, combo);\n      });\n    }\n  }\n/**\n * Method to reset all listeners. Please, call this function when needed\n * to free resources ad prevent leaks.\n * @return {?}\n */\nreset() {\n    // To prevent issues with angular-universal on server-side\n    if (typeof window !== 'undefined') {\n      this.mousetrap.reset();\n    }\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Injectable },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: undefined, decorators: [{ type: Inject, args: [KEYBOARD_CONFIGURATION, ] }, ]},\n];\n}\n\nfunction KeyboardService_tsickle_Closure_declarations() {\n/** @type {?} */\nKeyboardService.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nKeyboardService.ctorParameters;\n/**\n * Private Mousetrap variable to store the instance.\n * @type {?}\n */\nKeyboardService.prototype.mousetrap;\n/**\n * Private variable to store shortcuts as either Array or string.\n * @type {?}\n */\nKeyboardService.prototype.shortcuts;\n/** @type {?} */\nKeyboardService.prototype.config;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","\nexport type Action = number;\nexport let Action: any = {};\nAction.NORMAL = 0;\nAction.CLICK = 1;\nAction.KEYBOARD = 2;\nAction.SWIPE = 3;\nAction.LOAD = 4;\nAction[Action.NORMAL] = \"NORMAL\";\nAction[Action.CLICK] = \"CLICK\";\nAction[Action.KEYBOARD] = \"KEYBOARD\";\nAction[Action.SWIPE] = \"SWIPE\";\nAction[Action.LOAD] = \"LOAD\";\n\n","/*\n The MIT License (MIT)\n\n Copyright (c) 2017-2018 Stefano Cappa (Ks89)\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in all\n copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NON INFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n SOFTWARE.\n */\n\n\nimport { Action } from './action.enum';\nimport { Size } from './size.interface';\n/**\n * Class `Image` that represents an image with both `modal` and `plain` configurations.\n * Both image `id` and `modal` are mandatory, instead `plain` is optional.\n */\nexport class Image {\n  id: number;\n\n  modal: ModalImage;\n  plain?: PlainImage;\n/**\n * @param {?} id\n * @param {?} modal\n * @param {?=} plain\n */\nconstructor(id: number, modal: ModalImage, plain?: PlainImage) {\n    this.id = id;\n    this.modal = modal;\n    this.plain = plain;\n  }\n}\n\nfunction Image_tsickle_Closure_declarations() {\n/** @type {?} */\nImage.prototype.id;\n/** @type {?} */\nImage.prototype.modal;\n/** @type {?} */\nImage.prototype.plain;\n}\n\n\n/**\n * Interface `ImageData` to configure an image, but it isn't used directly.\n * Please, refers to `PlainImage` or `ModalImage`.\n */\nexport interface ImageData {\n  img: string;\n  description?: string;\n  title?: string;\n  alt?: string;\n  ariaLabel?: string;\n}\n\n/**\n * Interface `ModalImage` to configure the modal image.\n */\nexport interface ModalImage extends ImageData {\n  extUrl?: string;\n}\n\n/**\n * Interface `PlainImage` to configure the plain image.\n */\nexport interface PlainImage extends ImageData {\n  size?: Size;\n}\n/**\n * Class `ImageModalEvent` that represents the event payload with the result and the triggered action.\n */\nexport class ImageModalEvent {\n  action: Action;\n  result: number | boolean;\n/**\n * @param {?} action\n * @param {?} result\n */\nconstructor(action: Action, result: number | boolean) {\n    this.action = action;\n    this.result = result;\n  }\n}\n\nfunction ImageModalEvent_tsickle_Closure_declarations() {\n/** @type {?} */\nImageModalEvent.prototype.action;\n/** @type {?} */\nImageModalEvent.prototype.result;\n}\n\n","/*\n The MIT License (MIT)\n\n Copyright (c) 2017-2018 Stefano Cappa (Ks89)\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in all\n copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NON INFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n SOFTWARE.\n */\n\n\nimport { ChangeDetectionStrategy, Component, Input } from '@angular/core';\n\nimport { AccessibilityConfig } from '../../model/accessibility.interface';\n/**\n * Component with the semi-transparent background.\n */\nexport class BackgroundComponent {\n/**\n * Boolean that it is true if the modal gallery is visible,\n * so also this component should be visible.\n */\nisOpen: boolean;\n/**\n * Object of type `AccessibilityConfig` to init custom accessibility features.\n * For instance, it contains titles, alt texts, aria-labels and so on.\n */\naccessibilityConfig: AccessibilityConfig;\nstatic decorators: DecoratorInvocation[] = [\n{ type: Component, args: [{\n  selector: 'ks-background',\n  styles: [`\n    .ng-overlay {\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100vw;\n      height: 100vh;\n      background: black;\n      opacity: 0.8;\n      z-index: 9999; }\n  `],\n  template: `\n    <div class=\"ng-overlay\" *ngIf=\"isOpen\"\n         [attr.aria-label]=\"accessibilityConfig?.backgroundAriaLabel\"\n         [title]=\"accessibilityConfig?.backgroundTitle\"></div>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'isOpen': [{ type: Input },],\n'accessibilityConfig': [{ type: Input },],\n};\n}\n\nfunction BackgroundComponent_tsickle_Closure_declarations() {\n/** @type {?} */\nBackgroundComponent.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nBackgroundComponent.ctorParameters;\n/** @type {?} */\nBackgroundComponent.propDecorators;\n/**\n * Boolean that it is true if the modal gallery is visible,\n * so also this component should be visible.\n * @type {?}\n */\nBackgroundComponent.prototype.isOpen;\n/**\n * Object of type `AccessibilityConfig` to init custom accessibility features.\n * For instance, it contains titles, alt texts, aria-labels and so on.\n * @type {?}\n */\nBackgroundComponent.prototype.accessibilityConfig;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","/*\n The MIT License (MIT)\n\n Copyright (c) 2017-2018 Stefano Cappa (Ks89)\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in all\n copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NON INFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n SOFTWARE.\n */\n\n\nimport { ClickOutsideDirective } from './click-outside.directive';\nimport { SizeDirective } from './size.directive';\nimport { KeyboardNavigationDirective } from './keyboard-navigation.directive';\nimport { WrapDirective } from './wrap.directive';\nimport { DirectionDirective } from './direction.directive';\nimport { ATagBgImageDirective } from './a-tag-bg-image.directive';\nimport { DescriptionDirective } from './description.directive';\n/**\n * Array of all directives.\n */\nexport const DIRECTIVES = [\n  ClickOutsideDirective,\n  SizeDirective,\n  KeyboardNavigationDirective,\n  WrapDirective,\n  DirectionDirective,\n  ATagBgImageDirective,\n  DescriptionDirective\n];\n","/*\n The MIT License (MIT)\n\n Copyright (c) 2017-2018 Stefano Cappa (Ks89)\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in all\n copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NON INFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n SOFTWARE.\n */\n\n\nimport { Directive, ElementRef, Input, OnChanges, OnInit, Renderer2 } from '@angular/core';\nimport { Description } from '../model/description.interface';\n/**\n * Directive to customize the description.\n */\nexport class DescriptionDirective implements OnInit, OnChanges {\n/**\n * Object of type `Description` to resize the element.\n */\ndescription: Description;\n/**\n * @param {?} renderer\n * @param {?} el\n */\nconstructor(private renderer: Renderer2,\nprivate el: ElementRef) {}\n/**\n * Method ´ngOnInit´ to apply the style of this directive.\n * This is an Angular's lifecycle hook, so its called automatically by Angular itself.\n * In particular, it's called only one time!!!\n * @return {?}\n */\nngOnInit() {\n    this.applyStyle();\n  }\n/**\n * Method ´ngOnChanges´ to apply the style of this directive.\n * This is an Angular's lifecycle hook, so its called automatically by Angular itself.\n * In particular, it's called when any data-bound property of a directive changes!!!\n * @return {?}\n */\nngOnChanges() {\n    this.applyStyle();\n  }\n/**\n * Private method to change description's style.\n * @return {?}\n */\nprivate applyStyle() {\n    if (!this.description) {\n      return;\n    }\n\n    if (this.description.style) {\n      this.renderer.setStyle(this.el.nativeElement, 'background', this.description.style.bgColor);\n      this.renderer.setStyle(this.el.nativeElement, 'color', this.description.style.textColor);\n\n      if (this.description.style.width) {\n        this.renderer.setStyle(this.el.nativeElement, 'width', this.description.style.width);\n      }\n      if (this.description.style.height) {\n        this.renderer.setStyle(this.el.nativeElement, 'height', this.description.style.height);\n      }\n      if (this.description.style.position) {\n        this.renderer.setStyle(this.el.nativeElement, 'position', this.description.style.position);\n      }\n      if (this.description.style.top) {\n        this.renderer.setStyle(this.el.nativeElement, 'top', this.description.style.top);\n      }\n      if (this.description.style.bottom) {\n        this.renderer.setStyle(this.el.nativeElement, 'bottom', this.description.style.bottom);\n      }\n      if (this.description.style.left) {\n        this.renderer.setStyle(this.el.nativeElement, 'left', this.description.style.left);\n      }\n      if (this.description.style.right) {\n        this.renderer.setStyle(this.el.nativeElement, 'right', this.description.style.right);\n      }\n\n      this.renderer.setStyle(this.el.nativeElement, 'margin-top', this.description.style.marginTop ? this.description.style.marginTop : '0px');\n      this.renderer.setStyle(this.el.nativeElement, 'margin-bottom', this.description.style.marginBottom ? this.description.style.marginBottom : '0px');\n      this.renderer.setStyle(this.el.nativeElement, 'margin-left', this.description.style.marginLeft ? this.description.style.marginLeft : '0px');\n      this.renderer.setStyle(this.el.nativeElement, 'margin-right', this.description.style.marginRight ? this.description.style.marginRight : '0px');\n    }\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Directive, args: [{\n  selector: '[ksDescription]'\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: Renderer2, },\n{type: ElementRef, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'description': [{ type: Input },],\n};\n}\n\nfunction DescriptionDirective_tsickle_Closure_declarations() {\n/** @type {?} */\nDescriptionDirective.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nDescriptionDirective.ctorParameters;\n/** @type {?} */\nDescriptionDirective.propDecorators;\n/**\n * Object of type `Description` to resize the element.\n * @type {?}\n */\nDescriptionDirective.prototype.description;\n/** @type {?} */\nDescriptionDirective.prototype.renderer;\n/** @type {?} */\nDescriptionDirective.prototype.el;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","/*\n The MIT License (MIT)\n\n Copyright (c) 2017-2018 Stefano Cappa (Ks89)\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in all\n copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NON INFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n SOFTWARE.\n */\n\n\nimport { Directive, ElementRef, Input, OnChanges, OnInit, Renderer2 } from '@angular/core';\n\nimport { Image } from '../model/image.class';\n/**\n * Directive to add an image to an `<a>` tag with some additional custom properties.\n */\nexport class ATagBgImageDirective implements OnInit, OnChanges {\n/**\n * Object of type `Image` that represents the image to add to the `<a>` tag.\n */\nimage: Image;\n/**\n * Additional style to customize the background attribute.\n * Empty string by default.\n */\nstyle: string;\n/**\n * @param {?} renderer\n * @param {?} el\n */\nconstructor(private renderer: Renderer2,\nprivate el: ElementRef) {}\n/**\n * Method ´ngOnInit´ to apply the style of this directive.\n * This is an Angular's lifecycle hook, so its called automatically by Angular itself.\n * In particular, it's called only one time!!!\n * @return {?}\n */\nngOnInit() {\n    this.applyStyle();\n  }\n/**\n * Method ´ngOnChanges´ to apply the style of this directive.\n * This is an Angular's lifecycle hook, so its called automatically by Angular itself.\n * In particular, it's called when any data-bound property of a directive changes!!!\n * @return {?}\n */\nngOnChanges() {\n    this.applyStyle();\n  }\n/**\n * Private method to add an image as background of an `<a>` tag.\n * @return {?}\n */\nprivate applyStyle() {\n    if (!this.image || (!this.image.plain && !this.image.modal)) {\n      return;\n    }\n\n    const /** @type {?} */ imgPath: string = this.image.plain && this.image.plain.img ? this.image.plain.img : this.image.modal.img;\n    this.renderer.setStyle(this.el.nativeElement, 'background', `url(\"${imgPath}\") ${this.style}`);\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Directive, args: [{\n  selector: '[ksATagBgImage]'\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: Renderer2, },\n{type: ElementRef, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'image': [{ type: Input },],\n'style': [{ type: Input },],\n};\n}\n\nfunction ATagBgImageDirective_tsickle_Closure_declarations() {\n/** @type {?} */\nATagBgImageDirective.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nATagBgImageDirective.ctorParameters;\n/** @type {?} */\nATagBgImageDirective.propDecorators;\n/**\n * Object of type `Image` that represents the image to add to the `<a>` tag.\n * @type {?}\n */\nATagBgImageDirective.prototype.image;\n/**\n * Additional style to customize the background attribute.\n * Empty string by default.\n * @type {?}\n */\nATagBgImageDirective.prototype.style;\n/** @type {?} */\nATagBgImageDirective.prototype.renderer;\n/** @type {?} */\nATagBgImageDirective.prototype.el;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","/*\n The MIT License (MIT)\n\n Copyright (c) 2017-2018 Stefano Cappa (Ks89)\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in all\n copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NON INFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n SOFTWARE.\n */\n\n\nimport { Directive, ElementRef, Input, OnChanges, OnInit, Renderer2 } from '@angular/core';\n/**\n * Directive to change the flex-direction of an element, based on two inputs (`direction` and `justify`).\n */\nexport class DirectionDirective implements OnInit, OnChanges {\n/**\n * String input to set the css flex-direction of an element.\n */\ndirection: string;\n/**\n * String input to set the css justify-content of an element.\n */\njustify: string;\n/**\n * @param {?} renderer\n * @param {?} el\n */\nconstructor(private renderer: Renderer2,\nprivate el: ElementRef) {}\n/**\n * Method ´ngOnInit´ to apply the style of this directive.\n * This is an Angular's lifecycle hook, so its called automatically by Angular itself.\n * In particular, it's called only one time!!!\n * @return {?}\n */\nngOnInit() {\n    this.applyStyle();\n  }\n/**\n * Method ´ngOnChanges´ to apply the style of this directive.\n * This is an Angular's lifecycle hook, so its called automatically by Angular itself.\n * In particular, it's called when any data-bound property of a directive changes!!!\n * @return {?}\n */\nngOnChanges() {\n    this.applyStyle();\n  }\n/**\n * Private method to change both direction and justify of an element.\n * @return {?}\n */\nprivate applyStyle() {\n    if (!this.direction || !this.justify) {\n      return;\n    }\n    this.renderer.setStyle(this.el.nativeElement, 'flex-direction', this.direction);\n    this.renderer.setStyle(this.el.nativeElement, 'justify-content', this.justify);\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Directive, args: [{\n  selector: '[ksDirection]'\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: Renderer2, },\n{type: ElementRef, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'direction': [{ type: Input },],\n'justify': [{ type: Input },],\n};\n}\n\nfunction DirectionDirective_tsickle_Closure_declarations() {\n/** @type {?} */\nDirectionDirective.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nDirectionDirective.ctorParameters;\n/** @type {?} */\nDirectionDirective.propDecorators;\n/**\n * String input to set the css flex-direction of an element.\n * @type {?}\n */\nDirectionDirective.prototype.direction;\n/**\n * String input to set the css justify-content of an element.\n * @type {?}\n */\nDirectionDirective.prototype.justify;\n/** @type {?} */\nDirectionDirective.prototype.renderer;\n/** @type {?} */\nDirectionDirective.prototype.el;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","/*\n The MIT License (MIT)\n\n Copyright (c) 2017-2018 Stefano Cappa (Ks89)\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in all\n copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NON INFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n SOFTWARE.\n */\n\n\nimport { Directive, ElementRef, Input, OnChanges, OnInit, Renderer2 } from '@angular/core';\n/**\n * Directive to change the flex-wrap css property of an element.\n */\nexport class WrapDirective implements OnInit, OnChanges {\n/**\n * Boolean input that it's true to add 'flex-wrap: wrap', 'flex-wrap: nowrap' otherwise.\n */\nwrap: boolean;\n/**\n * String input to force the width of the element to be able to see wrapping.\n */\nwidth: string;\n/**\n * @param {?} renderer\n * @param {?} el\n */\nconstructor(private renderer: Renderer2,\nprivate el: ElementRef) {}\n/**\n * Method ´ngOnInit´ to apply the style of this directive.\n * This is an Angular's lifecycle hook, so its called automatically by Angular itself.\n * In particular, it's called only one time!!!\n * @return {?}\n */\nngOnInit() {\n    this.applyStyle();\n  }\n/**\n * Method ´ngOnChanges´ to apply the style of this directive.\n * This is an Angular's lifecycle hook, so its called automatically by Angular itself.\n * In particular, it's called when any data-bound property of a directive changes!!!\n * @return {?}\n */\nngOnChanges() {\n    this.applyStyle();\n  }\n/**\n * Private method to change both widht and flex-wrap css properties.\n * @return {?}\n */\nprivate applyStyle() {\n    // TODO is this right???? If wrap os false I cannot apply width and flex-wrap\n    if (!this.wrap) {\n      return;\n    }\n    this.renderer.setStyle(this.el.nativeElement, 'width', this.width);\n    this.renderer.setStyle(this.el.nativeElement, 'flex-wrap', this.wrap ? 'wrap' : 'nowrap');\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Directive, args: [{\n  selector: '[ksWrap]'\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: Renderer2, },\n{type: ElementRef, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'wrap': [{ type: Input },],\n'width': [{ type: Input },],\n};\n}\n\nfunction WrapDirective_tsickle_Closure_declarations() {\n/** @type {?} */\nWrapDirective.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nWrapDirective.ctorParameters;\n/** @type {?} */\nWrapDirective.propDecorators;\n/**\n * Boolean input that it's true to add 'flex-wrap: wrap', 'flex-wrap: nowrap' otherwise.\n * @type {?}\n */\nWrapDirective.prototype.wrap;\n/**\n * String input to force the width of the element to be able to see wrapping.\n * @type {?}\n */\nWrapDirective.prototype.width;\n/** @type {?} */\nWrapDirective.prototype.renderer;\n/** @type {?} */\nWrapDirective.prototype.el;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","/*\n The MIT License (MIT)\n\n Copyright (c) 2017-2018 Stefano Cappa (Ks89)\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in all\n copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NON INFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n SOFTWARE.\n */\n\n\nimport { Directive, EventEmitter, HostListener, Input, Output } from '@angular/core';\nexport class KeyboardNavigationDirective {\n   isOpen: boolean;\n\n   keyPress: EventEmitter<number> = new EventEmitter<number>();\n/**\n * Listener to catch keyboard's events and call the right method based on the key.\n * For instance, pressing esc, this will call `closeGallery(Action.KEYBOARD)` and so on.\n * If you passed a valid `keyboardConfig` esc, right and left buttons will be customized based on your data.\n * @param {?} e KeyboardEvent caught by the listener.\n * @return {?}\n */\nonKeyDown(e: KeyboardEvent) {\n    if (!this.isOpen) {\n      return;\n    }\n    this.keyPress.emit(e.keyCode);\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Directive, args: [{\n  selector: '[ksKeyboardNavigation]'\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'isOpen': [{ type: Input },],\n'keyPress': [{ type: Output },],\n'onKeyDown': [{ type: HostListener, args: ['window:keydown', ['$event'], ] },],\n};\n}\n\nfunction KeyboardNavigationDirective_tsickle_Closure_declarations() {\n/** @type {?} */\nKeyboardNavigationDirective.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nKeyboardNavigationDirective.ctorParameters;\n/** @type {?} */\nKeyboardNavigationDirective.propDecorators;\n/** @type {?} */\nKeyboardNavigationDirective.prototype.isOpen;\n/** @type {?} */\nKeyboardNavigationDirective.prototype.keyPress;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","/*\n The MIT License (MIT)\n\n Copyright (c) 2017-2018 Stefano Cappa (Ks89)\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in all\n copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NON INFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n SOFTWARE.\n */\n\n\nimport { Directive, ElementRef, Input, OnChanges, OnInit, Renderer2 } from '@angular/core';\nimport { Size } from '../model/size.interface';\n/**\n * Directive to change the size of an element.\n */\nexport class SizeDirective implements OnInit, OnChanges {\n/**\n * Object of type `Size` to resize the element.\n */\nsizeConfig: Size;\n/**\n * @param {?} renderer\n * @param {?} el\n */\nconstructor(private renderer: Renderer2,\nprivate el: ElementRef) {}\n/**\n * Method ´ngOnInit´ to apply the style of this directive.\n * This is an Angular's lifecycle hook, so its called automatically by Angular itself.\n * In particular, it's called only one time!!!\n * @return {?}\n */\nngOnInit() {\n    this.applyStyle();\n  }\n/**\n * Method ´ngOnChanges´ to apply the style of this directive.\n * This is an Angular's lifecycle hook, so its called automatically by Angular itself.\n * In particular, it's called when any data-bound property of a directive changes!!!\n * @return {?}\n */\nngOnChanges() {\n    this.applyStyle();\n  }\n/**\n * Private method to change both width and height of an element.\n * @return {?}\n */\nprivate applyStyle() {\n    if (!this.sizeConfig) {\n      return;\n    }\n    // apply [style.width]\n    this.renderer.setStyle(this.el.nativeElement, 'width', this.sizeConfig.width);\n    this.renderer.setStyle(this.el.nativeElement, 'height', this.sizeConfig.height);\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Directive, args: [{\n  selector: '[ksSize]'\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: Renderer2, },\n{type: ElementRef, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'sizeConfig': [{ type: Input },],\n};\n}\n\nfunction SizeDirective_tsickle_Closure_declarations() {\n/** @type {?} */\nSizeDirective.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nSizeDirective.ctorParameters;\n/** @type {?} */\nSizeDirective.propDecorators;\n/**\n * Object of type `Size` to resize the element.\n * @type {?}\n */\nSizeDirective.prototype.sizeConfig;\n/** @type {?} */\nSizeDirective.prototype.renderer;\n/** @type {?} */\nSizeDirective.prototype.el;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n","/*\n The MIT License (MIT)\n\n Copyright (c) 2017-2018 Stefano Cappa (Ks89)\n\n Permission is hereby granted, free of charge, to any person obtaining a copy\n of this software and associated documentation files (the \"Software\"), to deal\n in the Software without restriction, including without limitation the rights\n to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n copies of the Software, and to permit persons to whom the Software is\n furnished to do so, subject to the following conditions:\n\n The above copyright notice and this permission notice shall be included in all\n copies or substantial portions of the Software.\n\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n FITNESS FOR A PARTICULAR PURPOSE AND NON INFRINGEMENT. IN NO EVENT SHALL THE\n AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n SOFTWARE.\n */\n\n\nimport { Directive, EventEmitter, HostListener, Input, Output } from '@angular/core';\n/**\n * Directive to close the modal gallery clicking on the semi-transparent background.\n * In fact, it listens for a click on all elements that aren't 'inside' and it emits\n * an event using `\\@Output clickOutside`.\n */\nexport class ClickOutsideDirective {\n/**\n * Boolean to enable this directive.\n */\nclickOutsideEnable: boolean;\n/**\n * Output to emit an event if the clicked element class doesn't contain 'inside' or it is 'hidden'. The payload is a boolean.\n */\nclickOutside: EventEmitter<boolean> = new EventEmitter<boolean>();\n/**\n * Method called by Angular itself every click thanks to `\\@HostListener`.\n * @param {?} event\n * @return {?}\n */\nonClick(event: MouseEvent) {\n    event.stopPropagation();\n\n    const /** @type {?} */ targetElement: any = event.target;\n\n    if (!this.clickOutsideEnable || !targetElement) {\n      return;\n    }\n\n    let /** @type {?} */ isInside = false;\n    let /** @type {?} */ isHidden = false;\n\n    if (typeof targetElement.className !== 'string') {\n      // it happens with @fortawesome/fontawesome 5\n      // for some reasons className is an object with 2 empty properties inside\n      isInside = true;\n    } else {\n      // in normal scenarios, use classname, because it's a simple string\n      isInside = targetElement.className && targetElement.className.startsWith('inside');\n      isHidden = targetElement.className.includes('hidden');\n    }\n\n    // if inside => don't close modal gallery\n    // if hidden => close modal gallery\n    /*\n        i i' h | close\n        0 1  0 |   1 => close modal gallery\n        0 1  1 |   1 => close modal gallery\n        1 0  0 |   0\n        1 0  1 |   1 => close modal gallery\n     */\n    if (!isInside || isHidden) {\n      // close modal gallery\n      this.clickOutside.emit(true);\n    }\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Directive, args: [{\n  selector: '[ksClickOutside]'\n}, ] },\n];\n/**\n * @nocollapse\n */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'clickOutsideEnable': [{ type: Input },],\n'clickOutside': [{ type: Output },],\n'onClick': [{ type: HostListener, args: ['click', ['$event'], ] },],\n};\n}\n\nfunction ClickOutsideDirective_tsickle_Closure_declarations() {\n/** @type {?} */\nClickOutsideDirective.decorators;\n/**\n * @nocollapse\n * @type {?}\n */\nClickOutsideDirective.ctorParameters;\n/** @type {?} */\nClickOutsideDirective.propDecorators;\n/**\n * Boolean to enable this directive.\n * @type {?}\n */\nClickOutsideDirective.prototype.clickOutsideEnable;\n/**\n * Output to emit an event if the clicked element class doesn't contain 'inside' or it is 'hidden'. The payload is a boolean.\n * @type {?}\n */\nClickOutsideDirective.prototype.clickOutside;\n}\n\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"],"names":[],"mappings":"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"}
