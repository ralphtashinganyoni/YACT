!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/common"],t):t(e["angular-modal-gallery"]={},e.ng.core,e.ng.common)}(this,function(e,o,a){"use strict";var i,t=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),n=function(){function e(){this.clickOutside=new o.EventEmitter}return e.prototype.onClick=function(e){e.stopPropagation();var t=e.target;if(this.clickOutsideEnable&&t){var n=!1,i=!1;"string"!=typeof t.className?n=!0:(n=t.className&&t.className.startsWith("inside"),i=t.className.includes("hidden")),n&&!i||this.clickOutside.emit(!0)}},e}();n.decorators=[{type:o.Directive,args:[{selector:"[ksClickOutside]"}]}],n.ctorParameters=function(){return[]},n.propDecorators={clickOutsideEnable:[{type:o.Input}],clickOutside:[{type:o.Output}],onClick:[{type:o.HostListener,args:["click",["$event"]]}]};var r=function(){function e(e,t){this.renderer=e,this.el=t}return e.prototype.ngOnInit=function(){this.applyStyle()},e.prototype.ngOnChanges=function(){this.applyStyle()},e.prototype.applyStyle=function(){this.sizeConfig&&(this.renderer.setStyle(this.el.nativeElement,"width",this.sizeConfig.width),this.renderer.setStyle(this.el.nativeElement,"height",this.sizeConfig.height))},e}();r.decorators=[{type:o.Directive,args:[{selector:"[ksSize]"}]}],r.ctorParameters=function(){return[{type:o.Renderer2},{type:o.ElementRef}]},r.propDecorators={sizeConfig:[{type:o.Input}]};var s=function(){function e(){this.keyPress=new o.EventEmitter}return e.prototype.onKeyDown=function(e){this.isOpen&&this.keyPress.emit(e.keyCode)},e}();s.decorators=[{type:o.Directive,args:[{selector:"[ksKeyboardNavigation]"}]}],s.ctorParameters=function(){return[]},s.propDecorators={isOpen:[{type:o.Input}],keyPress:[{type:o.Output}],onKeyDown:[{type:o.HostListener,args:["window:keydown",["$event"]]}]};var l=function(){function e(e,t){this.renderer=e,this.el=t}return e.prototype.ngOnInit=function(){this.applyStyle()},e.prototype.ngOnChanges=function(){this.applyStyle()},e.prototype.applyStyle=function(){this.wrap&&(this.renderer.setStyle(this.el.nativeElement,"width",this.width),this.renderer.setStyle(this.el.nativeElement,"flex-wrap",this.wrap?"wrap":"nowrap"))},e}();l.decorators=[{type:o.Directive,args:[{selector:"[ksWrap]"}]}],l.ctorParameters=function(){return[{type:o.Renderer2},{type:o.ElementRef}]},l.propDecorators={wrap:[{type:o.Input}],width:[{type:o.Input}]};var m=function(){function e(e,t){this.renderer=e,this.el=t}return e.prototype.ngOnInit=function(){this.applyStyle()},e.prototype.ngOnChanges=function(){this.applyStyle()},e.prototype.applyStyle=function(){this.direction&&this.justify&&(this.renderer.setStyle(this.el.nativeElement,"flex-direction",this.direction),this.renderer.setStyle(this.el.nativeElement,"justify-content",this.justify))},e}();m.decorators=[{type:o.Directive,args:[{selector:"[ksDirection]"}]}],m.ctorParameters=function(){return[{type:o.Renderer2},{type:o.ElementRef}]},m.propDecorators={direction:[{type:o.Input}],justify:[{type:o.Input}]};var c=function(){function e(e,t){this.renderer=e,this.el=t}return e.prototype.ngOnInit=function(){this.applyStyle()},e.prototype.ngOnChanges=function(){this.applyStyle()},e.prototype.applyStyle=function(){if(this.image&&(this.image.plain||this.image.modal)){var e=this.image.plain&&this.image.plain.img?this.image.plain.img:this.image.modal.img;this.renderer.setStyle(this.el.nativeElement,"background",'url("'+e+'") '+this.style)}},e}();c.decorators=[{type:o.Directive,args:[{selector:"[ksATagBgImage]"}]}],c.ctorParameters=function(){return[{type:o.Renderer2},{type:o.ElementRef}]},c.propDecorators={image:[{type:o.Input}],style:[{type:o.Input}]};var g=function(){function e(e,t){this.renderer=e,this.el=t}return e.prototype.ngOnInit=function(){this.applyStyle()},e.prototype.ngOnChanges=function(){this.applyStyle()},e.prototype.applyStyle=function(){this.description&&this.description.style&&(this.renderer.setStyle(this.el.nativeElement,"background",this.description.style.bgColor),this.renderer.setStyle(this.el.nativeElement,"color",this.description.style.textColor),this.description.style.width&&this.renderer.setStyle(this.el.nativeElement,"width",this.description.style.width),this.description.style.height&&this.renderer.setStyle(this.el.nativeElement,"height",this.description.style.height),this.description.style.position&&this.renderer.setStyle(this.el.nativeElement,"position",this.description.style.position),this.description.style.top&&this.renderer.setStyle(this.el.nativeElement,"top",this.description.style.top),this.description.style.bottom&&this.renderer.setStyle(this.el.nativeElement,"bottom",this.description.style.bottom),this.description.style.left&&this.renderer.setStyle(this.el.nativeElement,"left",this.description.style.left),this.description.style.right&&this.renderer.setStyle(this.el.nativeElement,"right",this.description.style.right),this.renderer.setStyle(this.el.nativeElement,"margin-top",this.description.style.marginTop?this.description.style.marginTop:"0px"),this.renderer.setStyle(this.el.nativeElement,"margin-bottom",this.description.style.marginBottom?this.description.style.marginBottom:"0px"),this.renderer.setStyle(this.el.nativeElement,"margin-left",this.description.style.marginLeft?this.description.style.marginLeft:"0px"),this.renderer.setStyle(this.el.nativeElement,"margin-right",this.description.style.marginRight?this.description.style.marginRight:"0px"))},e}();g.decorators=[{type:o.Directive,args:[{selector:"[ksDescription]"}]}],g.ctorParameters=function(){return[{type:o.Renderer2},{type:o.ElementRef}]},g.propDecorators={description:[{type:o.Input}]};var d=[n,r,s,l,m,c,g],p=function(){};p.decorators=[{type:o.Component,args:[{selector:"ks-background",styles:["\n    .ng-overlay {\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100vw;\n      height: 100vh;\n      background: black;\n      opacity: 0.8;\n      z-index: 9999; }\n  "],template:'\n    <div class="ng-overlay" *ngIf="isOpen"\n         [attr.aria-label]="accessibilityConfig?.backgroundAriaLabel"\n         [title]="accessibilityConfig?.backgroundTitle"></div>\n  ',changeDetection:o.ChangeDetectionStrategy.OnPush}]}],p.ctorParameters=function(){return[]},p.propDecorators={isOpen:[{type:o.Input}],accessibilityConfig:[{type:o.Input}]};var u=function(e,t,n){this.id=e,this.modal=t,this.plain=n},y=function(e,t){this.action=e,this.result=t},h={NORMAL:0,CLICK:1,KEYBOARD:2,SWIPE:3,LOAD:4};h[h.NORMAL]="NORMAL",h[h.CLICK]="CLICK",h[h.KEYBOARD]="KEYBOARD",h[h.SWIPE]="SWIPE",h[h.LOAD]="LOAD","undefined"!=typeof window&&require("mousetrap");var w=new o.InjectionToken("KEYBOARD_CONFIGURATION"),f=function(){function e(e){this.config=e,this.shortcuts=this.config&&this.config.shortcuts?this.config.shortcuts:["ctrl+s","meta+s"],"undefined"!=typeof window&&(this.mousetrap=new Mousetrap)}return e.prototype.add=function(n){"undefined"!=typeof window&&this.mousetrap.bind(this.shortcuts,function(e,t){e.preventDefault?e.preventDefault():e.returnValue=!1,n(e,t)})},e.prototype.reset=function(){"undefined"!=typeof window&&this.mousetrap.reset()},e}();f.decorators=[{type:o.Injectable}],f.ctorParameters=function(){return[{type:undefined,decorators:[{type:o.Inject,args:[w]}]}]};var b=function(){function e(){this.navigate=new o.EventEmitter}return e.prototype.openGallery=function(e,t){if(e===undefined||e<0||t<0)throw new Error("Cannot open gallery via GalleryService with either index<0 or galleryId<0 or galleryId===undefined");this.navigate.emit({galleryId:e,index:t})},e}();b.decorators=[{type:o.Injectable}],b.ctorParameters=function(){return[]};var v="right",M=function(){function e(){}return e.prototype.handleNavigationEvent=function(e,t){return t?t instanceof KeyboardEvent?this.handleKeyboardNavigationEvent(e,t):t instanceof MouseEvent?this.handleMouseNavigationEvent(e,t):0:0},e.prototype.handleImageEvent=function(e){return e?e instanceof KeyboardEvent?this.handleImageKeyboardEvent(e):e instanceof MouseEvent?this.handleImageMouseEvent(e):0:0},e.prototype.handleImageKeyboardEvent=function(e){var t=e.keyCode;return 32===t||13===t?1:0},e.prototype.handleImageMouseEvent=function(e){return 0===e.button?1:0},e.prototype.handleKeyboardNavigationEvent=function(e,t){var n=t.keyCode;return 32===n||13===n?e===v?1:-1:0},e.prototype.handleMouseNavigationEvent=function(e,t){return 0===t.button?e===v?1:-1:0},e}();M.decorators=[{type:o.Component,args:[{selector:"ks-accessible",template:"",changeDetection:o.ChangeDetectionStrategy.OnPush}]}],M.ctorParameters=function(){return[]};var I={ALWAYS_HIDDEN:1,ALWAYS_VISIBLE:2,HIDE_IF_EMPTY:3};I[I.ALWAYS_HIDDEN]="ALWAYS_HIDDEN",I[I.ALWAYS_VISIBLE]="ALWAYS_VISIBLE",I[I.HIDE_IF_EMPTY]="HIDE_IF_EMPTY";var L={ESC:27,LEFT_ARROW:37,RIGHT_ARROW:39,UP_ARROW:38,DOWN_ARROW:40};L[L.ESC]="ESC",L[L.LEFT_ARROW]="LEFT_ARROW",L[L.RIGHT_ARROW]="RIGHT_ARROW",L[L.UP_ARROW]="UP_ARROW",L[L.DOWN_ARROW]="DOWN_ARROW";var x={};function C(t,e){if(!t)throw new Error("image must be a valid Image object");if(!e)throw new Error("arrayOfImages must be a valid Image[]");if(!t.id&&0!==t.id)throw new Error("A numeric Image 'id' is mandatory");if(t.id<0)throw new Error("Image 'id' must be >= 0");return e.findIndex(function(e){return e.id===t.id})}x.STANDARD=1,x.CIRCULAR=2,x.BARS=3,x.DOTS=4,x.CUBE_FLIPPING=5,x.CIRCLES=6,x.EXPLOSING_SQUARES=7,x[x.STANDARD]="STANDARD",x[x.CIRCULAR]="CIRCULAR",x[x.BARS]="BARS",x[x.DOTS]="DOTS",x[x.CUBE_FLIPPING]="CUBE_FLIPPING",x[x.CIRCLES]="CIRCLES",x[x.EXPLOSING_SQUARES]="EXPLOSING_SQUARES";var k=function(a){function e(){var e=a.apply(this,arguments)||this;return e.loadImage=new o.EventEmitter,e.changeImage=new o.EventEmitter,e.close=new o.EventEmitter,e.clickAction=h.CLICK,e.keyboardAction=h.KEYBOARD,e.isFirstImage=!1,e.isLastImage=!1,e.loading=!0,e.SWIPE_ACTION={LEFT:"swipeleft",RIGHT:"swiperight",UP:"swipeup",DOWN:"swipedown"},e}return t(e,a),e.prototype.ngOnInit=function(){var e={enable:!0,type:x.STANDARD},t={strategy:I.ALWAYS_VISIBLE,imageText:"Image ",numberSeparator:"/",beforeTextDescription:" - ",style:{bgColor:"rgba(0, 0, 0, .5)",textColor:"white",marginTop:"0px",marginBottom:"5px",marginLeft:"0px",marginRight:"0px"}};this.configLoading=Object.assign({},e,this.loadingConfig);var n=Object.assign({},t,this.descriptionConfig);n.style.bgColor=n.style.bgColor||t.style.bgColor,n.style.textColor=n.style.textColor||t.style.textColor,n.style.marginTop=n.style.marginTop||t.style.marginTop,n.style.marginBottom=n.style.marginBottom||t.style.marginBottom,n.style.marginLeft=n.style.marginLeft||t.style.marginLeft,n.style.marginRight=n.style.marginRight||t.style.marginRight,this.description=n,this.configCurrentImage=Object.assign({},{navigateOnClick:!0},this.currentImageConfig)},e.prototype.ngOnChanges=function(e){var t=e.currentImage;if(t){var n;t.currentValue;try{n=C(this.currentImage,this.images)}catch(i){throw console.error("Cannot get the current image index in current-image"),i}this.isOpen&&this.manageSlideConfig(n)}},e.prototype.onKeyPress=function(e){var t=this.keyboardConfig&&this.keyboardConfig.esc?this.keyboardConfig.esc:L.ESC,n=this.keyboardConfig&&this.keyboardConfig.right?this.keyboardConfig.right:L.RIGHT_ARROW,i=this.keyboardConfig&&this.keyboardConfig.left?this.keyboardConfig.left:L.LEFT_ARROW;switch(e){case t:this.close.emit(new y(h.KEYBOARD,!0));break;case n:this.nextImage(h.KEYBOARD);break;case i:this.prevImage(h.KEYBOARD)}},e.prototype.getDescriptionToDisplay=function(e){if(void 0===e&&(e=this.currentImage),!this.description)throw new Error("To show image descriptions, description input must be a valid object implementing the Description interface");var t=!e.modal||!e.modal.description||""===e.modal.description;switch(this.description.strategy){case I.HIDE_IF_EMPTY:return t?"":e.modal.description+"";case I.ALWAYS_HIDDEN:return"";default:return this.buildTextDescription(e,t)}},e.prototype.getTitleToDisplay=function(e){if(void 0===e&&(e=this.currentImage),!this.description)throw new Error("To show image titles, description input must be a valid object implementing the Description interface");var t=!e.modal||!e.modal.description||""===e.modal.description;return this.buildTextDescription(e,t)},e.prototype.getAltDescriptionByImage=function(e){return void 0===e&&(e=this.currentImage),e?e.modal&&e.modal.description?e.modal.description:"Image "+(C(e,this.images)+1):""},e.prototype.getLeftPreviewImage=function(){var e=C(this.currentImage,this.images);return 0===e&&this.slideConfig.infinite?this.images[this.images.length-1]:(this.handleBoundaries(e),this.images[Math.max(e-1,0)])},e.prototype.getRightPreviewImage=function(){var e=C(this.currentImage,this.images);return e===this.images.length-1&&this.slideConfig.infinite?this.images[0]:(this.handleBoundaries(e),this.images[Math.min(e+1,this.images.length-1)])},e.prototype.onImageEvent=function(e,t){(void 0===t&&(t=h.NORMAL),t!==h.CLICK||this.configCurrentImage.navigateOnClick)&&(1===a.prototype.handleImageEvent.call(this,e)&&this.nextImage(t))},e.prototype.onNavigationEvent=function(e,t,n){void 0===n&&(n=h.NORMAL);var i=a.prototype.handleNavigationEvent.call(this,e,t);1===i?this.nextImage(n):-1===i&&this.prevImage(n)},e.prototype.prevImage=function(e){if(void 0===e&&(e=h.NORMAL),!this.isPreventSliding(0)){var t=this.getPrevImage();this.loading=!t.previouslyLoaded,this.changeImage.emit(new y(e,C(t,this.images)))}},e.prototype.nextImage=function(e){if(void 0===e&&(e=h.NORMAL),!this.isPreventSliding(this.images.length-1)){var t=this.getNextImage();this.loading=!t.previouslyLoaded,this.changeImage.emit(new y(e,C(t,this.images)))}},e.prototype.onImageLoad=function(e){var t={status:!0,index:C(this.currentImage,this.images),id:this.currentImage.id};this.loadImage.emit(t),this.loading=!1},e.prototype.swipe=function(e){switch(void 0===e&&(e=this.SWIPE_ACTION.RIGHT),e){case this.SWIPE_ACTION.RIGHT:this.nextImage(h.SWIPE);break;case this.SWIPE_ACTION.LEFT:this.prevImage(h.SWIPE)}},e.prototype.getIndexToDelete=function(e){return void 0===e&&(e=this.currentImage),C(e,this.images)},e.prototype.handleBoundaries=function(e){if(1===this.images.length)return this.isFirstImage=!0,void(this.isLastImage=!0);switch(e){case 0:this.isFirstImage=!0,this.isLastImage=!1;break;case this.images.length-1:this.isFirstImage=!1,this.isLastImage=!0;break;default:this.isFirstImage=!1,this.isLastImage=!1}},e.prototype.manageSlideConfig=function(e){this.slideConfig&&!0!==this.slideConfig.infinite?this.handleBoundaries(e):(this.isFirstImage=!1,this.isLastImage=!1)},e.prototype.isPreventSliding=function(e){return!!this.slideConfig&&!1===this.slideConfig.infinite&&C(this.currentImage,this.images)===e},e.prototype.getNextImage=function(){var e=C(this.currentImage,this.images),t=0;return t=0<=e&&e<this.images.length-1?e+1:0,this.images[t]},e.prototype.getPrevImage=function(){var e=C(this.currentImage,this.images),t=0;return t=0<e&&e<=this.images.length-1?e-1:this.images.length-1,this.images[t]},e.prototype.buildTextDescription=function(e,t){if(this.description.customFullDescription&&""!==this.description.customFullDescription)return this.description.customFullDescription;var n=C(e,this.images),i=this.description.imageText?this.description.imageText:"",a=n+1+(this.description.numberSeparator?this.description.numberSeparator:"")+this.images.length;if(t)return i+a;var o=e.modal&&e.modal.description?e.modal.description:"";return i+a+(this.description.beforeTextDescription+o)},e}(M);k.decorators=[{type:o.Component,args:[{selector:"ks-current-image",styles:['\n    :host {\n      display: -webkit-box;\n      display: flex;\n      -webkit-box-orient: vertical;\n      -webkit-box-direction: normal;\n              flex-direction: column;\n      -webkit-box-pack: center;\n              justify-content: center; }\n\n    .main-image-container {\n      display: -webkit-box;\n      display: flex;\n      -webkit-box-orient: horizontal;\n      -webkit-box-direction: normal;\n              flex-direction: row;\n      -webkit-box-align: center;\n              align-items: center;\n      -webkit-box-pack: justify;\n              justify-content: space-between; }\n      .main-image-container .nav, .main-image-container .nav-left, .main-image-container .nav-right {\n        -webkit-animation: animatezoom 1s;\n                animation: animatezoom 1s;\n        cursor: pointer;\n        -webkit-transition: all 0.5s;\n        transition: all 0.5s; }\n        .main-image-container .nav:hover, .main-image-container .nav-left:hover, .main-image-container .nav-right:hover {\n          -webkit-transform: scale(1.1);\n                  transform: scale(1.1); }\n      .main-image-container .nav-left {\n        margin-left: 15px; }\n      .main-image-container .nav-right {\n        margin-right: 15px; }\n\n    #current-image {\n      height: auto;\n      max-width: 80vw;\n      max-height: 60vh;\n      cursor: pointer; }\n\n    @media screen and (min-width: 70vw) {\n      #current-image {\n        height: auto;\n        max-width: 70vw;\n        max-height: 60vh;\n        cursor: pointer; } }\n\n    #current-figure {\n      -webkit-animation: fadein-visible .8s;\n              animation: fadein-visible .8s;\n      text-align: center; }\n\n    figure {\n      margin: 0;\n      position: relative; }\n      figure img {\n        max-width: 100%;\n        height: auto;\n        display: block; }\n\n    figcaption {\n      padding: 10px;\n      position: absolute;\n      bottom: 0;\n      left: 0;\n      right: 0; }\n\n    .description {\n      font-weight: bold;\n      text-align: center; }\n\n    @-webkit-keyframes fadein-visible {\n      from {\n        opacity: 0; }\n      to {\n        opacity: 1; } }\n\n    @keyframes fadein-visible {\n      from {\n        opacity: 0; }\n      to {\n        opacity: 1; } }\n\n    @-webkit-keyframes fadein-semi-visible05 {\n      from {\n        opacity: 0; }\n      to {\n        opacity: 0.5; } }\n\n    @keyframes fadein-semi-visible05 {\n      from {\n        opacity: 0; }\n      to {\n        opacity: 0.5; } }\n\n    @-webkit-keyframes fadein-semi-visible08 {\n      from {\n        opacity: 0; }\n      to {\n        opacity: 0.8; } }\n\n    @keyframes fadein-semi-visible08 {\n      from {\n        opacity: 0; }\n      to {\n        opacity: 0.8; } }\n\n    @-webkit-keyframes fadein-semi-visible09 {\n      from {\n        opacity: 0; }\n      to {\n        opacity: 0.9; } }\n\n    @keyframes fadein-semi-visible09 {\n      from {\n        opacity: 0; }\n      to {\n        opacity: 0.9; } }\n    .arrow-image, .empty-arrow-image, .left-arrow-image, .right-arrow-image {\n      width: 30px;\n      height: 30px;\n      background-size: 30px; }\n\n    .empty-arrow-image {\n      background: black;\n      opacity: 0; }\n\n    .left-arrow-image {\n      background-image: url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ3Ny4xNzUgNDc3LjE3NSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDc3LjE3NSA0NzcuMTc1OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjUxMnB4IiBoZWlnaHQ9IjUxMnB4Ij48Zz48cGF0aCBkPSJNMTQ1LjE4OCwyMzguNTc1bDIxNS41LTIxNS41YzUuMy01LjMsNS4zLTEzLjgsMC0xOS4xcy0xMy44LTUuMy0xOS4xLDBsLTIyNS4xLDIyNS4xYy01LjMsNS4zLTUuMywxMy44LDAsMTkuMWwyMjUuMSwyMjUgICBjMi42LDIuNiw2LjEsNCw5LjUsNHM2LjktMS4zLDkuNS00YzUuMy01LjMsNS4zLTEzLjgsMC0xOS4xTDE0NS4xODgsMjM4LjU3NXoiIGZpbGw9IiNGRkZGRkYiLz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PC9zdmc+");\n      opacity: 0.8;\n      -webkit-transition: all 0.5s;\n      transition: all 0.5s; }\n      .left-arrow-image:hover {\n        -webkit-transform: scale(1.2);\n                transform: scale(1.2); }\n\n    .right-arrow-image {\n      background-image: url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ3Ny4xNzUgNDc3LjE3NSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDc3LjE3NSA0NzcuMTc1OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjUxMnB4IiBoZWlnaHQ9IjUxMnB4Ij48Zz48cGF0aCBkPSJNMzYwLjczMSwyMjkuMDc1bC0yMjUuMS0yMjUuMWMtNS4zLTUuMy0xMy44LTUuMy0xOS4xLDBzLTUuMywxMy44LDAsMTkuMWwyMTUuNSwyMTUuNWwtMjE1LjUsMjE1LjUgICBjLTUuMyw1LjMtNS4zLDEzLjgsMCwxOS4xYzIuNiwyLjYsNi4xLDQsOS41LDRjMy40LDAsNi45LTEuMyw5LjUtNGwyMjUuMS0yMjUuMUMzNjUuOTMxLDI0Mi44NzUsMzY1LjkzMSwyMzQuMjc1LDM2MC43MzEsMjI5LjA3NXogICAiIGZpbGw9IiNGRkZGRkYiLz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PC9zdmc+");\n      opacity: 0.8;\n      -webkit-transition: all 0.5s;\n      transition: all 0.5s; }\n      .right-arrow-image:hover {\n        -webkit-transform: scale(1.2);\n                transform: scale(1.2); }\n    @media only screen and (max-width: 1024px), only screen and (max-device-width: 1024px) {\n      .current-image-previous {\n        display: none; }\n      .current-image-next {\n        display: none; } }\n\n    @media only screen and (min-device-width: 1025px) {\n      .current-image-preview, .current-image-previous, .current-image-next {\n        height: auto;\n        cursor: pointer;\n        opacity: 0.5;\n        -webkit-animation: fadein-semi-visible05 .8s;\n                animation: fadein-semi-visible05 .8s;\n        filter: alpha(opacity=50); }\n        .current-image-preview:hover, .current-image-previous:hover, .current-image-next:hover {\n          opacity: 1;\n          -webkit-transition-property: opacity;\n          transition-property: opacity;\n          -webkit-transition: all .5s ease;\n          transition: all .5s ease; } }\n\n    @-webkit-keyframes fadein-semi-visible05 {\n      from {\n        opacity: 0; }\n      to {\n        opacity: 0.5; } }\n\n    @keyframes fadein-semi-visible05 {\n      from {\n        opacity: 0; }\n      to {\n        opacity: 0.5; } }\n  '],template:'\n    <main class="main-image-container"\n          ksKeyboardNavigation [isOpen]="isOpen" (keyPress)="onKeyPress($event)"\n          [attr.aria-label]="accessibilityConfig.mainContainerAriaLabel"\n          [title]="accessibilityConfig.mainContainerTitle">\n\n      <a class="nav-left"\n         [attr.aria-label]="accessibilityConfig.mainPrevImageAriaLabel"\n         [tabindex]="isFirstImage && !slideConfig?.infinite ? -1 : 0" role="button"\n         (click)="onNavigationEvent(\'left\', $event)" (keyup)="onNavigationEvent(\'left\', $event)">\n        <div class="inside {{isFirstImage && !slideConfig?.infinite ? \'empty-arrow-image\' : \'left-arrow-image\'}}"\n             aria-hidden="true"\n             [title]="accessibilityConfig.mainPrevImageTitle"></div>\n      </a>\n\n      <ng-container *ngIf="slideConfig?.sidePreviews?.show">\n        <ng-container *ngIf="getLeftPreviewImage() as leftPreview">\n          <img *ngIf="!isFirstImage || slideConfig?.infinite; else firstImage"\n               class="inside current-image-previous"\n               [src]="leftPreview.plain?.img ? leftPreview.plain.img : leftPreview.modal.img"\n               [hidden]="loading"\n               ksSize [sizeConfig]="{width: slideConfig.sidePreviews?.size.width, height: slideConfig.sidePreviews?.size.height}"\n               [attr.aria-label]="leftPreview.modal.ariaLabel"\n               [title]="leftPreview.modal.title ? leftPreview.modal.title : getTitleToDisplay(leftPreview)"\n               alt="{{leftPreview.modal.alt ? leftPreview.modal.alt : getAltDescriptionByImage(leftPreview)}}"\n               [tabindex]="0" role="img"\n               (click)="onNavigationEvent(\'left\', $event, clickAction)" (keyup)="onNavigationEvent(\'left\', $event, keyboardAction)"/>\n          <ng-template #firstImage>\n            <div class="current-image-previous hidden"\n                 ksSize [sizeConfig]="{width: slideConfig.sidePreviews?.size.width, height: slideConfig.sidePreviews?.size.height}"></div>\n          </ng-template>\n        </ng-container>\n      </ng-container>\n\n\n      <figure id="current-figure" [hidden]="loading">\n        <img id="current-image"\n             class="inside"\n             [src]="currentImage.modal.img"\n             [attr.aria-label]="currentImage.modal.ariaLabel"\n             [title]="currentImage.modal.title ? currentImage.modal.title : getTitleToDisplay()"\n             alt="{{currentImage.modal.alt ? currentImage.modal.alt : getAltDescriptionByImage()}}"\n             [tabindex]="0" role="img"\n             (load)="onImageLoad($event)"\n             (click)="onImageEvent($event, clickAction)" (keyup)="onImageEvent($event, keyboardAction)"\n             (swipeleft)="swipe($event.type)"\n             (swiperight)="swipe($event.type)"/>\n        <figcaption *ngIf="getDescriptionToDisplay() !== \'\'"\n                    class="inside description"\n                    ksDescription [description]="description"\n                    [innerHTML]="getDescriptionToDisplay()">\n        </figcaption>\n      </figure>\n\n\n      <ng-container *ngIf="slideConfig?.sidePreviews?.show">\n        <ng-container *ngIf="getRightPreviewImage() as rightPreview">\n          <img *ngIf="!isLastImage || slideConfig?.infinite; else lastImage"\n               class="inside current-image-next"\n               [src]="rightPreview.plain?.img ? rightPreview.plain.img : rightPreview.modal.img"\n               [hidden]="loading"\n               ksSize [sizeConfig]="{width: slideConfig.sidePreviews?.size.width, height: slideConfig.sidePreviews?.size.height}"\n               [attr.aria-label]="rightPreview.modal.ariaLabel"\n               [title]="rightPreview.modal.title ? rightPreview.modal.title : getTitleToDisplay(rightPreview)"\n               alt="{{rightPreview.modal.alt ? rightPreview.modal.alt : getAltDescriptionByImage(rightPreview)}}"\n               [tabindex]="0" role="img"\n               (click)="onNavigationEvent(\'right\', $event, clickAction)" (keyup)="onNavigationEvent(\'right\', $event, keyboardAction)"/>\n          <ng-template #lastImage>\n            <div class="current-image-next hidden"\n                 ksSize [sizeConfig]="{width: slideConfig.sidePreviews?.size.width, height: slideConfig.sidePreviews?.size.height}">\n            </div>\n          </ng-template>\n        </ng-container>\n      </ng-container>\n\n      <ng-container *ngIf="loading && configLoading.enable">\n        <ks-loading-spinner [loadingConfig]="configLoading"\n                            [accessibilityConfig]="accessibilityConfig"></ks-loading-spinner>\n      </ng-container>\n\n      <a class="nav-right"\n         [attr.aria-label]="accessibilityConfig.mainNextImageAriaLabel"\n         [tabindex]="isLastImage && !slideConfig?.infinite ? -1 : 0" role="button"\n         (click)="onNavigationEvent(\'right\', $event)" (keyup)="onNavigationEvent(\'right\', $event)">\n        <div class="inside {{isLastImage && !slideConfig?.infinite ? \'empty-arrow-image\' : \'right-arrow-image\'}}"\n             aria-hidden="true"\n             [title]="accessibilityConfig.mainNextImageTitle"></div>\n      </a>\n    </main>\n  ',changeDetection:o.ChangeDetectionStrategy.OnPush}]}],k.ctorParameters=function(){return[]},k.propDecorators={currentImage:[{type:o.Input}],images:[{type:o.Input}],isOpen:[{type:o.Input}],currentImageConfig:[{type:o.Input}],loadingConfig:[{type:o.Input}],descriptionConfig:[{type:o.Input}],slideConfig:[{type:o.Input}],accessibilityConfig:[{type:o.Input}],keyboardConfig:[{type:o.Input}],loadImage:[{type:o.Output}],changeImage:[{type:o.Output}],close:[{type:o.Output}]};var j=function(e,t,n){this.size=e,this.breakConfig=t,this.justify=n},D=function(e,t){this.size=e,this.breakConfig=t},N=function(e,t){this.modalOpenerByIndex=e,this.hideDefaultPlainGallery=t},z={ROW:1,COLUMN:2,GRID:3,CUSTOM:4};z[z.ROW]="ROW",z[z.COLUMN]="COLUMN",z[z.GRID]="GRID",z[z.CUSTOM]="CUSTOM";var S={backgroundAriaLabel:"Modal gallery full screen background",backgroundTitle:"",plainGalleryContentAriaLabel:"Plain gallery content",plainGalleryContentTitle:"",modalGalleryContentAriaLabel:"Modal gallery content",modalGalleryContentTitle:"",loadingSpinnerAriaLabel:"The current image is loading. Please be patient.",loadingSpinnerTitle:"The current image is loading. Please be patient.",mainContainerAriaLabel:"Current image and navigation",mainContainerTitle:"",mainPrevImageAriaLabel:"Previous image",mainPrevImageTitle:"Previous image",mainNextImageAriaLabel:"Next image",mainNextImageTitle:"Next image",dotsContainerAriaLabel:"Image navigation dots",dotsContainerTitle:"",dotAriaLabel:"Navigate to image number",previewsContainerAriaLabel:"Image previews",previewsContainerTitle:"",previewScrollPrevAriaLabel:"Scroll previous previews",previewScrollPrevTitle:"Scroll previous previews",previewScrollNextAriaLabel:"Scroll next previews",previewScrollNextTitle:"Scroll next previews"},P=function(){function e(e,t,n,i){this.keyboardService=e,this.galleryService=t,this.platformId=n,this.changeDetectorRef=i,this.enableCloseOutside=!0,this.downloadable=!1,this.slideConfig={infinite:!1,sidePreviews:{show:!0,size:{width:"100px",height:"auto"}}},this.accessibilityConfig=S,this.close=new o.EventEmitter,this.show=new o.EventEmitter,this.firstImage=new o.EventEmitter,this.lastImage=new o.EventEmitter,this.hasData=new o.EventEmitter,this.buttonBeforeHook=new o.EventEmitter,this.buttonAfterHook=new o.EventEmitter,this.opened=!1,this.showGallery=!1}return e.prototype.ngOnInit=function(){var t=this;this.initImages(),this.galleryServiceSubscription=this.galleryService.navigate.subscribe(function(e){e&&(e.galleryId<0||e.galleryId!==t.id||e.index<0||e.index>t.images.length||t.showModalGallery(e.index,!0))})},e.prototype.ngOnChanges=function(e){var t=e.modalImages,n=e.plainGalleryConfig;if(t&&!t.firstChange&&t.previousValue!==t.currentValue&&this.initImages(),n){var i=n.currentValue;i.layout&&i.layout instanceof N&&-1!==i.layout.modalOpenerByIndex&&this.showModalGallery(i.layout.modalOpenerByIndex)}},e.prototype.onCustomEmit=function(e){var t=this.getButtonEventToEmit(e);this.buttonBeforeHook.emit(t),this.buttonAfterHook.emit(t)},e.prototype.onDelete=function(e){var t=this.getButtonEventToEmit(e);this.buttonBeforeHook.emit(t),1===this.images.length&&this.closeGallery(),this.currentImageComponent.getIndexToDelete(e.image)===this.images.length-1?this.currentImageComponent.prevImage():this.currentImageComponent.nextImage(),this.buttonAfterHook.emit(t)},e.prototype.onNavigate=function(e){var t=this.getButtonEventToEmit(e);this.buttonBeforeHook.emit(t),a.isPlatformBrowser(this.platformId)&&t.image&&t.image.modal.extUrl&&(t.button&&t.button.extUrlInNewTab?window.open(t.image.modal.extUrl,"_blank"):window.location.href=t.image.modal.extUrl),this.buttonAfterHook.emit(t)},e.prototype.onDownload=function(e){var t=this.getButtonEventToEmit(e);this.buttonBeforeHook.emit(t),this.downloadImage(),this.buttonAfterHook.emit(t)},e.prototype.onCloseGallery=function(e,t){void 0===t&&(t=h.NORMAL);var n=this.getButtonEventToEmit(e);this.buttonBeforeHook.emit(n),this.closeGallery(t),this.buttonAfterHook.emit(n)},e.prototype.closeGallery=function(e){void 0===e&&(e=h.NORMAL),this.close.emit(new y(e,!0)),this.opened=!1,this.keyboardService.reset(),document.body.style.overflow="visible"},e.prototype.onShowModalGallery=function(e){this.showModalGallery(e)},e.prototype.showModalGallery=function(e,t){var n=this;void 0===t&&(t=!1),document.body.style.overflow="hidden",this.keyboardService.add(function(e,t){e.preventDefault?e.preventDefault():e.returnValue=!1,n.downloadImage()}),this.opened=!0,this.currentImage=this.images[e],this.show.emit(new y(h.LOAD,e+1)),t&&this.changeDetectorRef.markForCheck()},e.prototype.onChangeCurrentImage=function(e){var t=e.result;this.currentImage=this.images[t],this.emitBoundaryEvent(e.action,t),this.show.emit(new y(e.action,t+1))},e.prototype.isPlainGalleryVisible=function(){return!(this.plainGalleryConfig&&this.plainGalleryConfig.layout&&this.plainGalleryConfig.layout instanceof N)||!this.plainGalleryConfig.layout.hideDefaultPlainGallery},e.prototype.onClickOutside=function(e){e&&this.enableCloseOutside&&this.closeGallery(h.CLICK)},e.prototype.onImageLoad=function(t){this.images=this.images.map(function(e){return e&&e.id===t.id?Object.assign({},e,{previouslyLoaded:t.status}):e})},e.prototype.onClickDot=function(e){this.currentImage=this.images[e]},e.prototype.onClickPreview=function(t){var e=this.images.find(function(e){return e.id===t.id});e&&(this.currentImage=e)},e.prototype.downloadImage=function(){this.downloadable&&(this.isIEorEdge()?this.downloadImageOnlyIEorEdge():this.downloadImageAllBrowsers())},e.prototype.ngOnDestroy=function(){this.keyboardService.reset(),this.galleryServiceSubscription&&this.galleryServiceSubscription.unsubscribe()},e.prototype.downloadImageAllBrowsers=function(){var e=document.createElement("a");e.href=this.currentImage.modal.img,e.setAttribute("download",this.getFileName(this.currentImage.modal.img)),document.body.appendChild(e),e.click(),document.body.removeChild(e)},e.prototype.downloadImageOnlyIEorEdge=function(){var n=this;if(a.isPlatformBrowser(this.platformId)){var i=new XMLHttpRequest;i.open("GET",this.currentImage.modal.img,!0),i.responseType="arraybuffer",i.onload=function(e){var t=new Blob([i.response],{type:"image/png"});window.navigator.msSaveBlob(t,n.getFileName(n.currentImage.modal.img))},i.send()}},e.prototype.getButtonEventToEmit=function(e){return Object.assign(e,{image:this.currentImage})},e.prototype.getFileName=function(e){return e.replace(/^.*[\\\/]/,"")},e.prototype.initImages=function(){this.images=this.modalImages,this.hasData.emit(new y(h.LOAD,!0)),this.showGallery=0<this.images.length},e.prototype.emitBoundaryEvent=function(e,t){switch(t){case 0:this.firstImage.emit(new y(e,!0));break;case this.images.length-1:this.lastImage.emit(new y(e,!0))}},e.prototype.isIEorEdge=function(){return a.isPlatformBrowser(this.platformId)?window.Blob&&window.navigator.msSaveOrOpenBlob:!!a.isPlatformServer(this.platformId)||void 0},e}();P.decorators=[{type:o.Component,args:[{selector:"ks-modal-gallery",exportAs:"ksModalGallery",styles:["\n    #modal-gallery-wrapper {\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100vw;\n      height: 100vh;\n      z-index: 10000; }\n\n    #flex-min-height-ie-fix {\n      display: -webkit-box;\n      display: flex;\n      -webkit-box-orient: vertical;\n      -webkit-box-direction: normal;\n              flex-direction: column;\n      -webkit-box-pack: center;\n              justify-content: center; }\n\n    #modal-gallery-container {\n      display: -webkit-box;\n      display: flex;\n      -webkit-box-orient: vertical;\n      -webkit-box-direction: normal;\n              flex-direction: column;\n      -webkit-box-pack: justify;\n              justify-content: space-between;\n      min-height: 100vh; }\n  "],template:'\n    <ks-plain-gallery [images]="images"\n                      [showGallery]="showGallery && isPlainGalleryVisible()"\n                      [plainGalleryConfig]="plainGalleryConfig"\n                      [accessibilityConfig]="accessibilityConfig"\n                      (show)="onShowModalGallery($event)"></ks-plain-gallery>\n\n    <ks-background [isOpen]="opened"\n                   [accessibilityConfig]="accessibilityConfig"></ks-background>\n\n    <div id="modal-gallery-wrapper" *ngIf="opened"\n         [attr.aria-label]="accessibilityConfig.modalGalleryContentAriaLabel"\n         [title]="accessibilityConfig.modalGalleryContentTitle"\n         ksClickOutside [clickOutsideEnable]="enableCloseOutside"\n         (clickOutside)="onClickOutside($event)">\n\n      <div id="flex-min-height-ie-fix">\n        <div id="modal-gallery-container">\n\n          <ks-upper-buttons [currentImage]="currentImage"\n                            [buttonsConfig]="buttonsConfig"\n                            (delete)="onDelete($event)"\n                            (navigate)="onNavigate($event)"\n                            (download)="onDownload($event)"\n                            (close)="onCloseGallery($event)"\n                            (customEmit)="onCustomEmit($event)"></ks-upper-buttons>\n\n          <ks-current-image [images]="images"\n                            [currentImage]="currentImage"\n                            [isOpen]="opened"\n                            [slideConfig]="slideConfig"\n                            [descriptionConfig]="description"\n                            [keyboardConfig]="keyboardConfig"\n                            [loadingConfig]="loadingConfig"\n                            [accessibilityConfig]="accessibilityConfig"\n                            [currentImageConfig]="currentImageConfig"\n                            (loadImage)="onImageLoad($event)"\n                            (changeImage)="onChangeCurrentImage($event)"\n                            (close)="onCloseGallery($event)"></ks-current-image>\n\n          <div>\n            <ks-dots [images]="images"\n                     [currentImage]="currentImage"\n                     [dotsConfig]="dotsConfig"\n                     [accessibilityConfig]="accessibilityConfig"\n                     (clickDot)="onClickDot($event)"></ks-dots>\n\n            <ks-previews [images]="images"\n                         [currentImage]="currentImage"\n                         [previewConfig]="previewConfig"\n                         [accessibilityConfig]="accessibilityConfig"\n                         (clickPreview)="onClickPreview($event)"></ks-previews>\n          </div>\n        </div>\n      </div>\n    </div>\n  ',changeDetection:o.ChangeDetectionStrategy.OnPush}]}],P.ctorParameters=function(){return[{type:f},{type:b},{type:Object,decorators:[{type:o.Inject,args:[o.PLATFORM_ID]}]},{type:o.ChangeDetectorRef}]},P.propDecorators={id:[{type:o.Input}],modalImages:[{type:o.Input}],buttonsConfig:[{type:o.Input}],enableCloseOutside:[{type:o.Input}],currentImageConfig:[{type:o.Input}],downloadable:[{type:o.Input}],loadingConfig:[{type:o.Input}],description:[{type:o.Input}],dotsConfig:[{type:o.Input}],previewConfig:[{type:o.Input}],slideConfig:[{type:o.Input}],accessibilityConfig:[{type:o.Input}],keyboardConfig:[{type:o.Input}],plainGalleryConfig:[{type:o.Input}],close:[{type:o.Output}],show:[{type:o.Output}],firstImage:[{type:o.Output}],lastImage:[{type:o.Output}],hasData:[{type:o.Output}],buttonBeforeHook:[{type:o.Output}],buttonAfterHook:[{type:o.Output}],currentImageComponent:[{type:o.ViewChild,args:[k]}]};var T={DEFAULT:1,SIMPLE:2,ADVANCED:3,FULL:4,CUSTOM:5};T[T.DEFAULT]="DEFAULT",T[T.SIMPLE]="SIMPLE",T[T.ADVANCED]="ADVANCED",T[T.FULL]="FULL",T[T.CUSTOM]="CUSTOM";var E={DELETE:1,EXTURL:2,DOWNLOAD:3,CLOSE:4,CUSTOM:5};E[E.DELETE]="DELETE",E[E.EXTURL]="EXTURL",E[E.DOWNLOAD]="DOWNLOAD",E[E.CLOSE]="CLOSE",E[E.CUSTOM]="CUSTOM";var O=[E.DELETE,E.EXTURL,E.DOWNLOAD,E.CLOSE,E.CUSTOM],A={height:"auto",width:"30px"},G={className:"close-image",size:A,type:E.CLOSE,title:"Close this modal image gallery",ariaLabel:"Close this modal image gallery"},Z={className:"download-image",size:A,type:E.DOWNLOAD,title:"Download the current image",ariaLabel:"Download the current image"},B={className:"ext-url-image",size:A,type:E.EXTURL,title:"Navigate the current image",ariaLabel:"Navigate the current image"},Y={className:"delete-image",size:A,type:E.DELETE,title:"Delete the current image",ariaLabel:"Delete the current image"},U=function(i){function e(){var e=i.apply(this,arguments)||this;return e.refresh=new o.EventEmitter,e["delete"]=new o.EventEmitter,e.navigate=new o.EventEmitter,e.download=new o.EventEmitter,e.close=new o.EventEmitter,e.customEmit=new o.EventEmitter,e.defaultButtonsDefault=[G],e.simpleButtonsDefault=[Z].concat(e.defaultButtonsDefault),e.advancedButtonsDefault=[B].concat(e.simpleButtonsDefault),e.fullButtonsDefault=[Y].concat(e.advancedButtonsDefault),e}return t(e,i),e.prototype.ngOnInit=function(){var e={visible:!0,strategy:T.DEFAULT};switch(this.configButtons=Object.assign(e,this.buttonsConfig),this.configButtons.strategy){case T.SIMPLE:this.buttons=this.addButtonIds(this.simpleButtonsDefault);break;case T.ADVANCED:this.buttons=this.addButtonIds(this.advancedButtonsDefault);break;case T.FULL:this.buttons=this.addButtonIds(this.fullButtonsDefault);break;case T.CUSTOM:this.buttons=this.addButtonIds(this.validateCustomButtons(this.configButtons.buttons));break;case T.DEFAULT:default:this.buttons=this.addButtonIds(this.defaultButtonsDefault)}},e.prototype.onEvent=function(e,t,n){if(void 0===n&&(n=h.CLICK),t){var i={button:e,image:null,action:n};switch(e.type){case E.DELETE:this.triggerOnMouseAndKeyboard(this["delete"],t,i);break;case E.EXTURL:if(!this.currentImage||!this.currentImage.modal||!this.currentImage.modal.extUrl)return;this.triggerOnMouseAndKeyboard(this.navigate,t,i);break;case E.DOWNLOAD:this.triggerOnMouseAndKeyboard(this.download,t,i);break;case E.CLOSE:this.triggerOnMouseAndKeyboard(this.close,t,i);break;case E.CUSTOM:this.triggerOnMouseAndKeyboard(this.customEmit,t,i);break;default:throw new Error("Unknown button's type into ButtonConfig")}}},e.prototype.trackById=function(e,t){return t?t.id:undefined},e.prototype.triggerOnMouseAndKeyboard=function(e,t,n){if(!e)throw new Error("UpperButtonsComponent unknown emitter in triggerOnMouseAndKeyboard");1===i.prototype.handleImageEvent.call(this,t)&&e.emit(n)},e.prototype.addButtonIds=function(n){return n.map(function(e,t){return Object.assign(e,{id:n.length-1-t})})},e.prototype.validateCustomButtons=function(e){return void 0===e&&(e=[]),e.forEach(function(t){if(-1===O.findIndex(function(e){return e===t.type}))throw new Error("Unknown ButtonType. For custom types use ButtonType.CUSTOM")}),e},e}(M);U.decorators=[{type:o.Component,args:[{selector:"ks-upper-buttons",styles:['\n    .buttons-container {\n      display: -webkit-box;\n      display: flex;\n      -webkit-box-orient: horizontal;\n      -webkit-box-direction: normal;\n              flex-direction: row;\n      -webkit-box-pack: end;\n              justify-content: flex-end; }\n      .buttons-container > .upper-button {\n        align-self: center;\n        margin-right: 30px;\n        margin-top: 28px;\n        font-size: 50px;\n        text-decoration: none;\n        cursor: pointer;\n        -webkit-animation: animatezoom 0.6s;\n                animation: animatezoom 0.6s;\n        color: white; }\n\n    @-webkit-keyframes animatezoom {\n      from {\n        -webkit-transform: scale(0);\n                transform: scale(0); }\n      to {\n        -webkit-transform: scale(1);\n                transform: scale(1); } }\n\n    @keyframes animatezoom {\n      from {\n        -webkit-transform: scale(0);\n                transform: scale(0); }\n      to {\n        -webkit-transform: scale(1);\n                transform: scale(1); } }\n\n    .base-btn, .delete-image, .ext-url-image, .download-image, .close-image, .refresh-image, .copy {\n      width: 30px;\n      height: 30px;\n      background-size: 30px;\n      opacity: 0.8;\n      -webkit-transition: all 0.5s;\n      transition: all 0.5s; }\n      .base-btn:hover, .delete-image:hover, .ext-url-image:hover, .download-image:hover, .close-image:hover, .refresh-image:hover, .copy:hover {\n        -webkit-transform: scale(1.2);\n                transform: scale(1.2); }\n\n    .delete-image {\n      background-image: url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ4Ni40IDQ4Ni40IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0ODYuNCA0ODYuNDsiIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSI1MTJweCIgaGVpZ2h0PSI1MTJweCI+PGc+PGc+PHBhdGggZD0iTTQ0Niw3MEgzNDQuOFY1My41YzAtMjkuNS0yNC01My41LTUzLjUtNTMuNWgtOTYuMmMtMjkuNSwwLTUzLjUsMjQtNTMuNSw1My41VjcwSDQwLjRjLTcuNSwwLTEzLjUsNi0xMy41LDEzLjUgICAgUzMyLjksOTcsNDAuNCw5N2gyNC40djMxNy4yYzAsMzkuOCwzMi40LDcyLjIsNzIuMiw3Mi4yaDIxMi40YzM5LjgsMCw3Mi4yLTMyLjQsNzIuMi03Mi4yVjk3SDQ0NmM3LjUsMCwxMy41LTYsMTMuNS0xMy41ICAgIFM0NTMuNSw3MCw0NDYsNzB6IE0xNjguNiw1My41YzAtMTQuNiwxMS45LTI2LjUsMjYuNS0yNi41aDk2LjJjMTQuNiwwLDI2LjUsMTEuOSwyNi41LDI2LjVWNzBIMTY4LjZWNTMuNXogTTM5NC42LDQxNC4yICAgIGMwLDI0LjktMjAuMyw0NS4yLTQ1LjIsNDUuMkgxMzdjLTI0LjksMC00NS4yLTIwLjMtNDUuMi00NS4yVjk3aDMwMi45djMxNy4ySDM5NC42eiIgZmlsbD0iI0ZGRkZGRiIvPjxwYXRoIGQ9Ik0yNDMuMiw0MTFjNy41LDAsMTMuNS02LDEzLjUtMTMuNVYxNTguOWMwLTcuNS02LTEzLjUtMTMuNS0xMy41cy0xMy41LDYtMTMuNSwxMy41djIzOC41ICAgIEMyMjkuNyw0MDQuOSwyMzUuNyw0MTEsMjQzLjIsNDExeiIgZmlsbD0iI0ZGRkZGRiIvPjxwYXRoIGQ9Ik0xNTUuMSwzOTYuMWM3LjUsMCwxMy41LTYsMTMuNS0xMy41VjE3My43YzAtNy41LTYtMTMuNS0xMy41LTEzLjVzLTEzLjUsNi0xMy41LDEzLjV2MjA4LjkgICAgQzE0MS42LDM5MC4xLDE0Ny43LDM5Ni4xLDE1NS4xLDM5Ni4xeiIgZmlsbD0iI0ZGRkZGRiIvPjxwYXRoIGQ9Ik0zMzEuMywzOTYuMWM3LjUsMCwxMy41LTYsMTMuNS0xMy41VjE3My43YzAtNy41LTYtMTMuNS0xMy41LTEzLjVzLTEzLjUsNi0xMy41LDEzLjV2MjA4LjkgICAgQzMxNy44LDM5MC4xLDMyMy44LDM5Ni4xLDMzMS4zLDM5Ni4xeiIgZmlsbD0iI0ZGRkZGRiIvPjwvZz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PC9zdmc+"); }\n\n    .ext-url-image {\n      background-image: url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDUxMiA1MTI7IiB4bWw6c3BhY2U9InByZXNlcnZlIiB3aWR0aD0iNTEycHgiIGhlaWdodD0iNTEycHgiPjxnPjxnPjxnPjxwYXRoIGQ9Ik00ODAsMjg4djExMmMwLDQ0LjE4My0zNS44MTcsODAtODAsODBIMTEyYy00NC4xODMsMC04MC0zNS44MTctODAtODBWMTEyYzAtNDQuMTgzLDM1LjgxNy04MCw4MC04MGg5NlYwaC05NiAgICAgQzUwLjE0NCwwLDAsNTAuMTQ0LDAsMTEydjI4OGMwLDYxLjg1Niw1MC4xNDQsMTEyLDExMiwxMTJoMjg4YzYxLjg1NiwwLDExMi01MC4xNDQsMTEyLTExMlYyODhINDgweiIgZmlsbD0iI0ZGRkZGRiIvPjxwYXRoIGQ9Ik0xNzYsNDE2aDMyVjI4OGMwLTEyNS43NiwxMDcuNTItMTI4LDExMi0xMjhoMTA1LjQ0bC04NC42NCw4NC42NGwyMi41NiwyMi41NmwxMTItMTEyYzYuMjA0LTYuMjQxLDYuMjA0LTE2LjMxOSwwLTIyLjU2ICAgICBsLTExMi0xMTJsLTIyLjcyLDIyLjcybDg0LjgsODQuNjRIMzIwYy0xLjQ0LDAtMTQ0LDEuNzYtMTQ0LDE2MFY0MTZ6IiBmaWxsPSIjRkZGRkZGIi8+PC9nPjwvZz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PC9zdmc+"); }\n\n    .download-image {\n      background-image: url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ3MS4yIDQ3MS4yIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NzEuMiA0NzEuMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSI1MTJweCIgaGVpZ2h0PSI1MTJweCI+PGc+PGc+PHBhdGggZD0iTTQ1Ny43LDIzMC4xNWMtNy41LDAtMTMuNSw2LTEzLjUsMTMuNXYxMjIuOGMwLDMzLjQtMjcuMiw2MC41LTYwLjUsNjAuNUg4Ny41Yy0zMy40LDAtNjAuNS0yNy4yLTYwLjUtNjAuNXYtMTI0LjggICAgYzAtNy41LTYtMTMuNS0xMy41LTEzLjVzLTEzLjUsNi0xMy41LDEzLjV2MTI0LjhjMCw0OC4zLDM5LjMsODcuNSw4Ny41LDg3LjVoMjk2LjJjNDguMywwLDg3LjUtMzkuMyw4Ny41LTg3LjV2LTEyMi44ICAgIEM0NzEuMiwyMzYuMjUsNDY1LjIsMjMwLjE1LDQ1Ny43LDIzMC4xNXoiIGZpbGw9IiNGRkZGRkYiLz48cGF0aCBkPSJNMjI2LjEsMzQ2Ljc1YzIuNiwyLjYsNi4xLDQsOS41LDRzNi45LTEuMyw5LjUtNGw4NS44LTg1LjhjNS4zLTUuMyw1LjMtMTMuOCwwLTE5LjFjLTUuMy01LjMtMTMuOC01LjMtMTkuMSwwbC02Mi43LDYyLjggICAgVjMwLjc1YzAtNy41LTYtMTMuNS0xMy41LTEzLjVzLTEzLjUsNi0xMy41LDEzLjV2MjczLjlsLTYyLjgtNjIuOGMtNS4zLTUuMy0xMy44LTUuMy0xOS4xLDBjLTUuMyw1LjMtNS4zLDEzLjgsMCwxOS4xICAgIEwyMjYuMSwzNDYuNzV6IiBmaWxsPSIjRkZGRkZGIi8+PC9nPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48L3N2Zz4="); }\n\n    .close-image {\n      background-image: url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ3NS4yIDQ3NS4yIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NzUuMiA0NzUuMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSI1MTJweCIgaGVpZ2h0PSI1MTJweCI+PGc+PGc+PHBhdGggZD0iTTQwNS42LDY5LjZDMzYwLjcsMjQuNywzMDEuMSwwLDIzNy42LDBzLTEyMy4xLDI0LjctMTY4LDY5LjZTMCwxNzQuMSwwLDIzNy42czI0LjcsMTIzLjEsNjkuNiwxNjhzMTA0LjUsNjkuNiwxNjgsNjkuNiAgICBzMTIzLjEtMjQuNywxNjgtNjkuNnM2OS42LTEwNC41LDY5LjYtMTY4UzQ1MC41LDExNC41LDQwNS42LDY5LjZ6IE0zODYuNSwzODYuNWMtMzkuOCwzOS44LTkyLjcsNjEuNy0xNDguOSw2MS43ICAgIHMtMTA5LjEtMjEuOS0xNDguOS02MS43Yy04Mi4xLTgyLjEtODIuMS0yMTUuNywwLTI5Ny44QzEyOC41LDQ4LjksMTgxLjQsMjcsMjM3LjYsMjdzMTA5LjEsMjEuOSwxNDguOSw2MS43ICAgIEM0NjguNiwxNzAuOCw0NjguNiwzMDQuNCwzODYuNSwzODYuNXoiIGZpbGw9IiNGRkZGRkYiLz48cGF0aCBkPSJNMzQyLjMsMTMyLjljLTUuMy01LjMtMTMuOC01LjMtMTkuMSwwbC04NS42LDg1LjZMMTUyLDEzMi45Yy01LjMtNS4zLTEzLjgtNS4zLTE5LjEsMGMtNS4zLDUuMy01LjMsMTMuOCwwLDE5LjEgICAgbDg1LjYsODUuNmwtODUuNiw4NS42Yy01LjMsNS4zLTUuMywxMy44LDAsMTkuMWMyLjYsMi42LDYuMSw0LDkuNSw0czYuOS0xLjMsOS41LTRsODUuNi04NS42bDg1LjYsODUuNmMyLjYsMi42LDYuMSw0LDkuNSw0ICAgIGMzLjUsMCw2LjktMS4zLDkuNS00YzUuMy01LjMsNS4zLTEzLjgsMC0xOS4xbC04NS40LTg1LjZsODUuNi04NS42QzM0Ny42LDE0Ni43LDM0Ny42LDEzOC4yLDM0Mi4zLDEzMi45eiIgZmlsbD0iI0ZGRkZGRiIvPjwvZz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PC9zdmc+"); }\n\n    .refresh-image {\n      background-image: url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ4OS43MTEgNDg5LjcxMSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDg5LjcxMSA0ODkuNzExOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjUxMnB4IiBoZWlnaHQ9IjUxMnB4Ij48Zz48Zz48cGF0aCBkPSJNMTEyLjE1Niw5Ny4xMTFjNzIuMy02NS40LDE4MC41LTY2LjQsMjUzLjgtNi43bC01OC4xLDIuMmMtNy41LDAuMy0xMy4zLDYuNS0xMywxNGMwLjMsNy4zLDYuMywxMywxMy41LDEzICAgIGMwLjIsMCwwLjMsMCwwLjUsMGw4OS4yLTMuM2M3LjMtMC4zLDEzLTYuMiwxMy0xMy41di0xYzAtMC4yLDAtMC4zLDAtMC41di0wLjFsMCwwbC0zLjMtODguMmMtMC4zLTcuNS02LjYtMTMuMy0xNC0xMyAgICBjLTcuNSwwLjMtMTMuMyw2LjUtMTMsMTRsMi4xLDU1LjNjLTM2LjMtMjkuNy04MS00Ni45LTEyOC44LTQ5LjNjLTU5LjItMy0xMTYuMSwxNy4zLTE2MCw1Ny4xYy02MC40LDU0LjctODYsMTM3LjktNjYuOCwyMTcuMSAgICBjMS41LDYuMiw3LDEwLjMsMTMuMSwxMC4zYzEuMSwwLDIuMS0wLjEsMy4yLTAuNGM3LjItMS44LDExLjctOS4xLDkuOS0xNi4zQzM2LjY1NiwyMTguMjExLDU5LjA1NiwxNDUuMTExLDExMi4xNTYsOTcuMTExeiIgZmlsbD0iI0ZGRkZGRiIvPjxwYXRoIGQ9Ik00NjIuNDU2LDE5NS41MTFjLTEuOC03LjItOS4xLTExLjctMTYuMy05LjljLTcuMiwxLjgtMTEuNyw5LjEtOS45LDE2LjNjMTYuOSw2OS42LTUuNiwxNDIuNy01OC43LDE5MC43ICAgIGMtMzcuMywzMy43LTg0LjEsNTAuMy0xMzAuNyw1MC4zYy00NC41LDAtODguOS0xNS4xLTEyNC43LTQ0LjlsNTguOC01LjNjNy40LTAuNywxMi45LTcuMiwxMi4yLTE0LjdzLTcuMi0xMi45LTE0LjctMTIuMmwtODguOSw4ICAgIGMtNy40LDAuNy0xMi45LDcuMi0xMi4yLDE0LjdsOCw4OC45YzAuNiw3LDYuNSwxMi4zLDEzLjQsMTIuM2MwLjQsMCwwLjgsMCwxLjItMC4xYzcuNC0wLjcsMTIuOS03LjIsMTIuMi0xNC43bC00LjgtNTQuMSAgICBjMzYuMywyOS40LDgwLjgsNDYuNSwxMjguMyw0OC45YzMuOCwwLjIsNy42LDAuMywxMS4zLDAuM2M1NS4xLDAsMTA3LjUtMjAuMiwxNDguNy01Ny40ICAgIEM0NTYuMDU2LDM1Ny45MTEsNDgxLjY1NiwyNzQuODExLDQ2Mi40NTYsMTk1LjUxMXoiIGZpbGw9IiNGRkZGRkYiLz48L2c+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjwvc3ZnPg=="); }\n\n    .copy {\n      background-image: url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ4OC4zIDQ4OC4zIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0ODguMyA0ODguMzsiIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSI1MTJweCIgaGVpZ2h0PSI1MTJweCI+PGc+PGc+PHBhdGggZD0iTTMxNC4yNSw4NS40aC0yMjdjLTIxLjMsMC0zOC42LDE3LjMtMzguNiwzOC42djMyNS43YzAsMjEuMywxNy4zLDM4LjYsMzguNiwzOC42aDIyN2MyMS4zLDAsMzguNi0xNy4zLDM4LjYtMzguNlYxMjQgICAgQzM1Mi43NSwxMDIuNywzMzUuNDUsODUuNCwzMTQuMjUsODUuNHogTTMyNS43NSw0NDkuNmMwLDYuNC01LjIsMTEuNi0xMS42LDExLjZoLTIyN2MtNi40LDAtMTEuNi01LjItMTEuNi0xMS42VjEyNCAgICBjMC02LjQsNS4yLTExLjYsMTEuNi0xMS42aDIyN2M2LjQsMCwxMS42LDUuMiwxMS42LDExLjZWNDQ5LjZ6IiBmaWxsPSIjRkZGRkZGIi8+PHBhdGggZD0iTTQwMS4wNSwwaC0yMjdjLTIxLjMsMC0zOC42LDE3LjMtMzguNiwzOC42YzAsNy41LDYsMTMuNSwxMy41LDEzLjVzMTMuNS02LDEzLjUtMTMuNWMwLTYuNCw1LjItMTEuNiwxMS42LTExLjZoMjI3ICAgIGM2LjQsMCwxMS42LDUuMiwxMS42LDExLjZ2MzI1LjdjMCw2LjQtNS4yLDExLjYtMTEuNiwxMS42Yy03LjUsMC0xMy41LDYtMTMuNSwxMy41czYsMTMuNSwxMy41LDEzLjVjMjEuMywwLDM4LjYtMTcuMywzOC42LTM4LjYgICAgVjM4LjZDNDM5LjY1LDE3LjMsNDIyLjM1LDAsNDAxLjA1LDB6IiBmaWxsPSIjRkZGRkZGIi8+PC9nPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48L3N2Zz4="); }\n  '],template:'\n    <header class="buttons-container">\n\n      <ng-container *ngIf="!configButtons || configButtons?.visible">\n        <a *ngFor="let btn of buttons; trackBy: trackById; let index = index"\n           class="upper-button"\n           ksSize [sizeConfig]="{width: btn.size?.width, height: btn.size?.height}"\n           [ngStyle]="{\'font-size\': btn.fontSize}"\n           [attr.aria-label]="btn.ariaLabel"\n           [tabindex]="0" role="button"\n           (click)="onEvent(btn, $event)" (keyup)="onEvent(btn, $event)">\n          <div class="inside {{btn.className}}" aria-hidden="true" title="{{btn.title}}"></div>\n        </a>\n      </ng-container>\n    </header>\n  ',changeDetection:o.ChangeDetectionStrategy.OnPush}]}],U.ctorParameters=function(){return[]},U.propDecorators={currentImage:[{type:o.Input}],buttonsConfig:[{type:o.Input}],refresh:[{type:o.Output}],"delete":[{type:o.Output}],navigate:[{type:o.Output}],download:[{type:o.Output}],close:[{type:o.Output}],customEmit:[{type:o.Output}]};var R=function(n){function e(){var e=n.apply(this,arguments)||this;return e.dotsConfig={visible:!0},e.clickDot=new o.EventEmitter,e}return t(e,n),e.prototype.ngOnInit=function(){this.configDots=Object.assign({visible:!0},this.dotsConfig)},e.prototype.isActive=function(e){if(!this.currentImage||!this.images||0===this.images.length)return!1;var t;try{t=C(this.currentImage,this.images)}catch(n){return console.error("Internal error while trying to show the active 'dot'",n),!1}return e===t},e.prototype.onDotEvent=function(e,t){1===n.prototype.handleImageEvent.call(this,t)&&this.clickDot.emit(e)},e.prototype.trackById=function(e,t){return t.id},e}(M);R.decorators=[{type:o.Component,args:[{selector:"ks-dots",styles:["\n    .dots-container {\n      display: -webkit-box;\n      display: flex;\n      -webkit-box-orient: horizontal;\n      -webkit-box-direction: normal;\n              flex-direction: row;\n      -webkit-box-pack: center;\n              justify-content: center;\n      margin-bottom: 30px; }\n      .dots-container > .dot {\n        background: #fff;\n        border-radius: 5px;\n        height: 10px;\n        margin-left: 4px;\n        margin-right: 4px;\n        width: 10px;\n        cursor: pointer;\n        opacity: 0.5; }\n        .dots-container > .dot:hover {\n          opacity: 0.9;\n          -webkit-transition: all .5s ease;\n          transition: all .5s ease;\n          -webkit-transition-property: opacity;\n          transition-property: opacity; }\n        .dots-container > .dot.active {\n          cursor: pointer;\n          opacity: 0.9; }\n\n    @-webkit-keyframes fadein-semi-visible05 {\n      from {\n        opacity: 0; }\n      to {\n        opacity: 0.5; } }\n\n    @keyframes fadein-semi-visible05 {\n      from {\n        opacity: 0; }\n      to {\n        opacity: 0.5; } }\n\n    @-webkit-keyframes fadein-semi-visible09 {\n      from {\n        opacity: 0; }\n      to {\n        opacity: 0.9; } }\n\n    @keyframes fadein-semi-visible09 {\n      from {\n        opacity: 0; }\n      to {\n        opacity: 0.9; } }\n  "],template:'\n    <nav class="dots-container" [attr.aria-label]="accessibilityConfig?.dotsContainerAriaLabel"\n         [title]="accessibilityConfig?.dotsContainerTitle">\n      <ng-container *ngIf="!configDots || configDots?.visible">\n        <div class="inside dot"\n             *ngFor="let img of images; trackBy: trackById; let index = index"\n             [ngClass]="{\'active\': isActive(index)}"\n             [attr.aria-label]="accessibilityConfig?.dotAriaLabel + \' \' + (index + 1)"\n             [tabindex]="0" role="navigation"\n             (click)="onDotEvent(index, $event)" (keyup)="onDotEvent(index, $event)"></div>\n      </ng-container>\n    </nav>\n  ',changeDetection:o.ChangeDetectionStrategy.OnPush}]}],R.ctorParameters=function(){return[]},R.propDecorators={currentImage:[{type:o.Input}],images:[{type:o.Input}],dotsConfig:[{type:o.Input}],accessibilityConfig:[{type:o.Input}],clickDot:[{type:o.Output}]};var W=function(i){function e(){var e=i.apply(this,arguments)||this;return e.clickPreview=new o.EventEmitter,e.previews=[],e.defaultPreviewSize={height:"50px",width:"auto"},e.defaultPreviewConfig={visible:!0,number:3,arrows:!0,clickable:!0,size:e.defaultPreviewSize},e}return t(e,i),e.prototype.ngOnInit=function(){this.configPreview=Object.assign({},this.defaultPreviewConfig,this.previewConfig),this.configPreview.number<=0&&(this.configPreview.number=this.defaultPreviewConfig.number),this.initPreviews(this.currentImage,this.images)},e.prototype.isActive=function(e){return!(!e||!this.currentImage)&&e.id===this.currentImage.id},e.prototype.ngOnChanges=function(e){var n=this,t=e.currentImage;if(t){var i=t.previousValue,a=t.currentValue;if(a&&e.images&&e.images.previousValue&&e.images.currentValue&&this.initPreviews(a,e.images.currentValue),i&&a&&i.id!==a.id){var o=void 0,r=void 0;try{o=C(i,this.images),r=C(a,this.images)}catch(s){throw console.error("Cannot get previous and current image indexes in previews"),s}if(o===this.images.length-1&&0===r)return this.setBeginningIndexesPreviews(),void(this.previews=this.images.filter(function(e,t){return t>=n.start&&t<n.end}));if(0===o&&r===this.images.length-1)return this.setEndIndexesPreviews(),void(this.previews=this.images.filter(function(e,t){return t>=n.start&&t<n.end}));r<o?this.previous():o<r&&this.next()}}},e.prototype.onImageEvent=function(e,t){if(this.configPreview&&this.configPreview.clickable){var n=i.prototype.handleImageEvent.call(this,t);1===n?this.clickPreview.emit(e):-1===n&&this.clickPreview.emit(e)}},e.prototype.onNavigationEvent=function(e,t){var n=i.prototype.handleNavigationEvent.call(this,e,t);1===n?this.next():-1===n&&this.previous()},e.prototype.trackById=function(e,t){return t.id},e.prototype.initPreviews=function(e,t){var n,i=this;try{n=C(e,t)}catch(a){throw a}switch(n){case 0:this.setBeginningIndexesPreviews();break;case t.length-1:this.setEndIndexesPreviews();break;default:this.setIndexesPreviews()}this.previews=t.filter(function(e,t){return t>=i.start&&t<i.end})},e.prototype.setBeginningIndexesPreviews=function(){this.start=0,this.end=Math.min(this.configPreview.number,this.images.length)},e.prototype.setEndIndexesPreviews=function(){this.start=this.images.length-1-(this.configPreview.number-1),this.end=this.images.length},e.prototype.setIndexesPreviews=function(){this.start=C(this.currentImage,this.images)-Math.floor(this.configPreview.number/2),this.end=C(this.currentImage,this.images)+Math.floor(this.configPreview.number/2)+1},e.prototype.next=function(){var n=this;this.isPreventSliding(this.images.length-1)||this.end!==this.images.length&&(this.start++,this.end=Math.min(this.end+1,this.images.length),this.previews=this.images.filter(function(e,t){return t>=n.start&&t<n.end}))},e.prototype.previous=function(){var n=this;this.isPreventSliding(0)||0!==this.start&&(this.start=Math.max(this.start-1,0),this.end=Math.min(this.end-1,this.images.length),this.previews=this.images.filter(function(e,t){return t>=n.start&&t<n.end}))},e.prototype.isPreventSliding=function(e){return!!this.slideConfig&&!1===this.slideConfig.infinite&&C(this.currentImage,this.previews)===e},e}(M);W.decorators=[{type:o.Component,args:[{selector:"ks-previews",styles:['\n    @media only screen and (max-width: 767px), only screen and (max-device-width: 767px) {\n      .previews-container {\n        display: none; }\n        .previews-container > .preview-image {\n          display: none; }\n        .previews-container > .nav-left {\n          display: none; }\n        .previews-container > .nav-right {\n          display: none; } }\n\n    @media only screen and (min-device-width: 768px) {\n      .previews-container {\n        -webkit-box-align: center;\n                align-items: center;\n        -webkit-animation: fadein-semi-visible08 0.8s;\n                animation: fadein-semi-visible08 0.8s;\n        display: -webkit-box;\n        display: flex;\n        -webkit-box-orient: horizontal;\n        -webkit-box-direction: normal;\n                flex-direction: row;\n        -webkit-box-pack: center;\n                justify-content: center;\n        margin-bottom: 15px; }\n        .previews-container > .preview-image {\n          cursor: pointer;\n          margin-left: 2px;\n          margin-right: 2px;\n          opacity: 0.7;\n          height: 50px; }\n          .previews-container > .preview-image.active {\n            opacity: 1; }\n          .previews-container > .preview-image.unclickable {\n            cursor: not-allowed; }\n          .previews-container > .preview-image:hover {\n            opacity: 1;\n            -webkit-transition: all .5s ease;\n            transition: all .5s ease;\n            -webkit-transition-property: opacity;\n            transition-property: opacity; }\n        .previews-container .nav, .previews-container > .nav-left, .previews-container > .nav-right {\n          color: #919191;\n          cursor: pointer;\n          -webkit-transition: all 0.5s;\n          transition: all 0.5s; }\n          .previews-container .nav:hover, .previews-container > .nav-left:hover, .previews-container > .nav-right:hover {\n            -webkit-transform: scale(1.1);\n                    transform: scale(1.1); }\n        .previews-container > .nav-left {\n          margin-right: 10px; }\n        .previews-container > .nav-right {\n          margin-left: 10px; } }\n\n    @-webkit-keyframes fadein-visible {\n      from {\n        opacity: 0; }\n      to {\n        opacity: 1; } }\n\n    @keyframes fadein-visible {\n      from {\n        opacity: 0; }\n      to {\n        opacity: 1; } }\n\n    @-webkit-keyframes fadein-semi-visible05 {\n      from {\n        opacity: 0; }\n      to {\n        opacity: 0.5; } }\n\n    @keyframes fadein-semi-visible05 {\n      from {\n        opacity: 0; }\n      to {\n        opacity: 0.5; } }\n\n    @-webkit-keyframes fadein-semi-visible08 {\n      from {\n        opacity: 0; }\n      to {\n        opacity: 0.8; } }\n\n    @keyframes fadein-semi-visible08 {\n      from {\n        opacity: 0; }\n      to {\n        opacity: 0.8; } }\n\n    @-webkit-keyframes fadein-semi-visible09 {\n      from {\n        opacity: 0; }\n      to {\n        opacity: 0.9; } }\n\n    @keyframes fadein-semi-visible09 {\n      from {\n        opacity: 0; }\n      to {\n        opacity: 0.9; } }\n    .arrow-preview-image, .empty-arrow-preview-image, .left-arrow-preview-image, .right-arrow-preview-image {\n      width: 15px;\n      height: 15px;\n      opacity: 0.5; }\n\n    .empty-arrow-preview-image {\n      background: black;\n      opacity: 0; }\n\n    .left-arrow-preview-image {\n      background-image: url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ3Ny4xNzUgNDc3LjE3NSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDc3LjE3NSA0NzcuMTc1OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjUxMnB4IiBoZWlnaHQ9IjUxMnB4Ij48Zz48cGF0aCBkPSJNMTQ1LjE4OCwyMzguNTc1bDIxNS41LTIxNS41YzUuMy01LjMsNS4zLTEzLjgsMC0xOS4xcy0xMy44LTUuMy0xOS4xLDBsLTIyNS4xLDIyNS4xYy01LjMsNS4zLTUuMywxMy44LDAsMTkuMWwyMjUuMSwyMjUgICBjMi42LDIuNiw2LjEsNCw5LjUsNHM2LjktMS4zLDkuNS00YzUuMy01LjMsNS4zLTEzLjgsMC0xOS4xTDE0NS4xODgsMjM4LjU3NXoiIGZpbGw9IiNGRkZGRkYiLz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PC9zdmc+");\n      background-size: 15px;\n      -webkit-transition: all 0.5s;\n      transition: all 0.5s; }\n      .left-arrow-preview-image:hover {\n        -webkit-transform: scale(1.2);\n                transform: scale(1.2); }\n\n    .right-arrow-preview-image {\n      background-image: url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ3Ny4xNzUgNDc3LjE3NSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDc3LjE3NSA0NzcuMTc1OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjUxMnB4IiBoZWlnaHQ9IjUxMnB4Ij48Zz48cGF0aCBkPSJNMzYwLjczMSwyMjkuMDc1bC0yMjUuMS0yMjUuMWMtNS4zLTUuMy0xMy44LTUuMy0xOS4xLDBzLTUuMywxMy44LDAsMTkuMWwyMTUuNSwyMTUuNWwtMjE1LjUsMjE1LjUgICBjLTUuMyw1LjMtNS4zLDEzLjgsMCwxOS4xYzIuNiwyLjYsNi4xLDQsOS41LDRjMy40LDAsNi45LTEuMyw5LjUtNGwyMjUuMS0yMjUuMUMzNjUuOTMxLDI0Mi44NzUsMzY1LjkzMSwyMzQuMjc1LDM2MC43MzEsMjI5LjA3NXogICAiIGZpbGw9IiNGRkZGRkYiLz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PC9zdmc+");\n      background-size: 15px;\n      -webkit-transition: all 0.5s;\n      transition: all 0.5s; }\n      .right-arrow-preview-image:hover {\n        -webkit-transform: scale(1.2);\n                transform: scale(1.2); }\n  '],template:'\n    <nav class="previews-container"\n         [attr.aria-label]="accessibilityConfig?.previewsContainerAriaLabel"\n         [title]="accessibilityConfig?.previewsContainerTitle">\n\n      <ng-container *ngIf="configPreview?.visible">\n        <a class="nav-left"\n           [attr.aria-label]="accessibilityConfig?.previewScrollPrevAriaLabel"\n           [tabindex]="configPreview.arrows && start > 0 ? 0 : -1" role="button"\n           (click)="onNavigationEvent(\'left\', $event)" (keyup)="onNavigationEvent(\'left\', $event)">\n          <div class="inside {{configPreview.arrows && start > 0 ? \'left-arrow-preview-image\' : \'empty-arrow-preview-image\'}}"\n               aria-hidden="true"\n               [title]="accessibilityConfig?.previewScrollPrevTitle"></div>\n        </a>\n\n        <ng-container *ngFor="let preview of previews; trackBy: trackById; let index = index">\n          <img *ngIf="preview?.modal?.img"\n               class="inside preview-image {{isActive(preview) ? \'active\' : \'\'}}{{!configPreview.clickable ? \' unclickable\' : \'\'}}"\n               [src]="preview.plain?.img ? preview.plain.img : preview.modal.img"\n               ksSize [sizeConfig]="{width: configPreview.size ? configPreview.size.width : defaultPreviewSize.width,\n                                     height: configPreview.size ? configPreview.size.height : defaultPreviewSize.height}"\n               [attr.aria-label]="preview.modal.ariaLabel ? preview.modal.ariaLabel : \'\'"\n               [title]="preview.modal.title ? preview.modal.title : \'\'"\n               alt="{{preview.modal.alt ? preview.modal.alt : \'\'}}"\n               [tabindex]="0" role="img"\n               (click)="onImageEvent(preview, $event)" (keyup)="onImageEvent(preview, $event)"/>\n        </ng-container>\n\n\n        <a class="nav-right"\n           [attr.aria-label]="accessibilityConfig?.previewScrollNextAriaLabel"\n           [tabindex]="configPreview.arrows && end < images.length ? 0 : -1" role="button"\n           (click)="onNavigationEvent(\'right\', $event)" (keyup)="onNavigationEvent(\'right\', $event)">\n          <div class="inside {{configPreview.arrows && end < images.length ? \'right-arrow-preview-image\' : \'empty-arrow-preview-image\'}}"\n               aria-hidden="true"\n               [title]="accessibilityConfig?.previewScrollNextTitle"></div>\n        </a>\n      </ng-container>\n\n    </nav>\n  ',changeDetection:o.ChangeDetectionStrategy.OnPush}]}],W.ctorParameters=function(){return[]},W.propDecorators={currentImage:[{type:o.Input}],images:[{type:o.Input}],slideConfig:[{type:o.Input}],previewConfig:[{type:o.Input}],accessibilityConfig:[{type:o.Input}],clickPreview:[{type:o.Output}]};var H=function(){this.loadingStandard=x.STANDARD,this.loadingBars=x.BARS,this.loadingCircular=x.CIRCULAR,this.loadingDots=x.DOTS,this.loadingCubeFlipping=x.CUBE_FLIPPING,this.loadingCircles=x.CIRCLES,this.loadingExplosingSquares=x.EXPLOSING_SQUARES};H.decorators=[{type:o.Component,args:[{selector:"ks-loading-spinner",styles:["\n    /* taken from https://codepen.io/martinvd/pen/xbQJom */\n\n    .cssload-loader {\n      position: absolute;\n      top: 0;\n      bottom: 0;\n      right: 0;\n      left: 0;\n      margin: auto;\n      width: 64px;\n      height: 64px;\n      border-radius: 50%;\n      -o-border-radius: 50%;\n      -ms-border-radius: 50%;\n      -webkit-border-radius: 50%;\n      -moz-border-radius: 50%;\n      -webkit-perspective: 800px;\n              perspective: 800px;\n    }\n\n    .cssload-inner {\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      box-sizing: border-box;\n      -o-box-sizing: border-box;\n      -ms-box-sizing: border-box;\n      -webkit-box-sizing: border-box;\n      -moz-box-sizing: border-box;\n      border-radius: 50%;\n      -o-border-radius: 50%;\n      -ms-border-radius: 50%;\n      -webkit-border-radius: 50%;\n      -moz-border-radius: 50%;\n    }\n\n    .cssload-inner.cssload-one {\n      left: 0%;\n      top: 0%;\n      animation: cssload-rotate-one 0.6s linear infinite;\n      -o-animation: cssload-rotate-one 0.6s linear infinite;\n      -ms-animation: cssload-rotate-one 0.6s linear infinite;\n      -webkit-animation: cssload-rotate-one 0.6s linear infinite;\n      -moz-animation: cssload-rotate-one 0.6s linear infinite;\n      border-bottom: 3px solid rgba(255, 255, 255, 0.99);\n    }\n\n    .cssload-inner.cssload-two {\n      right: 0%;\n      top: 0%;\n      animation: cssload-rotate-two 0.6s linear infinite;\n      -o-animation: cssload-rotate-two 0.6s linear infinite;\n      -ms-animation: cssload-rotate-two 0.6s linear infinite;\n      -webkit-animation: cssload-rotate-two 0.6s linear infinite;\n      -moz-animation: cssload-rotate-two 0.6s linear infinite;\n      border-right: 3px solid rgb(255, 255, 255);\n    }\n\n    .cssload-inner.cssload-three {\n      right: 0%;\n      bottom: 0%;\n      animation: cssload-rotate-three 0.6s linear infinite;\n      -o-animation: cssload-rotate-three 0.6s linear infinite;\n      -ms-animation: cssload-rotate-three 0.6s linear infinite;\n      -webkit-animation: cssload-rotate-three 0.6s linear infinite;\n      -moz-animation: cssload-rotate-three 0.6s linear infinite;\n      border-top: 3px solid rgb(255, 255, 255);\n    }\n\n    @keyframes cssload-rotate-one {\n      0% {\n        -webkit-transform: rotateX(35deg) rotateY(-45deg) rotateZ(0deg);\n                transform: rotateX(35deg) rotateY(-45deg) rotateZ(0deg);\n      }\n      100% {\n        -webkit-transform: rotateX(35deg) rotateY(-45deg) rotateZ(360deg);\n                transform: rotateX(35deg) rotateY(-45deg) rotateZ(360deg);\n      }\n    }\n\n    @-webkit-keyframes cssload-rotate-one {\n      0% {\n        -webkit-transform: rotateX(35deg) rotateY(-45deg) rotateZ(0deg);\n      }\n      100% {\n        -webkit-transform: rotateX(35deg) rotateY(-45deg) rotateZ(360deg);\n      }\n    }\n\n    @keyframes cssload-rotate-two {\n      0% {\n        -webkit-transform: rotateX(50deg) rotateY(10deg) rotateZ(0deg);\n                transform: rotateX(50deg) rotateY(10deg) rotateZ(0deg);\n      }\n      100% {\n        -webkit-transform: rotateX(50deg) rotateY(10deg) rotateZ(360deg);\n                transform: rotateX(50deg) rotateY(10deg) rotateZ(360deg);\n      }\n    }\n\n    @-webkit-keyframes cssload-rotate-two {\n      0% {\n        -webkit-transform: rotateX(50deg) rotateY(10deg) rotateZ(0deg);\n      }\n      100% {\n        -webkit-transform: rotateX(50deg) rotateY(10deg) rotateZ(360deg);\n      }\n    }\n\n    @keyframes cssload-rotate-three {\n      0% {\n        -webkit-transform: rotateX(35deg) rotateY(55deg) rotateZ(0deg);\n                transform: rotateX(35deg) rotateY(55deg) rotateZ(0deg);\n      }\n      100% {\n        -webkit-transform: rotateX(35deg) rotateY(55deg) rotateZ(360deg);\n                transform: rotateX(35deg) rotateY(55deg) rotateZ(360deg);\n      }\n    }\n\n    @-webkit-keyframes cssload-rotate-three {\n      0% {\n        -webkit-transform: rotateX(35deg) rotateY(55deg) rotateZ(0deg);\n      }\n      100% {\n        -webkit-transform: rotateX(35deg) rotateY(55deg) rotateZ(360deg);\n      }\n    }/* Taken from https://projects.lukehaas.me/css-loaders/ */\n\n    .loader-dots {\n      position: absolute;\n      top: 0;\n      bottom: 0;\n      right: 0;\n      left: 0;\n      color: #fefcff;\n      font-size: 10px;\n      margin: auto;\n      width: 1em;\n      height: 1em;\n      border-radius: 50%;\n      text-indent: -9999em;\n      -webkit-animation: load4 1.3s infinite linear;\n      animation: load4 1.3s infinite linear;\n      -webkit-transform: translateZ(0);\n      transform: translateZ(0);\n    }\n\n    @-webkit-keyframes load4 {\n      0%,\n      100% {\n        -webkit-box-shadow: 0 -3em 0 0.2em, 2em -2em 0 0em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 -1em, -3em 0 0 -1em, -2em -2em 0 0;\n                box-shadow: 0 -3em 0 0.2em, 2em -2em 0 0em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 -1em, -3em 0 0 -1em, -2em -2em 0 0;\n      }\n      12.5% {\n        -webkit-box-shadow: 0 -3em 0 0, 2em -2em 0 0.2em, 3em 0 0 0, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 -1em, -3em 0 0 -1em, -2em -2em 0 -1em;\n                box-shadow: 0 -3em 0 0, 2em -2em 0 0.2em, 3em 0 0 0, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 -1em, -3em 0 0 -1em, -2em -2em 0 -1em;\n      }\n      25% {\n        -webkit-box-shadow: 0 -3em 0 -0.5em, 2em -2em 0 0, 3em 0 0 0.2em, 2em 2em 0 0, 0 3em 0 -1em, -2em 2em 0 -1em, -3em 0 0 -1em, -2em -2em 0 -1em;\n                box-shadow: 0 -3em 0 -0.5em, 2em -2em 0 0, 3em 0 0 0.2em, 2em 2em 0 0, 0 3em 0 -1em, -2em 2em 0 -1em, -3em 0 0 -1em, -2em -2em 0 -1em;\n      }\n      37.5% {\n        -webkit-box-shadow: 0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0em 0 0, 2em 2em 0 0.2em, 0 3em 0 0em, -2em 2em 0 -1em, -3em 0em 0 -1em, -2em -2em 0 -1em;\n                box-shadow: 0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0em 0 0, 2em 2em 0 0.2em, 0 3em 0 0em, -2em 2em 0 -1em, -3em 0em 0 -1em, -2em -2em 0 -1em;\n      }\n      50% {\n        -webkit-box-shadow: 0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 0em, 0 3em 0 0.2em, -2em 2em 0 0, -3em 0em 0 -1em, -2em -2em 0 -1em;\n                box-shadow: 0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 0em, 0 3em 0 0.2em, -2em 2em 0 0, -3em 0em 0 -1em, -2em -2em 0 -1em;\n      }\n      62.5% {\n        -webkit-box-shadow: 0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 0, -2em 2em 0 0.2em, -3em 0 0 0, -2em -2em 0 -1em;\n                box-shadow: 0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 0, -2em 2em 0 0.2em, -3em 0 0 0, -2em -2em 0 -1em;\n      }\n      75% {\n        -webkit-box-shadow: 0em -3em 0 -1em, 2em -2em 0 -1em, 3em 0em 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 0, -3em 0em 0 0.2em, -2em -2em 0 0;\n                box-shadow: 0em -3em 0 -1em, 2em -2em 0 -1em, 3em 0em 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 0, -3em 0em 0 0.2em, -2em -2em 0 0;\n      }\n      87.5% {\n        -webkit-box-shadow: 0em -3em 0 0, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 0, -3em 0em 0 0, -2em -2em 0 0.2em;\n                box-shadow: 0em -3em 0 0, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 0, -3em 0em 0 0, -2em -2em 0 0.2em;\n      }\n    }\n\n    @keyframes load4 {\n      0%,\n      100% {\n        -webkit-box-shadow: 0 -3em 0 0.2em, 2em -2em 0 0em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 -1em, -3em 0 0 -1em, -2em -2em 0 0;\n                box-shadow: 0 -3em 0 0.2em, 2em -2em 0 0em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 -1em, -3em 0 0 -1em, -2em -2em 0 0;\n      }\n      12.5% {\n        -webkit-box-shadow: 0 -3em 0 0, 2em -2em 0 0.2em, 3em 0 0 0, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 -1em, -3em 0 0 -1em, -2em -2em 0 -1em;\n                box-shadow: 0 -3em 0 0, 2em -2em 0 0.2em, 3em 0 0 0, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 -1em, -3em 0 0 -1em, -2em -2em 0 -1em;\n      }\n      25% {\n        -webkit-box-shadow: 0 -3em 0 -0.5em, 2em -2em 0 0, 3em 0 0 0.2em, 2em 2em 0 0, 0 3em 0 -1em, -2em 2em 0 -1em, -3em 0 0 -1em, -2em -2em 0 -1em;\n                box-shadow: 0 -3em 0 -0.5em, 2em -2em 0 0, 3em 0 0 0.2em, 2em 2em 0 0, 0 3em 0 -1em, -2em 2em 0 -1em, -3em 0 0 -1em, -2em -2em 0 -1em;\n      }\n      37.5% {\n        -webkit-box-shadow: 0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0em 0 0, 2em 2em 0 0.2em, 0 3em 0 0em, -2em 2em 0 -1em, -3em 0em 0 -1em, -2em -2em 0 -1em;\n                box-shadow: 0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0em 0 0, 2em 2em 0 0.2em, 0 3em 0 0em, -2em 2em 0 -1em, -3em 0em 0 -1em, -2em -2em 0 -1em;\n      }\n      50% {\n        -webkit-box-shadow: 0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 0em, 0 3em 0 0.2em, -2em 2em 0 0, -3em 0em 0 -1em, -2em -2em 0 -1em;\n                box-shadow: 0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 0em, 0 3em 0 0.2em, -2em 2em 0 0, -3em 0em 0 -1em, -2em -2em 0 -1em;\n      }\n      62.5% {\n        -webkit-box-shadow: 0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 0, -2em 2em 0 0.2em, -3em 0 0 0, -2em -2em 0 -1em;\n                box-shadow: 0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 0, -2em 2em 0 0.2em, -3em 0 0 0, -2em -2em 0 -1em;\n      }\n      75% {\n        -webkit-box-shadow: 0em -3em 0 -1em, 2em -2em 0 -1em, 3em 0em 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 0, -3em 0em 0 0.2em, -2em -2em 0 0;\n                box-shadow: 0em -3em 0 -1em, 2em -2em 0 -1em, 3em 0em 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 0, -3em 0em 0 0.2em, -2em -2em 0 0;\n      }\n      87.5% {\n        -webkit-box-shadow: 0em -3em 0 0, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 0, -3em 0em 0 0, -2em -2em 0 0.2em;\n                box-shadow: 0em -3em 0 0, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 0, -3em 0em 0 0, -2em -2em 0 0.2em;\n      }\n    }\n    /* Taken from https://projects.lukehaas.me/css-loader-barss/ */\n\n    .loader-bars,\n    .loader-bars:before,\n    .loader-bars:after {\n      background: #fefcff;\n      -webkit-animation: load1 1s infinite ease-in-out;\n      animation: load1 1s infinite ease-in-out;\n      width: 1em;\n      height: 4em;\n    }\n    .loader-bars {\n      position: absolute;\n      top: 0;\n      bottom: 0;\n      right: 0;\n      left: 0;\n      color: #fefcff;\n      text-indent: -9999em;\n      margin: auto;\n      font-size: 11px;\n      -webkit-transform: translateZ(0);\n      transform: translateZ(0);\n      -webkit-animation-delay: -0.16s;\n      animation-delay: -0.16s;\n    }\n    .loader-bars:before,\n    .loader-bars:after {\n      position: absolute;\n      top: 0;\n      content: '';\n    }\n    .loader-bars:before {\n      left: -1.5em;\n      -webkit-animation-delay: -0.32s;\n      animation-delay: -0.32s;\n    }\n    .loader-bars:after {\n      left: 1.5em;\n    }\n    @-webkit-keyframes load1 {\n      0%,\n      80%,\n      100% {\n        -webkit-box-shadow: 0 0;\n                box-shadow: 0 0;\n        height: 4em;\n      }\n      40% {\n        -webkit-box-shadow: 0 -2em;\n                box-shadow: 0 -2em;\n        height: 5em;\n      }\n    }\n    @keyframes load1 {\n      0%,\n      80%,\n      100% {\n        -webkit-box-shadow: 0 0;\n                box-shadow: 0 0;\n        height: 4em;\n      }\n      40% {\n        -webkit-box-shadow: 0 -2em;\n                box-shadow: 0 -2em;\n        height: 5em;\n      }\n    }\n    /* Taken from https://projects.lukehaas.me/css-loaders/ */\n\n    .loader-circular,\n    .loader-circular:after {\n      border-radius: 50%;\n      width: 10em;\n      height: 10em;\n    }\n    .loader-circular {\n      position: absolute;\n      top: 0;\n      bottom: 0;\n      right: 0;\n      left: 0;\n      margin: auto;\n      font-size: 10px;\n      text-indent: -9999em;\n      border-top: 1.1em solid rgba(255, 255, 255, 0.2);\n      border-right: 1.1em solid rgba(255, 255, 255, 0.2);\n      border-bottom: 1.1em solid rgba(255, 255, 255, 0.2);\n      border-left: 1.1em solid #ffffff;\n      -webkit-transform: translateZ(0);\n      transform: translateZ(0);\n      -webkit-animation: load8 1.1s infinite linear;\n      animation: load8 1.1s infinite linear;\n    }\n    @-webkit-keyframes load8 {\n      0% {\n        -webkit-transform: rotate(0deg);\n        transform: rotate(0deg);\n      }\n      100% {\n        -webkit-transform: rotate(360deg);\n        transform: rotate(360deg);\n      }\n    }\n    @keyframes load8 {\n      0% {\n        -webkit-transform: rotate(0deg);\n        transform: rotate(0deg);\n      }\n      100% {\n        -webkit-transform: rotate(360deg);\n        transform: rotate(360deg);\n      }\n    }\n    /* Based on https://codepen.io/nikhil8krishnan/pen/dMEzGx */\n\n    .cube-folding {\n      width: 50px;\n      height: 50px;\n      display: inline-block;\n      -webkit-transform: rotate(45deg);\n      transform: rotate(45deg);\n      font-size: 0;\n    }\n    .cube-folding span {\n      position: relative;\n      width: 25px;\n      height: 25px;\n      -webkit-transform: scale(1.1);\n      transform: scale(1.1);\n      display: inline-block;\n    }\n    .cube-folding span::before {\n      content: '';\n      background-color: white;\n      position: absolute;\n      left: 0;\n      top: 0;\n      display: block;\n      width: 25px;\n      height: 25px;\n      -webkit-transform-origin: 100% 100%;\n      transform-origin: 100% 100%;\n      -webkit-animation: folding 2.5s infinite linear both;\n      animation: folding 2.5s infinite linear both;\n    }\n    .cube-folding .leaf2 {\n      -webkit-transform: rotateZ(90deg) scale(1.1);\n      transform: rotateZ(90deg) scale(1.1);\n    }\n    .cube-folding .leaf2::before {\n      -webkit-animation-delay: 0.3s;\n      animation-delay: 0.3s;\n      background-color: #f2f2f2;\n    }\n    .cube-folding .leaf3 {\n      -webkit-transform: rotateZ(270deg) scale(1.1);\n      transform: rotateZ(270deg) scale(1.1);\n    }\n    .cube-folding .leaf3::before {\n      -webkit-animation-delay: 0.9s;\n      animation-delay: 0.9s;\n      background-color: #f2f2f2;\n    }\n    .cube-folding .leaf4 {\n      -webkit-transform: rotateZ(180deg) scale(1.1);\n      transform: rotateZ(180deg) scale(1.1);\n    }\n    .cube-folding .leaf4::before {\n      -webkit-animation-delay: 0.6s;\n      animation-delay: 0.6s;\n      background-color: #e6e6e6;\n    }\n    @-webkit-keyframes folding {\n      0%, 10% {\n        -webkit-transform: perspective(140px) rotateX(-180deg);\n        transform: perspective(140px) rotateX(-180deg);\n        opacity: 0;\n      }\n      25%, 75% {\n        -webkit-transform: perspective(140px) rotateX(0deg);\n        transform: perspective(140px) rotateX(0deg);\n        opacity: 1;\n      }\n      90%, 100% {\n        -webkit-transform: perspective(140px) rotateY(180deg);\n        transform: perspective(140px) rotateY(180deg);\n        opacity: 0;\n      }\n    }\n    @keyframes folding {\n      0%, 10% {\n        -webkit-transform: perspective(140px) rotateX(-180deg);\n        transform: perspective(140px) rotateX(-180deg);\n        opacity: 0;\n      }\n      25%, 75% {\n        -webkit-transform: perspective(140px) rotateX(0deg);\n        transform: perspective(140px) rotateX(0deg);\n        opacity: 1;\n      }\n      90%, 100% {\n        -webkit-transform: perspective(140px) rotateY(180deg);\n        transform: perspective(140px) rotateY(180deg);\n        opacity: 0;\n      }\n    }\n    .cube-wrapper {\n      position: fixed;\n      left: 50%;\n      top: 50%;\n      margin-top: -50px;\n      margin-left: -50px;\n      width: 100px;\n      height: 100px;\n      text-align: center;\n    }\n    @-webkit-keyframes text {\n      100% {\n        top: 35px;\n      }\n    }\n    @keyframes text {\n      100% {\n        top: 35px;\n      }\n    }\n    @-webkit-keyframes shadow {\n      100% {\n        bottom: -18px;\n        width: 100px;\n      }\n    }\n    @keyframes shadow {\n      100% {\n        bottom: -18px;\n        width: 100px;\n      }\n    }\n    /* Taken from https://codepen.io/WebSonata/pen/bRaONB */\n\n    #preloader {\n      position: fixed;\n      top: 0;\n      left: 0;\n      width: 100%;\n      height: 100%;\n    }\n    #loader {\n      display: block;\n      position: relative;\n      left: 50%;\n      top: 50%;\n      width: 100px;\n      height: 100px;\n      margin: -75px 0 0 -75px;\n      border-radius: 50%;\n      border: 3px solid transparent;\n      border-top-color: #B4B4B4;\n      -webkit-animation: spin 2s linear infinite;\n      animation: spin 2s linear infinite;\n    }\n    #loader:before {\n      content: \"\";\n      position: absolute;\n      top: 5px;\n      left: 5px;\n      right: 5px;\n      bottom: 5px;\n      border-radius: 50%;\n      border: 3px solid transparent;\n      border-top-color: #D9D9D9;\n      -webkit-animation: spin 3s linear infinite;\n      animation: spin 3s linear infinite;\n    }\n    #loader:after {\n      content: \"\";\n      position: absolute;\n      top: 15px;\n      left: 15px;\n      right: 15px;\n      bottom: 15px;\n      border-radius: 50%;\n      border: 3px solid transparent;\n      border-top-color: #FFF;\n      -webkit-animation: spin 1.5s linear infinite;\n      animation: spin 1.5s linear infinite;\n    }\n    @-webkit-keyframes spin {\n      0%   {\n        -webkit-transform: rotate(0deg);\n        transform: rotate(0deg);\n      }\n      100% {\n        -webkit-transform: rotate(360deg);\n        transform: rotate(360deg);\n      }\n    }\n    @keyframes spin {\n      0%   {\n        -webkit-transform: rotate(0deg);\n        transform: rotate(0deg);\n      }\n      100% {\n        -webkit-transform: rotate(360deg);\n        transform: rotate(360deg);\n      }\n    }\n    /* Taken from https://codepen.io/WebSonata/pen/bRaONB */\n    @-webkit-keyframes loader {\n      0%, 10%, 100% {\n        width: 60px;\n        height: 60px; }\n      65% {\n        width: 150px;\n        height: 150px; } }\n    @keyframes loader {\n      0%, 10%, 100% {\n        width: 60px;\n        height: 60px; }\n      65% {\n        width: 150px;\n        height: 150px; } }\n\n    @-webkit-keyframes loaderBlock {\n      0%, 30% {\n        -webkit-transform: rotate(0);\n                transform: rotate(0); }\n      55% {\n        background-color: #B4B4B4; }\n      100% {\n        -webkit-transform: rotate(90deg);\n                transform: rotate(90deg); } }\n\n    @keyframes loaderBlock {\n      0%, 30% {\n        -webkit-transform: rotate(0);\n                transform: rotate(0); }\n      55% {\n        background-color: #B4B4B4; }\n      100% {\n        -webkit-transform: rotate(90deg);\n                transform: rotate(90deg); } }\n\n    @-webkit-keyframes loaderBlockInverse {\n      0%, 20% {\n        -webkit-transform: rotate(0);\n                transform: rotate(0); }\n      55% {\n        background-color: #D9D9D9; }\n      100% {\n        -webkit-transform: rotate(-90deg);\n                transform: rotate(-90deg); } }\n\n    @keyframes loaderBlockInverse {\n      0%, 20% {\n        -webkit-transform: rotate(0);\n                transform: rotate(0); }\n      55% {\n        background-color: #D9D9D9; }\n      100% {\n        -webkit-transform: rotate(-90deg);\n                transform: rotate(-90deg); } }\n\n    .loader {\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      width: 60px;\n      height: 60px;\n      -webkit-transform: translate(-50%, -50%) rotate(45deg) translate3d(0, 0, 0);\n              transform: translate(-50%, -50%) rotate(45deg) translate3d(0, 0, 0);\n      -webkit-animation: loader 1.2s infinite ease-in-out;\n              animation: loader 1.2s infinite ease-in-out; }\n      .loader span {\n        position: absolute;\n        display: block;\n        width: 40px;\n        height: 40px;\n        background-color: #FFF;\n        -webkit-animation: loaderBlock 1.2s infinite ease-in-out both;\n                animation: loaderBlock 1.2s infinite ease-in-out both; }\n        .loader span:nth-child(1) {\n          top: 0;\n          left: 0; }\n        .loader span:nth-child(2) {\n          top: 0;\n          right: 0;\n          -webkit-animation: loaderBlockInverse 1.2s infinite ease-in-out both;\n                  animation: loaderBlockInverse 1.2s infinite ease-in-out both; }\n        .loader span:nth-child(3) {\n          bottom: 0;\n          left: 0;\n          -webkit-animation: loaderBlockInverse 1.2s infinite ease-in-out both;\n                  animation: loaderBlockInverse 1.2s infinite ease-in-out both; }\n        .loader span:nth-child(4) {\n          bottom: 0;\n          right: 0; }\n  "],template:'\n    <div [attr.aria-label]="accessibilityConfig?.loadingSpinnerAriaLabel"\n         [title]="accessibilityConfig?.loadingSpinnerTitle">\n\n      <ng-container [ngSwitch]="loadingConfig.type">\n        <ng-container *ngSwitchCase="loadingStandard">\n          <div class="cssload-loader">\n            <div class="cssload-inner cssload-one"></div>\n            <div class="cssload-inner cssload-two"></div>\n            <div class="cssload-inner cssload-three"></div>\n          </div>\n        </ng-container>\n        <ng-container *ngSwitchCase="loadingBars">\n          <div class="loader-bars">\n          </div>\n        </ng-container>\n        <ng-container *ngSwitchCase="loadingCircular">\n          <div class="loader-circular">\n          </div>\n        </ng-container>\n        <ng-container *ngSwitchCase="loadingDots">\n          <div class="loader-dots">\n          </div>\n        </ng-container>\n        <ng-container *ngSwitchCase="loadingCubeFlipping">\n          <div class="cube-wrapper">\n            <div class="cube-folding">\n              <span class="leaf1"></span>\n              <span class="leaf2"></span>\n              <span class="leaf3"></span>\n              <span class="leaf4"></span>\n            </div>\n          </div>\n        </ng-container>\n        <ng-container *ngSwitchCase="loadingCircles">\n          <div id="preloader">\n            <div id="loader"></div>\n          </div>\n        </ng-container>\n        <ng-container *ngSwitchCase="loadingExplosingSquares">\n          <div class="loader">\n            <span></span>\n            <span></span>\n            <span></span>\n            <span></span>\n          </div>\n        </ng-container>\n        \x3c!--<ng-container *ngSwitchDefault>--\x3e\n        \x3c!----\x3e\n        \x3c!--</ng-container>--\x3e\n      </ng-container>\n    </div>\n  ',changeDetection:o.ChangeDetectionStrategy.OnPush}]}],H.ctorParameters=function(){return[]},H.propDecorators={loadingConfig:[{type:o.Input}],accessibilityConfig:[{type:o.Input}]};var Q=function(){function e(){this.show=new o.EventEmitter,this.imageGrid=[],this.wrapStyle=!1,this.widthStyle="",this.defaultSize={width:"50px",height:"auto"},this.defaultLayout=new j(this.defaultSize,{length:-1,wrap:!1},"flex-start"),this.defaultPlainConfig={strategy:z.ROW,layout:this.defaultLayout,advanced:{aTags:!1,additionalBackground:"50% 50%/cover"}}}return e.prototype.ngOnInit=function(){this.configPlainGallery=this.initPlainGalleryConfig(),this.initImageGrid()},e.prototype.ngOnChanges=function(e){var t=e.images,n=e.plainGalleryConfig;!n||n.firstChange||n.previousValue===n.currentValue&&(n.previousValue||n.currentValue)||(this.configPlainGallery=this.initPlainGalleryConfig()),t&&!t.firstChange&&t.previousValue!==t.currentValue&&this.initImageGrid()},e.prototype.showModalGallery=function(e){this.show.emit(e)},e.prototype.showModalGalleryByImage=function(t){var e=this.images.findIndex(function(e){return e&&t&&e.id===t.id});this.showModalGallery(e)},e.prototype.getAltPlainDescriptionByImage=function(e){return e?e.plain&&e.plain.description?e.plain.description:"Image "+(C(e,this.images)+1):""},e.prototype.getTitleDisplay=function(e){var t="";e.plain&&e.plain.description?t=e.plain.description:e.modal&&e.modal.description&&(t=e.modal.description);var n=t||"";return""!==n&&(n=" - "+n),"Image "+(C(e,this.images)+1)+"/"+this.images.length+n},e.prototype.trackById=function(e,t){return t.id},e.prototype.initPlainGalleryConfig=function(){var e=Object.assign({},this.defaultPlainConfig,this.plainGalleryConfig);if(e.layout instanceof j){if(e.strategy!==z.ROW&&e.strategy!==z.COLUMN)throw new Error("LineLayout requires either ROW or COLUMN strategy");if(!e.layout||!e.layout.breakConfig)throw new Error("Both layout and breakConfig must be valid")}if(e.layout instanceof D){if(e.strategy!==z.GRID)throw new Error("GridLayout requires GRID strategy");if(!e.layout||!e.layout.breakConfig)throw new Error("Both layout and breakConfig must be valid");e.layout.breakConfig.wrap=!0}if(e.layout instanceof N&&e.strategy!==z.CUSTOM)throw new Error("AdvancedLayout requires CUSTOM strategy");return e},e.prototype.initImageGrid=function(){var e=this.configPlainGallery;if(this.imageGrid=[],e.layout instanceof j){var n=e.layout,t=this.images.filter(function(e,t){return t<n.breakConfig.length||-1===n.breakConfig.length});switch(this.imageGrid=[t],this.size=e.layout.size,e.strategy){case z.ROW:this.directionStyle="row";break;case z.COLUMN:this.directionStyle="column",this.wrapStyle=n.breakConfig.wrap}this.justifyStyle=n.justify}if(e.layout instanceof D){for(var i=e.layout,a=Math.ceil(this.images.length/i.breakConfig.length),o=0,r=i.breakConfig.length-1,s=0;s<a;s++){t=this.images.filter(function(e,t){return o<=t&&t<=r});this.imageGrid.push(t),r=(o=r+1)+i.breakConfig.length-1}this.size=e.layout.size;var l=+i.size.width.replace("px","");this.widthStyle=l*i.breakConfig.length+l/2+"px",this.wrapStyle=i.breakConfig.wrap,this.directionStyle="row"}e.layout instanceof N&&(this.imageGrid=[this.images])},e}();Q.decorators=[{type:o.Component,args:[{selector:"ks-plain-gallery",styles:["\n    .plain-container {\n      -webkit-box-align: center;\n              align-items: center;\n      display: -webkit-box;\n      display: flex; }\n      .plain-container .image {\n        cursor: pointer;\n        height: auto;\n        margin-left: 2px;\n        margin-right: 2px;\n        width: 50px; }\n      .plain-container .a-tag-image {\n        cursor: pointer;\n        margin-left: 2px;\n        margin-right: 2px; }\n  "],template:'\n    <div *ngIf="showGallery"\n         class="plain-container"\n         ksWrap [wrap]="wrapStyle" [width]="widthStyle"\n         ksDirection [direction]="directionStyle" [justify]="justifyStyle"\n         [attr.aria-label]="accessibilityConfig?.plainGalleryContentAriaLabel"\n         [title]="accessibilityConfig?.plainGalleryContentTitle">\n\n      <ng-container *ngFor="let imgRow of imageGrid; let i = index">\n        <ng-container *ngFor="let imgCol of imgRow; let j = index">\n\n          <ng-container *ngIf="!configPlainGallery.advanced?.aTags; else aTags">\n            <img *ngIf="imgCol?.modal?.img"\n                 [src]="imgCol.plain?.img ? imgCol.plain.img : imgCol.modal.img"\n                 class="image"\n                 ksSize [sizeConfig]="{width: size?.width, height: size?.height}"\n                 [attr.aria-label]="imgCol.plain?.ariaLabel"\n                 [title]="imgCol.plain?.title ? imgCol.plain.title : getTitleDisplay(imgCol)"\n                 alt="{{imgCol.plain?.alt ? imgCol.plain.alt : getAltPlainDescriptionByImage(imgCol)}}"\n                 [tabindex]="0" role="img"\n                 (click)="showModalGalleryByImage(imgCol)" (keyup)="showModalGalleryByImage(imgCol)"/>\n          </ng-container>\n\n          \x3c!-- Add directive to set background with the image url as param to pass thumb or img--\x3e\n          \x3c!-- to do something like this <a style="background: url(\'path to image\') 50% 50%/cover">.--\x3e\n          <ng-template #aTags>\n            <a *ngIf="imgCol?.modal?.img"\n               class="a-tag-image"\n               ksATagBgImage [image]="imgCol" [style]="configPlainGallery.advanced?.additionalBackground"\n               ksSize [sizeConfig]="{width: size?.width, height: size?.height}"\n               [attr.aria-label]="imgCol.plain?.ariaLabel"\n               [title]="imgCol.plain?.title ? imgCol.plain.title : getTitleDisplay(imgCol)"\n               [tabindex]="0"\n               (click)="showModalGallery(j)" (keyup)="showModalGallery(j)"></a>\n          </ng-template>\n\n        </ng-container>\n      </ng-container>\n\n    </div>\n  ',changeDetection:o.ChangeDetectionStrategy.OnPush}]}],Q.ctorParameters=function(){return[]},Q.propDecorators={images:[{type:o.Input}],showGallery:[{type:o.Input}],plainGalleryConfig:[{type:o.Input}],accessibilityConfig:[{type:o.Input}],show:[{type:o.Output}]};var V=[p,Q,P,U,R,W,k,H,M],F=function(){function t(){}return t.forRoot=function(e){return{ngModule:t,providers:[{provide:w,useValue:e||{}},{provide:f,useFactory:_,deps:[w]},{provide:b,useFactory:X}]}},t}();function _(e){return new f(e)}function X(){return new b}F.decorators=[{type:o.NgModule,args:[{imports:[a.CommonModule],declarations:[V,d],exports:[P]}]}],F.ctorParameters=function(){return[]},e.ModalGalleryModule=F,e.Action=h,e.Image=u,e.ImageModalEvent=y,e.DescriptionStrategy=I,e.ButtonsStrategy=T,e.ButtonType=E,e.GalleryService=b,e.KS_DEFAULT_ACCESSIBILITY_CONFIG=S,e.KS_DEFAULT_BTN_CLOSE=G,e.KS_DEFAULT_BTN_DELETE=Y,e.KS_DEFAULT_BTN_DOWNLOAD=Z,e.KS_DEFAULT_BTN_EXTURL=B,e.KS_DEFAULT_SIZE=A,e.LineLayout=j,e.GridLayout=D,e.AdvancedLayout=N,e.PlainGalleryStrategy=z,e.h=M,e.e=p,e.c=V,e.g=k,e.o=H,e.m=R,e.d=P,e.f=Q,e.n=W,e.l=U,e.v=c,e.q=n,e.w=g,e.u=m,e.p=d,e.s=s,e.r=r,e.t=l,e.b=X,e.a=_,e.i=w,e.j=f,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=angular-modal-gallery.umd.min.js.map
